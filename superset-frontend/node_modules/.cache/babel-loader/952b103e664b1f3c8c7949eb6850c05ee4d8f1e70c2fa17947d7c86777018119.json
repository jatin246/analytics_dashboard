{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * License); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useRef } from 'react';\nimport AntTable from 'antd/lib/table';\nimport ConfigProvider from 'antd/lib/config-provider';\nimport { t, useTheme, logging, styled } from '@superset-ui/core';\nimport Loading from 'src/components/Loading';\nimport InteractiveTableUtils from './utils/InteractiveTableUtils';\nimport VirtualTable from './VirtualTable';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nexport const SUPERSET_TABLE_COLUMN = 'superset/table-column';\nexport var SelectionType;\n(function (SelectionType) {\n  SelectionType[\"Disabled\"] = \"disabled\";\n  SelectionType[\"Single\"] = \"single\";\n  SelectionType[\"Multi\"] = \"multi\";\n})(SelectionType || (SelectionType = {}));\nexport var ETableAction;\n(function (ETableAction) {\n  ETableAction[\"Paginate\"] = \"paginate\";\n  ETableAction[\"Sort\"] = \"sort\";\n  ETableAction[\"Filter\"] = \"filter\";\n})(ETableAction || (ETableAction = {}));\nexport var TableSize;\n(function (TableSize) {\n  TableSize[\"Small\"] = \"small\";\n  TableSize[\"Middle\"] = \"middle\";\n})(TableSize || (TableSize = {}));\nconst defaultRowSelection = [];\nconst PAGINATION_HEIGHT = 40;\nconst HEADER_HEIGHT = 68;\nconst StyledTable = styled(AntTable)(({ theme, height }) => `\n    .ant-table-body {\n      overflow: auto;\n      height: ${height ? `${height}px` : undefined};\n    }\n\n    th.ant-table-cell {\n      font-weight: ${theme.typography.weights.bold};\n      color: ${theme.colors.grayscale.dark1};\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .ant-table-tbody > tr > td {\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      border-bottom: 1px solid ${theme.colors.grayscale.light3};\n    }\n\n    .ant-pagination-item-active {\n      border-color: ${theme.colors.primary.base};\n    }\n\n    .ant-table.ant-table-small {\n      font-size: ${theme.typography.sizes.s}px;\n    }\n  `);\nconst StyledVirtualTable = styled(VirtualTable)(({ theme }) => `\n  .virtual-table .ant-table-container:before,\n  .virtual-table .ant-table-container:after {\n    display: none;\n  }\n  .virtual-table-cell {\n    box-sizing: border-box;\n    padding: ${theme.gridUnit * 4}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`);\nconst defaultLocale = {\n  filterTitle: t('Filter menu'),\n  filterConfirm: t('OK'),\n  filterReset: t('Reset'),\n  filterEmptyText: t('No filters'),\n  filterCheckall: t('Select all items'),\n  filterSearchPlaceholder: t('Search in filters'),\n  emptyText: t('No data'),\n  selectAll: t('Select current page'),\n  selectInvert: t('Invert current page'),\n  selectNone: t('Clear all data'),\n  selectionAll: t('Select all data'),\n  sortTitle: t('Sort'),\n  expand: t('Expand row'),\n  collapse: t('Collapse row'),\n  triggerDesc: t('Click to sort descending'),\n  triggerAsc: t('Click to sort ascending'),\n  cancelSort: t('Click to cancel sorting')\n};\nconst selectionMap = {};\nconst noop = () => {};\nselectionMap[SelectionType.Multi] = 'checkbox';\nselectionMap[SelectionType.Single] = 'radio';\nselectionMap[SelectionType.Disabled] = null;\nexport function Table(props) {\n  const { data, bordered, columns, selectedRows = defaultRowSelection, handleRowSelection, size = TableSize.Small, selectionType = SelectionType.Disabled, sticky = true, loading = false, resizable = false, reorderable = false, usePagination = true, defaultPageSize = 15, pageSizeOptions = ['5', '15', '25', '50', '100'], hideData = false, emptyComponent, locale, height, virtualize = false, onChange = noop, recordCount, onRow, allowHTML = false, childrenColumnName } = props;\n  const wrapperRef = useRef(null);\n  const [derivedColumns, setDerivedColumns] = useState(columns);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n  const [mergedLocale, setMergedLocale] = useState({ ...defaultLocale });\n  const [selectedRowKeys, setSelectedRowKeys] = useState(selectedRows);\n  const interactiveTableUtils = useRef(null);\n  const onSelectChange = (newSelectedRowKeys) => {\n    setSelectedRowKeys(newSelectedRowKeys);\n    handleRowSelection == null ? void 0 : handleRowSelection(newSelectedRowKeys);\n  };\n  const selectionTypeValue = selectionMap[selectionType];\n  const rowSelection = {\n    type: selectionTypeValue,\n    selectedRowKeys,\n    onChange: onSelectChange\n  };\n  const renderEmpty = () => emptyComponent != null ? emptyComponent : _jsx(\"div\", { children: mergedLocale.emptyText });\n  // Log use of experimental features\n  useEffect(() => {\n    if (reorderable === true) {\n      logging.warn('EXPERIMENTAL FEATURE ENABLED: The \"reorderable\" prop of Table is experimental and NOT recommended for use in production deployments.');\n    }\n    if (resizable === true) {\n      logging.warn('EXPERIMENTAL FEATURE ENABLED: The \"resizable\" prop of Table is experimental and NOT recommended for use in production deployments.');\n    }\n  }, [reorderable, resizable]);\n  useEffect(() => {\n    let updatedLocale;\n    if (locale) {\n      // This spread allows for locale to only contain a subset of locale overrides on props\n      updatedLocale = { ...defaultLocale, ...locale };\n    } else\n    {\n      updatedLocale = { ...defaultLocale };\n    }\n    setMergedLocale(updatedLocale);\n  }, [locale]);\n  useEffect(() => setDerivedColumns(columns), [columns]);\n  useEffect(() => {var _wrapperRef$current;\n    if (interactiveTableUtils.current) {var _interactiveTableUtil;\n      (_interactiveTableUtil = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil.clearListeners();\n    }\n    const table = (_wrapperRef$current = wrapperRef.current) == null ? void 0 : _wrapperRef$current.getElementsByTagName('table')[0];\n    if (table) {\n      interactiveTableUtils.current = new InteractiveTableUtils(table, derivedColumns, setDerivedColumns);\n      if (reorderable) {var _interactiveTableUtil2;\n        interactiveTableUtils == null ? void 0 : (_interactiveTableUtil2 = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil2.initializeDragDropColumns(reorderable, table);\n      }\n      if (resizable) {var _interactiveTableUtil3;\n        interactiveTableUtils == null ? void 0 : (_interactiveTableUtil3 = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil3.initializeResizableColumns(resizable, table);\n      }\n    }\n    return () => {var _interactiveTableUtil4;\n      interactiveTableUtils == null ? void 0 : (_interactiveTableUtil4 = interactiveTableUtils.current) == null ? void 0 : _interactiveTableUtil4.clearListeners == null ? void 0 : _interactiveTableUtil4.clearListeners();\n    };\n    /**\n     * We DO NOT want this effect to trigger when derivedColumns changes as it will break functionality\n     * The exclusion from the effect dependencies is intentional and should not be modified\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [wrapperRef, reorderable, resizable, virtualize, interactiveTableUtils]);\n  const theme = useTheme();\n  const paginationSettings = usePagination ?\n  {\n    hideOnSinglePage: true,\n    pageSize,\n    pageSizeOptions,\n    onShowSizeChange: (page, size) => setPageSize(size)\n  } :\n  false;\n  /**\n   * When recordCount is provided it lets the user of Table control total number of pages\n   * independent from data.length.  This allows the parent component do things like server side paging\n   * where the user can be shown the total mount of data they can page through, but the component can provide\n   * data one page at a time, and respond to the onPageChange event to fetch and set new data\n   */\n  if (paginationSettings && recordCount) {\n    paginationSettings.total = recordCount;\n  }\n  let bodyHeight = height;\n  if (bodyHeight) {\n    bodyHeight -= HEADER_HEIGHT;\n    const hasPagination = usePagination && recordCount && recordCount > pageSize;\n    if (hasPagination) {\n      bodyHeight -= PAGINATION_HEIGHT;\n    }\n  }\n  const sharedProps = {\n    loading: { spinning: loading != null ? loading : false, indicator: _jsx(Loading, {}) },\n    hasData: hideData ? false : data,\n    columns: derivedColumns,\n    dataSource: hideData ? undefined : data,\n    size,\n    pagination: paginationSettings,\n    locale: mergedLocale,\n    showSorterTooltip: false,\n    onChange,\n    onRow,\n    theme,\n    height: bodyHeight,\n    bordered,\n    expandable: {\n      childrenColumnName\n    }\n  };\n  return _jsx(ConfigProvider, { renderEmpty: renderEmpty, children:\n    _jsxs(\"div\", { ref: wrapperRef, children: [\n      !virtualize && _jsx(StyledTable, { ...sharedProps, rowSelection: selectionTypeValue ? rowSelection : undefined, sticky: sticky }),\n      virtualize && _jsx(StyledVirtualTable, { ...sharedProps, scroll: {\n          y: 300,\n          x: '100vw',\n          // To avoid jest failure by scrollTo\n          ...(process.env.WEBPACK_MODE === 'test' && {\n            scrollToFirstRowOnChange: false\n          })\n        }, allowHTML: allowHTML })] }\n    ) }\n  );\n}__signature__(Table, \"useRef{wrapperRef}\\nuseState{[derivedColumns, setDerivedColumns](columns)}\\nuseState{[pageSize, setPageSize](defaultPageSize)}\\nuseState{[mergedLocale, setMergedLocale]({ ...defaultLocale })}\\nuseState{[selectedRowKeys, setSelectedRowKeys](selectedRows)}\\nuseRef{interactiveTableUtils}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\\nuseTheme{theme}\", () => [useTheme]);const _default =\nTable;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SUPERSET_TABLE_COLUMN, \"SUPERSET_TABLE_COLUMN\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(SelectionType, \"SelectionType\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(ETableAction, \"ETableAction\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(TableSize, \"TableSize\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(defaultRowSelection, \"defaultRowSelection\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(PAGINATION_HEIGHT, \"PAGINATION_HEIGHT\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(HEADER_HEIGHT, \"HEADER_HEIGHT\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(StyledTable, \"StyledTable\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(StyledVirtualTable, \"StyledVirtualTable\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(defaultLocale, \"defaultLocale\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(selectionMap, \"selectionMap\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(noop, \"noop\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(Table, \"Table\", \"/app/superset-frontend/src/components/Table/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/components/Table/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useState","useEffect","useRef","AntTable","ConfigProvider","t","useTheme","logging","styled","Loading","InteractiveTableUtils","VirtualTable","jsx","_jsx","jsxs","_jsxs","SUPERSET_TABLE_COLUMN","SelectionType","ETableAction","TableSize","defaultRowSelection","PAGINATION_HEIGHT","HEADER_HEIGHT","StyledTable","theme","height","undefined","typography","weights","bold","colors","grayscale","dark1","light3","primary","base","sizes","s","StyledVirtualTable","gridUnit","defaultLocale","filterTitle","filterConfirm","filterReset","filterEmptyText","filterCheckall","filterSearchPlaceholder","emptyText","selectAll","selectInvert","selectNone","selectionAll","sortTitle","expand","collapse","triggerDesc","triggerAsc","cancelSort","selectionMap","noop","Multi","Single","Disabled","Table","props","data","bordered","columns","selectedRows","handleRowSelection","size","Small","selectionType","sticky","loading","resizable","reorderable","usePagination","defaultPageSize","pageSizeOptions","hideData","emptyComponent","locale","virtualize","onChange","recordCount","onRow","allowHTML","childrenColumnName","wrapperRef","derivedColumns","setDerivedColumns","pageSize","setPageSize","mergedLocale","setMergedLocale","selectedRowKeys","setSelectedRowKeys","interactiveTableUtils","onSelectChange","newSelectedRowKeys","selectionTypeValue","rowSelection","type","renderEmpty","children","warn","updatedLocale","_wrapperRef$current","current","_interactiveTableUtil","clearListeners","table","getElementsByTagName","_interactiveTableUtil2","initializeDragDropColumns","_interactiveTableUtil3","initializeResizableColumns","_interactiveTableUtil4","paginationSettings","hideOnSinglePage","onShowSizeChange","page","total","bodyHeight","hasPagination","sharedProps","spinning","indicator","hasData","dataSource","pagination","showSorterTooltip","expandable","ref","scroll","y","x","process","env","WEBPACK_MODE","scrollToFirstRowOnChange","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/app/superset-frontend/src/components/Table/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * License); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useRef, ReactElement, Key } from 'react';\n\nimport AntTable, {\n  ColumnsType,\n  TableProps as AntTableProps,\n} from 'antd/lib/table';\nimport ConfigProvider from 'antd/lib/config-provider';\nimport { PaginationProps } from 'antd/lib/pagination';\nimport { t, useTheme, logging, styled } from '@superset-ui/core';\nimport Loading from 'src/components/Loading';\nimport InteractiveTableUtils from './utils/InteractiveTableUtils';\nimport VirtualTable from './VirtualTable';\n\nexport const SUPERSET_TABLE_COLUMN = 'superset/table-column';\n\nexport enum SelectionType {\n  Disabled = 'disabled',\n  Single = 'single',\n  Multi = 'multi',\n}\n\nexport type SortOrder = 'descend' | 'ascend' | null;\n\nexport enum ETableAction {\n  Paginate = 'paginate',\n  Sort = 'sort',\n  Filter = 'filter',\n}\n\nexport type { ColumnsType };\nexport type OnChangeFunction<RecordType> =\n  AntTableProps<RecordType>['onChange'];\n\nexport enum TableSize {\n  Small = 'small',\n  Middle = 'middle',\n}\n\nexport interface TableProps<RecordType> {\n  /**\n   * Data that will populate the each row and map to the column key.\n   */\n  data: RecordType[];\n  /**\n   * Whether to show all table borders\n   */\n  bordered?: boolean;\n  /**\n   * Table column definitions.\n   */\n  columns: ColumnsType<RecordType>;\n  /**\n   * Array of row keys to represent list of selected rows.\n   */\n  selectedRows?: Key[];\n  /**\n   * Callback function invoked when a row is selected by user.\n   */\n  handleRowSelection?: (newSelectedRowKeys: Key[]) => void;\n  /**\n   * Controls the size of the table.\n   */\n  size: TableSize;\n  /**\n   * Controls if table rows are selectable and if multiple select is supported.\n   */\n  selectionType?: SelectionType;\n  /*\n   * Places table in visual loading state.  Use while waiting to retrieve data or perform an async operation that will update the table.\n   */\n  loading?: boolean;\n  /**\n   * Uses a sticky header which always displays when vertically scrolling the table.  Default: true\n   */\n  sticky?: boolean;\n  /**\n   * Controls if columns are resizable by user.\n   */\n  resizable?: boolean;\n  /**\n   * EXPERIMENTAL: Controls if columns are re-orderable by user drag drop.\n   */\n  reorderable?: boolean;\n  /**\n   * Controls if pagination is active or disabled.\n   */\n  usePagination?: boolean;\n  /**\n   * Default number of rows table will display per page of data.\n   */\n  defaultPageSize?: number;\n  /**\n   * Array of numeric options for the number of rows table will display per page of data.\n   * The user can select from these options in the page size drop down menu.\n   */\n  pageSizeOptions?: string[];\n  /**\n   * Set table to display no data even if data has been provided\n   */\n  hideData?: boolean;\n  /**\n   * emptyComponent\n   */\n  emptyComponent?: ReactElement;\n  /**\n   * Enables setting the text displayed in various components and tooltips within the Table UI.\n   */\n  locale?: Partial<AntTableProps<RecordType>['locale']>;\n  /**\n   * Restricts the visible height of the table and allows for internal scrolling within the table\n   * when the number of rows exceeds the visible space.\n   */\n  height?: number;\n  /**\n   * Sets the table to use react-window for scroll virtualization in cases where\n   * there are unknown amount of columns, or many, many rows\n   */\n  virtualize?: boolean;\n  /**\n   * Used to override page controls total record count when using server-side paging.\n   */\n  recordCount?: number;\n  /**\n   * Invoked when the tables sorting, paging, or filtering is changed.\n   */\n  onChange?: OnChangeFunction<RecordType>;\n  /**\n   * Returns props that should be applied to each row component.\n   */\n  onRow?: AntTableProps<RecordType>['onRow'];\n  /**\n   * Will render html safely if set to true, anchor tags and such. Currently\n   * only supported for virtualize == true\n   */\n  allowHTML?: boolean;\n\n  /**\n   * The column that contains children to display.\n   * Check https://ant.design/components/table#table for more details.\n   */\n  childrenColumnName?: string;\n}\n\nconst defaultRowSelection: Key[] = [];\n\nconst PAGINATION_HEIGHT = 40;\nconst HEADER_HEIGHT = 68;\n\nconst StyledTable = styled(AntTable)<{ height?: number }>(\n  ({ theme, height }) => `\n    .ant-table-body {\n      overflow: auto;\n      height: ${height ? `${height}px` : undefined};\n    }\n\n    th.ant-table-cell {\n      font-weight: ${theme.typography.weights.bold};\n      color: ${theme.colors.grayscale.dark1};\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    .ant-table-tbody > tr > td {\n      user-select: none;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      border-bottom: 1px solid ${theme.colors.grayscale.light3};\n    }\n\n    .ant-pagination-item-active {\n      border-color: ${theme.colors.primary.base};\n    }\n\n    .ant-table.ant-table-small {\n      font-size: ${theme.typography.sizes.s}px;\n    }\n  `,\n);\nconst StyledVirtualTable = styled(VirtualTable)(\n  ({ theme }) => `\n  .virtual-table .ant-table-container:before,\n  .virtual-table .ant-table-container:after {\n    display: none;\n  }\n  .virtual-table-cell {\n    box-sizing: border-box;\n    padding: ${theme.gridUnit * 4}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`,\n);\n\nconst defaultLocale = {\n  filterTitle: t('Filter menu'),\n  filterConfirm: t('OK'),\n  filterReset: t('Reset'),\n  filterEmptyText: t('No filters'),\n  filterCheckall: t('Select all items'),\n  filterSearchPlaceholder: t('Search in filters'),\n  emptyText: t('No data'),\n  selectAll: t('Select current page'),\n  selectInvert: t('Invert current page'),\n  selectNone: t('Clear all data'),\n  selectionAll: t('Select all data'),\n  sortTitle: t('Sort'),\n  expand: t('Expand row'),\n  collapse: t('Collapse row'),\n  triggerDesc: t('Click to sort descending'),\n  triggerAsc: t('Click to sort ascending'),\n  cancelSort: t('Click to cancel sorting'),\n};\n\nconst selectionMap = {};\nconst noop = () => {};\nselectionMap[SelectionType.Multi] = 'checkbox';\nselectionMap[SelectionType.Single] = 'radio';\nselectionMap[SelectionType.Disabled] = null;\n\nexport function Table<RecordType extends object>(\n  props: TableProps<RecordType>,\n) {\n  const {\n    data,\n    bordered,\n    columns,\n    selectedRows = defaultRowSelection,\n    handleRowSelection,\n    size = TableSize.Small,\n    selectionType = SelectionType.Disabled,\n    sticky = true,\n    loading = false,\n    resizable = false,\n    reorderable = false,\n    usePagination = true,\n    defaultPageSize = 15,\n    pageSizeOptions = ['5', '15', '25', '50', '100'],\n    hideData = false,\n    emptyComponent,\n    locale,\n    height,\n    virtualize = false,\n    onChange = noop,\n    recordCount,\n    onRow,\n    allowHTML = false,\n    childrenColumnName,\n  } = props;\n\n  const wrapperRef = useRef<HTMLDivElement | null>(null);\n  const [derivedColumns, setDerivedColumns] = useState(columns);\n  const [pageSize, setPageSize] = useState(defaultPageSize);\n  const [mergedLocale, setMergedLocale] = useState<\n    Required<AntTableProps<RecordType>>['locale']\n  >({ ...defaultLocale });\n  const [selectedRowKeys, setSelectedRowKeys] = useState<Key[]>(selectedRows);\n  const interactiveTableUtils = useRef<InteractiveTableUtils | null>(null);\n\n  const onSelectChange = (newSelectedRowKeys: Key[]) => {\n    setSelectedRowKeys(newSelectedRowKeys);\n    handleRowSelection?.(newSelectedRowKeys);\n  };\n\n  const selectionTypeValue = selectionMap[selectionType];\n  const rowSelection = {\n    type: selectionTypeValue,\n    selectedRowKeys,\n    onChange: onSelectChange,\n  };\n\n  const renderEmpty = () =>\n    emptyComponent ?? <div>{mergedLocale.emptyText}</div>;\n\n  // Log use of experimental features\n  useEffect(() => {\n    if (reorderable === true) {\n      logging.warn(\n        'EXPERIMENTAL FEATURE ENABLED: The \"reorderable\" prop of Table is experimental and NOT recommended for use in production deployments.',\n      );\n    }\n    if (resizable === true) {\n      logging.warn(\n        'EXPERIMENTAL FEATURE ENABLED: The \"resizable\" prop of Table is experimental and NOT recommended for use in production deployments.',\n      );\n    }\n  }, [reorderable, resizable]);\n\n  useEffect(() => {\n    let updatedLocale;\n    if (locale) {\n      // This spread allows for locale to only contain a subset of locale overrides on props\n      updatedLocale = { ...defaultLocale, ...locale };\n    } else {\n      updatedLocale = { ...defaultLocale };\n    }\n    setMergedLocale(updatedLocale);\n  }, [locale]);\n\n  useEffect(() => setDerivedColumns(columns), [columns]);\n\n  useEffect(() => {\n    if (interactiveTableUtils.current) {\n      interactiveTableUtils.current?.clearListeners();\n    }\n    const table = wrapperRef.current?.getElementsByTagName('table')[0];\n    if (table) {\n      interactiveTableUtils.current = new InteractiveTableUtils(\n        table,\n        derivedColumns,\n        setDerivedColumns,\n      );\n      if (reorderable) {\n        interactiveTableUtils?.current?.initializeDragDropColumns(\n          reorderable,\n          table,\n        );\n      }\n      if (resizable) {\n        interactiveTableUtils?.current?.initializeResizableColumns(\n          resizable,\n          table,\n        );\n      }\n    }\n    return () => {\n      interactiveTableUtils?.current?.clearListeners?.();\n    };\n    /**\n     * We DO NOT want this effect to trigger when derivedColumns changes as it will break functionality\n     * The exclusion from the effect dependencies is intentional and should not be modified\n     */\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [wrapperRef, reorderable, resizable, virtualize, interactiveTableUtils]);\n\n  const theme = useTheme();\n\n  const paginationSettings: PaginationProps | false = usePagination\n    ? {\n        hideOnSinglePage: true,\n        pageSize,\n        pageSizeOptions,\n        onShowSizeChange: (page: number, size: number) => setPageSize(size),\n      }\n    : false;\n\n  /**\n   * When recordCount is provided it lets the user of Table control total number of pages\n   * independent from data.length.  This allows the parent component do things like server side paging\n   * where the user can be shown the total mount of data they can page through, but the component can provide\n   * data one page at a time, and respond to the onPageChange event to fetch and set new data\n   */\n  if (paginationSettings && recordCount) {\n    paginationSettings.total = recordCount;\n  }\n\n  let bodyHeight = height;\n  if (bodyHeight) {\n    bodyHeight -= HEADER_HEIGHT;\n    const hasPagination =\n      usePagination && recordCount && recordCount > pageSize;\n    if (hasPagination) {\n      bodyHeight -= PAGINATION_HEIGHT;\n    }\n  }\n\n  const sharedProps = {\n    loading: { spinning: loading ?? false, indicator: <Loading /> },\n    hasData: hideData ? false : data,\n    columns: derivedColumns,\n    dataSource: hideData ? undefined : data,\n    size,\n    pagination: paginationSettings,\n    locale: mergedLocale,\n    showSorterTooltip: false,\n    onChange,\n    onRow,\n    theme,\n    height: bodyHeight,\n    bordered,\n    expandable: {\n      childrenColumnName,\n    },\n  };\n\n  return (\n    <ConfigProvider renderEmpty={renderEmpty}>\n      <div ref={wrapperRef}>\n        {!virtualize && (\n          <StyledTable\n            {...sharedProps}\n            rowSelection={selectionTypeValue ? rowSelection : undefined}\n            sticky={sticky}\n          />\n        )}\n        {virtualize && (\n          <StyledVirtualTable\n            {...sharedProps}\n            scroll={{\n              y: 300,\n              x: '100vw',\n              // To avoid jest failure by scrollTo\n              ...(process.env.WEBPACK_MODE === 'test' && {\n                scrollToFirstRowOnChange: false,\n              }),\n            }}\n            allowHTML={allowHTML}\n          />\n        )}\n      </div>\n    </ConfigProvider>\n  );\n}\n\nexport default Table;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}