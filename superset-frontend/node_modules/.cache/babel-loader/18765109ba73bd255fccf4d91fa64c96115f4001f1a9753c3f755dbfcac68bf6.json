{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback } from 'react';\nimport { css, useTheme } from '@superset-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { updateDataMask } from 'src/dataMask/actions';\nimport CrossFilterTag from './CrossFilterTag';\nimport CrossFilterTitle from './CrossFilterTitle';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst CrossFilter = (props) => {\n  const { filter, orientation, last } = props;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const handleHighlightFilterSource = useCallback((path) => {\n    if (path) {\n      dispatch(setDirectPathToChild(path));\n    }\n  }, [dispatch]);\n  const handleRemoveCrossFilter = (chartId) => {\n    dispatch(updateDataMask(chartId, {\n      extraFormData: {\n        filters: []\n      },\n      filterState: {\n        value: null,\n        selectedValues: null\n      }\n    }));\n  };\n  return _jsxs(\"div\", { css: css`\n        ${orientation === FilterBarOrientation.Vertical ?\n    `\n            display: block;\n            margin-bottom: ${theme.gridUnit * 4}px;\n          ` :\n    `\n            display: flex;\n          `}\n      `, children: [\n    _jsx(CrossFilterTitle, { title: filter.name, orientation: orientation || FilterBarOrientation.Horizontal, onHighlightFilterSource: () => handleHighlightFilterSource(filter.path) }),\n    (filter.column || filter.value) && _jsx(CrossFilterTag, { filter: filter, orientation: orientation, removeCrossFilter: handleRemoveCrossFilter }),\n    last && _jsx(\"span\", { \"data-test\": \"cross-filters-divider\", css: css`\n            ${orientation === FilterBarOrientation.Horizontal ?\n      `\n                width: 1px;\n                height: 22px;\n                margin-left: ${theme.gridUnit * 4}px;\n                margin-right: ${theme.gridUnit}px;\n              ` :\n      `\n                width: 100%;\n                height: 1px;\n                display: block;\n                margin-bottom: ${theme.gridUnit * 4}px;\n                margin-top: ${theme.gridUnit * 4}px;\n            `}\n            background: ${theme.colors.grayscale.light2};\n          ` })] }, `${filter.name}${filter.emitterId}`\n  );\n};__signature__(CrossFilter, \"useTheme{theme}\\nuseDispatch{dispatch}\\nuseCallback{handleHighlightFilterSource}\", () => [useTheme, useDispatch]);const _default =\nCrossFilter;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CrossFilter, \"CrossFilter\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilter.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilter.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","css","useTheme","useDispatch","setDirectPathToChild","FilterBarOrientation","updateDataMask","CrossFilterTag","CrossFilterTitle","jsx","_jsx","jsxs","_jsxs","CrossFilter","props","filter","orientation","last","theme","dispatch","handleHighlightFilterSource","path","handleRemoveCrossFilter","chartId","extraFormData","filters","filterState","value","selectedValues","Vertical","gridUnit","children","title","name","Horizontal","onHighlightFilterSource","column","removeCrossFilter","colors","grayscale","light2","emitterId","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilter.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useCallback } from 'react';\nimport { css, useTheme } from '@superset-ui/core';\nimport { CrossFilterIndicator } from 'src/dashboard/components/nativeFilters/selectors';\nimport { useDispatch } from 'react-redux';\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { updateDataMask } from 'src/dataMask/actions';\nimport CrossFilterTag from './CrossFilterTag';\nimport CrossFilterTitle from './CrossFilterTitle';\n\nconst CrossFilter = (props: {\n  filter: CrossFilterIndicator;\n  orientation: FilterBarOrientation;\n  last?: boolean;\n}) => {\n  const { filter, orientation, last } = props;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n  const handleHighlightFilterSource = useCallback(\n    (path?: string[]) => {\n      if (path) {\n        dispatch(setDirectPathToChild(path));\n      }\n    },\n    [dispatch],\n  );\n\n  const handleRemoveCrossFilter = (chartId: number) => {\n    dispatch(\n      updateDataMask(chartId, {\n        extraFormData: {\n          filters: [],\n        },\n        filterState: {\n          value: null,\n          selectedValues: null,\n        },\n      }),\n    );\n  };\n\n  return (\n    <div\n      key={`${filter.name}${filter.emitterId}`}\n      css={css`\n        ${orientation === FilterBarOrientation.Vertical\n          ? `\n            display: block;\n            margin-bottom: ${theme.gridUnit * 4}px;\n          `\n          : `\n            display: flex;\n          `}\n      `}\n    >\n      <CrossFilterTitle\n        title={filter.name}\n        orientation={orientation || FilterBarOrientation.Horizontal}\n        onHighlightFilterSource={() => handleHighlightFilterSource(filter.path)}\n      />\n      {(filter.column || filter.value) && (\n        <CrossFilterTag\n          filter={filter}\n          orientation={orientation}\n          removeCrossFilter={handleRemoveCrossFilter}\n        />\n      )}\n      {last && (\n        <span\n          data-test=\"cross-filters-divider\"\n          css={css`\n            ${orientation === FilterBarOrientation.Horizontal\n              ? `\n                width: 1px;\n                height: 22px;\n                margin-left: ${theme.gridUnit * 4}px;\n                margin-right: ${theme.gridUnit}px;\n              `\n              : `\n                width: 100%;\n                height: 1px;\n                display: block;\n                margin-bottom: ${theme.gridUnit * 4}px;\n                margin-top: ${theme.gridUnit * 4}px;\n            `}\n            background: ${theme.colors.grayscale.light2};\n          `}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CrossFilter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}