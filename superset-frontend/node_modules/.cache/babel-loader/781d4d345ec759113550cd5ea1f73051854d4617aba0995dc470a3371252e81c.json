{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FeatureFlag, isFeatureEnabled, styled, t, useTheme } from '@superset-ui/core';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { saveFilterBarOrientation, saveCrossFiltersSetting } from 'src/dashboard/actions/dashboardInfo';\nimport Icons from 'src/components/Icons';\nimport DropdownSelectableIcon from 'src/components/DropdownSelectableIcon';\nimport Checkbox from 'src/components/Checkbox';\nimport { clearDataMaskState } from 'src/dataMask/actions';\nimport { useCrossFiltersScopingModal } from '../CrossFilters/ScopingModal/useCrossFiltersScopingModal';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst StyledMenuLabel = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .enable-cross-filters-text {\n    padding-left: ${({ theme }) => `${theme.gridUnit * 2}px`};\n  }\n`;\nconst StyledCheckbox = styled(Checkbox)`\n  ${({ theme }) => `\n  &,\n  svg {\n    display: inline-block;\n    width: ${theme.gridUnit * 4}px;\n    height: ${theme.gridUnit * 4}px;\n  }\n`}\n`;\nconst CROSS_FILTERS_MENU_KEY = 'cross-filters-menu-key';\nconst CROSS_FILTERS_SCOPING_MENU_KEY = 'cross-filters-scoping-menu-key';\nconst isOrientation = (o) => o === FilterBarOrientation.Vertical || o === FilterBarOrientation.Horizontal;\nconst FilterBarSettings = () => {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const isCrossFiltersEnabled = useSelector(({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled);\n  const filterBarOrientation = useSelector(({ dashboardInfo }) => dashboardInfo.filterBarOrientation);\n  const [selectedFilterBarOrientation, setSelectedFilterBarOrientation] = useState(filterBarOrientation);\n  const isCrossFiltersFeatureEnabled = isFeatureEnabled(FeatureFlag.DashboardCrossFilters);\n  const shouldEnableCrossFilters = isCrossFiltersEnabled && isCrossFiltersFeatureEnabled;\n  const [crossFiltersEnabled, setCrossFiltersEnabled] = useState(shouldEnableCrossFilters);\n  const canEdit = useSelector(({ dashboardInfo }) => dashboardInfo.dash_edit_perm);\n  const canSetHorizontalFilterBar = canEdit && isFeatureEnabled(FeatureFlag.HorizontalFilterBar);\n  const [openScopingModal, scopingModal] = useCrossFiltersScopingModal();\n  const updateCrossFiltersSetting = useCallback(async (isEnabled) => {\n    if (!isEnabled) {\n      dispatch(clearDataMaskState());\n    }\n    await dispatch(saveCrossFiltersSetting(isEnabled));\n  }, [dispatch]);\n  const toggleCrossFiltering = useCallback(() => {\n    setCrossFiltersEnabled(!crossFiltersEnabled);\n    updateCrossFiltersSetting(!crossFiltersEnabled);\n  }, [crossFiltersEnabled, updateCrossFiltersSetting]);\n  const toggleFilterBarOrientation = useCallback(async (orientation) => {\n    if (orientation === filterBarOrientation) {\n      return;\n    }\n    // set displayed selection in local state for immediate visual response after clicking\n    setSelectedFilterBarOrientation(orientation);\n    try {\n      // save selection in Redux and backend\n      await dispatch(saveFilterBarOrientation(orientation));\n    }\n    catch {\n      // revert local state in case of error when saving\n      setSelectedFilterBarOrientation(filterBarOrientation);\n    }\n  }, [dispatch, filterBarOrientation]);\n  const handleSelect = useCallback((selection) => {\n    const selectedKey = selection.key;\n    if (selectedKey === CROSS_FILTERS_MENU_KEY) {\n      toggleCrossFiltering();\n    } else\n    if (isOrientation(selectedKey)) {\n      toggleFilterBarOrientation(selectedKey);\n    } else\n    if (selectedKey === CROSS_FILTERS_SCOPING_MENU_KEY) {\n      openScopingModal();\n    }\n  }, [openScopingModal, toggleCrossFiltering, toggleFilterBarOrientation]);\n  const crossFiltersMenuItem = useMemo(() => _jsxs(StyledMenuLabel, { children: [\n    _jsx(StyledCheckbox, { className: \"enable-cross-filters\", checked: crossFiltersEnabled, onChange: (checked) => setCrossFiltersEnabled(checked || false) }), ' ',\n    _jsx(\"span\", { className: \"enable-cross-filters-text\", children:\n      t('Enable cross-filtering') }\n    )] }\n  ), [crossFiltersEnabled]);\n  const menuItems = useMemo(() => {\n    const items = [];\n    if (isCrossFiltersFeatureEnabled && canEdit) {\n      items.push({\n        key: CROSS_FILTERS_MENU_KEY,\n        label: crossFiltersMenuItem\n      });\n      items.push({\n        key: CROSS_FILTERS_SCOPING_MENU_KEY,\n        label: t('Cross-filtering scoping'),\n        divider: canSetHorizontalFilterBar\n      });\n    }\n    if (canSetHorizontalFilterBar) {\n      items.push({\n        key: 'placement',\n        label: t('Orientation of filter bar'),\n        children: [\n        {\n          key: FilterBarOrientation.Vertical,\n          label: t('Vertical (Left)')\n        },\n        {\n          key: FilterBarOrientation.Horizontal,\n          label: t('Horizontal (Top)')\n        }]\n\n      });\n    }\n    return items;\n  }, [\n  canEdit,\n  canSetHorizontalFilterBar,\n  crossFiltersMenuItem,\n  isCrossFiltersFeatureEnabled]\n  );\n  if (!menuItems.length) {\n    return null;\n  }\n  return _jsxs(_Fragment, { children: [\n    _jsx(DropdownSelectableIcon, { onSelect: handleSelect, icon: _jsx(Icons.Gear, { name: \"gear\", iconColor: theme.colors.grayscale.base, \"data-test\": \"filterbar-orientation-icon\" }), menuItems: menuItems, selectedKeys: [selectedFilterBarOrientation] }),\n    scopingModal] }\n  );\n};__signature__(FilterBarSettings, \"useDispatch{dispatch}\\nuseTheme{theme}\\nuseSelector{isCrossFiltersEnabled}\\nuseSelector{filterBarOrientation}\\nuseState{[selectedFilterBarOrientation, setSelectedFilterBarOrientation](filterBarOrientation)}\\nuseState{[crossFiltersEnabled, setCrossFiltersEnabled](shouldEnableCrossFilters)}\\nuseSelector{canEdit}\\nuseCrossFiltersScopingModal{[openScopingModal, scopingModal]}\\nuseCallback{updateCrossFiltersSetting}\\nuseCallback{toggleCrossFiltering}\\nuseCallback{toggleFilterBarOrientation}\\nuseCallback{handleSelect}\\nuseMemo{crossFiltersMenuItem}\\nuseMemo{menuItems}\", () => [useDispatch, useTheme, useSelector, useSelector, useSelector, useCrossFiltersScopingModal]);const _default =\nFilterBarSettings;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledMenuLabel, \"StyledMenuLabel\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(StyledCheckbox, \"StyledCheckbox\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(CROSS_FILTERS_MENU_KEY, \"CROSS_FILTERS_MENU_KEY\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(CROSS_FILTERS_SCOPING_MENU_KEY, \"CROSS_FILTERS_SCOPING_MENU_KEY\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(isOrientation, \"isOrientation\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(FilterBarSettings, \"FilterBarSettings\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","useMemo","useState","useDispatch","useSelector","FeatureFlag","isFeatureEnabled","styled","t","useTheme","FilterBarOrientation","saveFilterBarOrientation","saveCrossFiltersSetting","Icons","DropdownSelectableIcon","Checkbox","clearDataMaskState","useCrossFiltersScopingModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StyledMenuLabel","span","theme","gridUnit","StyledCheckbox","CROSS_FILTERS_MENU_KEY","CROSS_FILTERS_SCOPING_MENU_KEY","isOrientation","o","Vertical","Horizontal","FilterBarSettings","dispatch","isCrossFiltersEnabled","dashboardInfo","crossFiltersEnabled","filterBarOrientation","selectedFilterBarOrientation","setSelectedFilterBarOrientation","isCrossFiltersFeatureEnabled","DashboardCrossFilters","shouldEnableCrossFilters","setCrossFiltersEnabled","canEdit","dash_edit_perm","canSetHorizontalFilterBar","HorizontalFilterBar","openScopingModal","scopingModal","updateCrossFiltersSetting","isEnabled","toggleCrossFiltering","toggleFilterBarOrientation","orientation","handleSelect","selection","selectedKey","key","crossFiltersMenuItem","children","className","checked","onChange","menuItems","items","push","label","divider","length","onSelect","icon","Gear","name","iconColor","colors","grayscale","base","selectedKeys","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  FeatureFlag,\n  isFeatureEnabled,\n  styled,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport { MenuProps } from 'src/components/Menu';\nimport { FilterBarOrientation, RootState } from 'src/dashboard/types';\nimport {\n  saveFilterBarOrientation,\n  saveCrossFiltersSetting,\n} from 'src/dashboard/actions/dashboardInfo';\nimport Icons from 'src/components/Icons';\nimport DropdownSelectableIcon, {\n  DropDownSelectableProps,\n} from 'src/components/DropdownSelectableIcon';\nimport Checkbox from 'src/components/Checkbox';\nimport { clearDataMaskState } from 'src/dataMask/actions';\nimport { useCrossFiltersScopingModal } from '../CrossFilters/ScopingModal/useCrossFiltersScopingModal';\n\ntype SelectedKey = FilterBarOrientation | string | number;\n\nconst StyledMenuLabel = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .enable-cross-filters-text {\n    padding-left: ${({ theme }) => `${theme.gridUnit * 2}px`};\n  }\n`;\n\nconst StyledCheckbox = styled(Checkbox)`\n  ${({ theme }) => `\n  &,\n  svg {\n    display: inline-block;\n    width: ${theme.gridUnit * 4}px;\n    height: ${theme.gridUnit * 4}px;\n  }\n`}\n`;\n\nconst CROSS_FILTERS_MENU_KEY = 'cross-filters-menu-key';\nconst CROSS_FILTERS_SCOPING_MENU_KEY = 'cross-filters-scoping-menu-key';\n\nconst isOrientation = (o: SelectedKey): o is FilterBarOrientation =>\n  o === FilterBarOrientation.Vertical || o === FilterBarOrientation.Horizontal;\n\nconst FilterBarSettings = () => {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const isCrossFiltersEnabled = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled,\n  );\n  const filterBarOrientation = useSelector<RootState, FilterBarOrientation>(\n    ({ dashboardInfo }) => dashboardInfo.filterBarOrientation,\n  );\n  const [selectedFilterBarOrientation, setSelectedFilterBarOrientation] =\n    useState(filterBarOrientation);\n  const isCrossFiltersFeatureEnabled = isFeatureEnabled(\n    FeatureFlag.DashboardCrossFilters,\n  );\n  const shouldEnableCrossFilters =\n    isCrossFiltersEnabled && isCrossFiltersFeatureEnabled;\n  const [crossFiltersEnabled, setCrossFiltersEnabled] = useState<boolean>(\n    shouldEnableCrossFilters,\n  );\n  const canEdit = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.dash_edit_perm,\n  );\n  const canSetHorizontalFilterBar =\n    canEdit && isFeatureEnabled(FeatureFlag.HorizontalFilterBar);\n\n  const [openScopingModal, scopingModal] = useCrossFiltersScopingModal();\n\n  const updateCrossFiltersSetting = useCallback(\n    async isEnabled => {\n      if (!isEnabled) {\n        dispatch(clearDataMaskState());\n      }\n      await dispatch(saveCrossFiltersSetting(isEnabled));\n    },\n    [dispatch],\n  );\n\n  const toggleCrossFiltering = useCallback(() => {\n    setCrossFiltersEnabled(!crossFiltersEnabled);\n    updateCrossFiltersSetting(!crossFiltersEnabled);\n  }, [crossFiltersEnabled, updateCrossFiltersSetting]);\n\n  const toggleFilterBarOrientation = useCallback(\n    async (orientation: FilterBarOrientation) => {\n      if (orientation === filterBarOrientation) {\n        return;\n      }\n      // set displayed selection in local state for immediate visual response after clicking\n      setSelectedFilterBarOrientation(orientation);\n      try {\n        // save selection in Redux and backend\n        await dispatch(saveFilterBarOrientation(orientation));\n      } catch {\n        // revert local state in case of error when saving\n        setSelectedFilterBarOrientation(filterBarOrientation);\n      }\n    },\n    [dispatch, filterBarOrientation],\n  );\n\n  const handleSelect = useCallback(\n    (\n      selection: Parameters<\n        Required<Pick<MenuProps, 'onSelect'>>['onSelect']\n      >[0],\n    ) => {\n      const selectedKey: SelectedKey = selection.key;\n      if (selectedKey === CROSS_FILTERS_MENU_KEY) {\n        toggleCrossFiltering();\n      } else if (isOrientation(selectedKey)) {\n        toggleFilterBarOrientation(selectedKey);\n      } else if (selectedKey === CROSS_FILTERS_SCOPING_MENU_KEY) {\n        openScopingModal();\n      }\n    },\n    [openScopingModal, toggleCrossFiltering, toggleFilterBarOrientation],\n  );\n\n  const crossFiltersMenuItem = useMemo(\n    () => (\n      <StyledMenuLabel>\n        <StyledCheckbox\n          className=\"enable-cross-filters\"\n          checked={crossFiltersEnabled}\n          onChange={checked => setCrossFiltersEnabled(checked || false)}\n        />{' '}\n        <span className=\"enable-cross-filters-text\">\n          {t('Enable cross-filtering')}\n        </span>\n      </StyledMenuLabel>\n    ),\n    [crossFiltersEnabled],\n  );\n\n  const menuItems = useMemo(() => {\n    const items: DropDownSelectableProps['menuItems'] = [];\n\n    if (isCrossFiltersFeatureEnabled && canEdit) {\n      items.push({\n        key: CROSS_FILTERS_MENU_KEY,\n        label: crossFiltersMenuItem,\n      });\n      items.push({\n        key: CROSS_FILTERS_SCOPING_MENU_KEY,\n        label: t('Cross-filtering scoping'),\n        divider: canSetHorizontalFilterBar,\n      });\n    }\n\n    if (canSetHorizontalFilterBar) {\n      items.push({\n        key: 'placement',\n        label: t('Orientation of filter bar'),\n        children: [\n          {\n            key: FilterBarOrientation.Vertical,\n            label: t('Vertical (Left)'),\n          },\n          {\n            key: FilterBarOrientation.Horizontal,\n            label: t('Horizontal (Top)'),\n          },\n        ],\n      });\n    }\n    return items;\n  }, [\n    canEdit,\n    canSetHorizontalFilterBar,\n    crossFiltersMenuItem,\n    isCrossFiltersFeatureEnabled,\n  ]);\n\n  if (!menuItems.length) {\n    return null;\n  }\n\n  return (\n    <>\n      <DropdownSelectableIcon\n        onSelect={handleSelect}\n        icon={\n          <Icons.Gear\n            name=\"gear\"\n            iconColor={theme.colors.grayscale.base}\n            data-test=\"filterbar-orientation-icon\"\n          />\n        }\n        menuItems={menuItems}\n        selectedKeys={[selectedFilterBarOrientation]}\n      />\n      {scopingModal}\n    </>\n  );\n};\n\nexport default FilterBarSettings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}