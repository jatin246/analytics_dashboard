{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback, useState, memo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setFilterConfiguration } from 'src/dashboard/actions/nativeFilters';\nimport Button from 'src/components/Button';\nimport { styled } from '@superset-ui/core';\nimport FiltersConfigModal from 'src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigModal';\nimport { getFilterBarTestId } from '../utils';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\nexport const FilterConfigurationLink = ({ createNewOnOpen, dashboardId, initialFilterId, onClick, children }) => {\n  const dispatch = useDispatch();\n  const [isOpen, setOpen] = useState(false);\n  const close = useCallback(() => {\n    setOpen(false);\n  }, [setOpen]);\n  const submit = useCallback(async (filterConfig) => {\n    dispatch(await setFilterConfiguration(filterConfig));\n    close();\n  }, [dispatch, close]);\n  const handleClick = useCallback(() => {\n    setOpen(true);\n    if (onClick) {\n      onClick();\n    }\n  }, [setOpen, onClick]);\n  return _jsxs(_Fragment, { children: [\n\n    _jsx(HeaderButton, { ...getFilterBarTestId('create-filter'), buttonStyle: \"link\", buttonSize: \"xsmall\", onClick: handleClick, children:\n      children }\n    ),\n    _jsx(FiltersConfigModal, { isOpen: isOpen, onSave: submit, onCancel: close, initialFilterId: initialFilterId, createNewOnOpen: createNewOnOpen }, `filters-for-${dashboardId}`)] }\n  );\n};__signature__(FilterConfigurationLink, \"useDispatch{dispatch}\\nuseState{[isOpen, setOpen](false)}\\nuseCallback{close}\\nuseCallback{submit}\\nuseCallback{handleClick}\", () => [useDispatch]);const _default = /*#__PURE__*/\nmemo(FilterConfigurationLink);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(HeaderButton, \"HeaderButton\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink/index.tsx\");reactHotLoader.register(FilterConfigurationLink, \"FilterConfigurationLink\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","useState","memo","useDispatch","setFilterConfiguration","Button","styled","FiltersConfigModal","getFilterBarTestId","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","HeaderButton","FilterConfigurationLink","createNewOnOpen","dashboardId","initialFilterId","onClick","children","dispatch","isOpen","setOpen","close","submit","filterConfig","handleClick","buttonStyle","buttonSize","onSave","onCancel","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ReactNode, FC, useCallback, useState, memo } from 'react';\n\nimport { useDispatch } from 'react-redux';\nimport { setFilterConfiguration } from 'src/dashboard/actions/nativeFilters';\nimport Button from 'src/components/Button';\nimport { FilterConfiguration, styled } from '@superset-ui/core';\nimport FiltersConfigModal from 'src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigModal';\nimport { getFilterBarTestId } from '../utils';\n\nexport interface FCBProps {\n  createNewOnOpen?: boolean;\n  dashboardId?: number;\n  initialFilterId?: string;\n  onClick?: () => void;\n  children?: ReactNode;\n}\n\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\n\nexport const FilterConfigurationLink: FC<FCBProps> = ({\n  createNewOnOpen,\n  dashboardId,\n  initialFilterId,\n  onClick,\n  children,\n}) => {\n  const dispatch = useDispatch();\n  const [isOpen, setOpen] = useState(false);\n\n  const close = useCallback(() => {\n    setOpen(false);\n  }, [setOpen]);\n\n  const submit = useCallback(\n    async (filterConfig: FilterConfiguration) => {\n      dispatch(await setFilterConfiguration(filterConfig));\n      close();\n    },\n    [dispatch, close],\n  );\n\n  const handleClick = useCallback(() => {\n    setOpen(true);\n    if (onClick) {\n      onClick();\n    }\n  }, [setOpen, onClick]);\n\n  return (\n    <>\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n      <HeaderButton\n        {...getFilterBarTestId('create-filter')}\n        buttonStyle=\"link\"\n        buttonSize=\"xsmall\"\n        onClick={handleClick}\n      >\n        {children}\n      </HeaderButton>\n      <FiltersConfigModal\n        isOpen={isOpen}\n        onSave={submit}\n        onCancel={close}\n        initialFilterId={initialFilterId}\n        createNewOnOpen={createNewOnOpen}\n        key={`filters-for-${dashboardId}`}\n      />\n    </>\n  );\n};\n\nexport default memo(FilterConfigurationLink);\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAAwBA,WAAW,EAAEC,QAAQ,EAAEC,IAAI,QAAQ,OAAO;AAElE,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,sBAAsB,QAAQ,qCAAqC;AAC5E,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAA8BC,MAAM,QAAQ,mBAAmB;AAC/D,OAAOC,kBAAkB,MAAM,8EAA8E;AAC7G,SAASC,kBAAkB,QAAQ,UAAU,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA,EAAAC,IAAA,IAAAC,KAAA;AAU9C,MAAMC,YAAY,GAAGT,MAAM,CAACD,MAAM,CAAC;;CAElC;AAED,OAAO,MAAMW,uBAAuB,GAAiBA,CAAC,EACpDC,eAAe,EACfC,WAAW,EACXC,eAAe,EACfC,OAAO,EACPC,QAAQ,EACT,KAAI;EACH,MAAMC,QAAQ,GAAGnB,WAAW,EAAE;EAC9B,MAAM,CAACoB,MAAM,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;EAEzC,MAAMwB,KAAK,GAAGzB,WAAW,CAAC,MAAK;IAC7BwB,OAAO,CAAC,KAAK,CAAC;EAChB,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,MAAME,MAAM,GAAG1B,WAAW,CACxB,OAAO2B,YAAiC,KAAI;IAC1CL,QAAQ,CAAC,MAAMlB,sBAAsB,CAACuB,YAAY,CAAC,CAAC;IACpDF,KAAK,EAAE;EACT,CAAC,EACD,CAACH,QAAQ,EAAEG,KAAK,CAAC,CAClB;EAED,MAAMG,WAAW,GAAG5B,WAAW,CAAC,MAAK;IACnCwB,OAAO,CAAC,IAAI,CAAC;IACb,IAAIJ,OAAO,EAAE;MACXA,OAAO,EAAE;;EAEb,CAAC,EAAE,CAACI,OAAO,EAAEJ,OAAO,CAAC,CAAC;EAEtB,OACEN,KAAA,CAAAF,SAAA,IAAAS,QAAA;;IAEEX,IAAA,CAACK,YAAY,OACPP,kBAAkB,CAAC,eAAe,CAAC,EACvCqB,WAAW,EAAC,MAAM,EAClBC,UAAU,EAAC,QAAQ,EACnBV,OAAO,EAAEQ,WAAY,EAAAP,QAAA;MAEpBA,QAAQ;IACG,CACd;IAAAX,IAAA,CAACH,kBAAkB,IACjBgB,MAAM,EAAEA,MAAO,EACfQ,MAAM,EAAEL,MAAO,EACfM,QAAQ,EAAEP,KAAM,EAChBN,eAAe,EAAEA,eAAgB,EACjCF,eAAe,EAAEA,eAAgB,IAC5B,eAAeC,WAAW,EAAG,CAEtC;EAAA,CAAG;AAEP,CAAC,CAACe,aAAA,CAlDWjB,uBAAuB,yIAOjBb,WAAW,SAAA+B,QAAA;AA6CfhC,IAAI,CAACc,uBAAuB,CAAC,CAA5C,eAAAkB,QAAA,CAA6C,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAxDvCxB,YAAY,+HAAAoB,cAAA,CAAAI,QAAA,CAILvB,uBAAuB,0IAAAmB,cAAA,CAAAI,QAAA,CAAAL,QAAA,kJAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}