{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback, useEffect, useState } from 'react';\nimport { makeApi, styled, t, getExtensionsRegistry } from '@superset-ui/core';\nimport { InfoTooltipWithTrigger } from '@superset-ui/chart-controls';\nimport Modal from 'src/components/Modal';\nimport Loading from 'src/components/Loading';\nimport Button from 'src/components/Button';\nimport { Input } from 'src/components/Input';\nimport { useToasts } from 'src/components/MessageToasts/withToasts';\nimport { FormItem } from 'src/components/Form';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst extensionsRegistry = getExtensionsRegistry();\nconst stringToList = (stringyList) => stringyList.split(/(?:\\s|,)+/).filter((x) => x);\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n`;\nexport const DashboardEmbedControls = ({ dashboardId, onHide }) => {var _extensionsRegistry$g;\n  const { addInfoToast, addDangerToast } = useToasts();\n  const [ready, setReady] = useState(true); // whether we have initialized yet\n  const [loading, setLoading] = useState(false); // whether we are currently doing an async thing\n  const [embedded, setEmbedded] = useState(null); // the embedded dashboard config\n  const [allowedDomains, setAllowedDomains] = useState('');\n  const endpoint = `/api/v1/dashboard/${dashboardId}/embedded`;\n  // whether saveable changes have been made to the config\n  const isDirty = !embedded ||\n  stringToList(allowedDomains).join() !== embedded.allowed_domains.join();\n  const enableEmbedded = useCallback(() => {\n    setLoading(true);\n    makeApi({\n      method: 'POST',\n      endpoint\n    })({\n      allowed_domains: stringToList(allowedDomains)\n    }).\n    then(({ result }) => {\n      setEmbedded(result);\n      setAllowedDomains(result.allowed_domains.join(', '));\n      addInfoToast(t('Changes saved.'));\n    }, (err) => {\n      console.error(err);\n      addDangerToast(t(t('Sorry, something went wrong. The changes could not be saved.')));\n    }).\n    finally(() => {\n      setLoading(false);\n    });\n  }, [endpoint, allowedDomains]);\n  const disableEmbedded = useCallback(() => {\n    Modal.confirm({\n      title: t('Disable embedding?'),\n      content: t('This will remove your current embed configuration.'),\n      okType: 'danger',\n      onOk: () => {\n        setLoading(true);\n        makeApi({ method: 'DELETE', endpoint })({}).\n        then(() => {\n          setEmbedded(null);\n          setAllowedDomains('');\n          addInfoToast(t('Embedding deactivated.'));\n          onHide();\n        }, (err) => {\n          console.error(err);\n          addDangerToast(t('Sorry, something went wrong. Embedding could not be deactivated.'));\n        }).\n        finally(() => {\n          setLoading(false);\n        });\n      }\n    });\n  }, [endpoint]);\n  useEffect(() => {\n    setReady(false);\n    makeApi({\n      method: 'GET',\n      endpoint\n    })({}).\n    catch((err) => {\n      if (err.status === 404) {\n        // 404 just means the dashboard isn't currently embedded\n        return { result: null };\n      }\n      addDangerToast(t('Sorry, something went wrong. Please try again.'));\n      throw err;\n    }).\n    then(({ result }) => {\n      setReady(true);\n      setEmbedded(result);\n      setAllowedDomains(result ? result.allowed_domains.join(', ') : '');\n    });\n  }, [dashboardId]);\n  if (!ready) {\n    return _jsx(Loading, {});\n  }\n  const DocsConfigDetails = extensionsRegistry.get('embedded.documentation.configuration_details');\n  const docsDescription = extensionsRegistry.get('embedded.documentation.description');\n  const docsUrl = (_extensionsRegistry$g = extensionsRegistry.get('embedded.documentation.url')) != null ? _extensionsRegistry$g :\n  'https://www.npmjs.com/package/@superset-ui/embedded-sdk';\n  return _jsxs(_Fragment, { children: [\n    embedded ? DocsConfigDetails ? _jsx(DocsConfigDetails, { embeddedId: embedded.uuid }) : _jsxs(\"p\", { children: [\n      t('This dashboard is ready to embed. In your application, pass the following id to the SDK:'),\n      _jsx(\"br\", {}),\n      _jsx(\"code\", { children: embedded.uuid })] }\n    ) : _jsx(\"p\", { children:\n      t('Configure this dashboard to embed it into an external web application.') }\n    ),\n    _jsxs(\"p\", { children: [\n      t('For further instructions, consult the'), ' ',\n      _jsx(\"a\", { href: docsUrl, target: \"_blank\", rel: \"noreferrer\", children:\n        docsDescription ?\n        docsDescription() :\n        t('Superset Embedded SDK documentation.') }\n      )] }\n    ),\n    _jsx(\"h3\", { children: t('Settings') }),\n    _jsxs(FormItem, { children: [\n      _jsxs(\"label\", { htmlFor: \"allowed-domains\", children: [\n        t('Allowed Domains (comma separated)'), ' ',\n        _jsx(InfoTooltipWithTrigger, { tooltip: t('A list of domain names that can embed this dashboard. Leaving this field empty will allow embedding from any domain.') })] }\n      ),\n      _jsx(Input, { name: \"allowed-domains\", id: \"allowed-domains\", value: allowedDomains, placeholder: \"superset.example.com\", onChange: (event) => setAllowedDomains(event.target.value) })] }\n    ),\n    _jsx(ButtonRow, { children:\n      embedded ? _jsxs(_Fragment, { children: [\n        _jsx(Button, { onClick: disableEmbedded, buttonStyle: \"secondary\", loading: loading, children:\n          t('Deactivate') }\n        ),\n        _jsx(Button, { onClick: enableEmbedded, buttonStyle: \"primary\", disabled: !isDirty, loading: loading, children:\n          t('Save changes') }\n        )] }\n      ) : _jsx(Button, { onClick: enableEmbedded, buttonStyle: \"primary\", loading: loading, children:\n        t('Enable embedding') }\n      ) }\n    )] }\n  );\n};__signature__(DashboardEmbedControls, \"useToasts{{ addInfoToast, addDangerToast }}\\nuseState{[ready, setReady](true)}\\nuseState{[loading, setLoading](false)}\\nuseState{[embedded, setEmbedded](null)}\\nuseState{[allowedDomains, setAllowedDomains]('')}\\nuseCallback{enableEmbedded}\\nuseCallback{disableEmbedded}\\nuseEffect{}\", () => [useToasts]);\nconst DashboardEmbedModal = (props) => {\n  const { show, onHide } = props;\n  const DashboardEmbedModalExtension = extensionsRegistry.get('embedded.modal');\n  return DashboardEmbedModalExtension ? _jsx(DashboardEmbedModalExtension, { ...props }) : _jsx(Modal, { show: show, onHide: onHide, title: t('Embed'), hideFooter: true, children:\n    _jsx(DashboardEmbedControls, { ...props }) }\n  );\n};const _default =\nDashboardEmbedModal;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(extensionsRegistry, \"extensionsRegistry\", \"/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx\");reactHotLoader.register(stringToList, \"stringToList\", \"/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx\");reactHotLoader.register(ButtonRow, \"ButtonRow\", \"/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx\");reactHotLoader.register(DashboardEmbedControls, \"DashboardEmbedControls\", \"/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx\");reactHotLoader.register(DashboardEmbedModal, \"DashboardEmbedModal\", \"/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useCallback","useEffect","useState","makeApi","styled","t","getExtensionsRegistry","InfoTooltipWithTrigger","Modal","Loading","Button","Input","useToasts","FormItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","extensionsRegistry","stringToList","stringyList","split","filter","x","ButtonRow","div","DashboardEmbedControls","dashboardId","onHide","_extensionsRegistry$g","addInfoToast","addDangerToast","ready","setReady","loading","setLoading","embedded","setEmbedded","allowedDomains","setAllowedDomains","endpoint","isDirty","join","allowed_domains","enableEmbedded","method","then","result","err","console","error","finally","disableEmbedded","confirm","title","content","okType","onOk","catch","status","DocsConfigDetails","get","docsDescription","docsUrl","children","embeddedId","uuid","href","target","rel","htmlFor","tooltip","name","id","value","placeholder","onChange","event","onClick","buttonStyle","disabled","__signature__","DashboardEmbedModal","props","show","DashboardEmbedModalExtension","hideFooter","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/EmbeddedModal/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useCallback, useEffect, useState } from 'react';\nimport {\n  makeApi,\n  styled,\n  SupersetApiError,\n  t,\n  getExtensionsRegistry,\n} from '@superset-ui/core';\nimport { InfoTooltipWithTrigger } from '@superset-ui/chart-controls';\nimport Modal from 'src/components/Modal';\nimport Loading from 'src/components/Loading';\nimport Button from 'src/components/Button';\nimport { Input } from 'src/components/Input';\nimport { useToasts } from 'src/components/MessageToasts/withToasts';\nimport { FormItem } from 'src/components/Form';\nimport { EmbeddedDashboard } from 'src/dashboard/types';\n\nconst extensionsRegistry = getExtensionsRegistry();\n\ntype Props = {\n  dashboardId: string;\n  show: boolean;\n  onHide: () => void;\n};\n\ntype EmbeddedApiPayload = { allowed_domains: string[] };\n\nconst stringToList = (stringyList: string): string[] =>\n  stringyList.split(/(?:\\s|,)+/).filter(x => x);\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n`;\n\nexport const DashboardEmbedControls = ({ dashboardId, onHide }: Props) => {\n  const { addInfoToast, addDangerToast } = useToasts();\n  const [ready, setReady] = useState(true); // whether we have initialized yet\n  const [loading, setLoading] = useState(false); // whether we are currently doing an async thing\n  const [embedded, setEmbedded] = useState<EmbeddedDashboard | null>(null); // the embedded dashboard config\n  const [allowedDomains, setAllowedDomains] = useState<string>('');\n\n  const endpoint = `/api/v1/dashboard/${dashboardId}/embedded`;\n  // whether saveable changes have been made to the config\n  const isDirty =\n    !embedded ||\n    stringToList(allowedDomains).join() !== embedded.allowed_domains.join();\n\n  const enableEmbedded = useCallback(() => {\n    setLoading(true);\n    makeApi<EmbeddedApiPayload, { result: EmbeddedDashboard }>({\n      method: 'POST',\n      endpoint,\n    })({\n      allowed_domains: stringToList(allowedDomains),\n    })\n      .then(\n        ({ result }) => {\n          setEmbedded(result);\n          setAllowedDomains(result.allowed_domains.join(', '));\n          addInfoToast(t('Changes saved.'));\n        },\n        err => {\n          console.error(err);\n          addDangerToast(\n            t(\n              t('Sorry, something went wrong. The changes could not be saved.'),\n            ),\n          );\n        },\n      )\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [endpoint, allowedDomains]);\n\n  const disableEmbedded = useCallback(() => {\n    Modal.confirm({\n      title: t('Disable embedding?'),\n      content: t('This will remove your current embed configuration.'),\n      okType: 'danger',\n      onOk: () => {\n        setLoading(true);\n        makeApi<{}>({ method: 'DELETE', endpoint })({})\n          .then(\n            () => {\n              setEmbedded(null);\n              setAllowedDomains('');\n              addInfoToast(t('Embedding deactivated.'));\n              onHide();\n            },\n            err => {\n              console.error(err);\n              addDangerToast(\n                t(\n                  'Sorry, something went wrong. Embedding could not be deactivated.',\n                ),\n              );\n            },\n          )\n          .finally(() => {\n            setLoading(false);\n          });\n      },\n    });\n  }, [endpoint]);\n\n  useEffect(() => {\n    setReady(false);\n    makeApi<{}, { result: EmbeddedDashboard }>({\n      method: 'GET',\n      endpoint,\n    })({})\n      .catch(err => {\n        if ((err as SupersetApiError).status === 404) {\n          // 404 just means the dashboard isn't currently embedded\n          return { result: null };\n        }\n        addDangerToast(t('Sorry, something went wrong. Please try again.'));\n        throw err;\n      })\n      .then(({ result }) => {\n        setReady(true);\n        setEmbedded(result);\n        setAllowedDomains(result ? result.allowed_domains.join(', ') : '');\n      });\n  }, [dashboardId]);\n\n  if (!ready) {\n    return <Loading />;\n  }\n\n  const DocsConfigDetails = extensionsRegistry.get(\n    'embedded.documentation.configuration_details',\n  );\n  const docsDescription = extensionsRegistry.get(\n    'embedded.documentation.description',\n  );\n  const docsUrl =\n    extensionsRegistry.get('embedded.documentation.url') ??\n    'https://www.npmjs.com/package/@superset-ui/embedded-sdk';\n\n  return (\n    <>\n      {embedded ? (\n        DocsConfigDetails ? (\n          <DocsConfigDetails embeddedId={embedded.uuid} />\n        ) : (\n          <p>\n            {t(\n              'This dashboard is ready to embed. In your application, pass the following id to the SDK:',\n            )}\n            <br />\n            <code>{embedded.uuid}</code>\n          </p>\n        )\n      ) : (\n        <p>\n          {t(\n            'Configure this dashboard to embed it into an external web application.',\n          )}\n        </p>\n      )}\n      <p>\n        {t('For further instructions, consult the')}{' '}\n        <a href={docsUrl} target=\"_blank\" rel=\"noreferrer\">\n          {docsDescription\n            ? docsDescription()\n            : t('Superset Embedded SDK documentation.')}\n        </a>\n      </p>\n      <h3>{t('Settings')}</h3>\n      <FormItem>\n        <label htmlFor=\"allowed-domains\">\n          {t('Allowed Domains (comma separated)')}{' '}\n          <InfoTooltipWithTrigger\n            tooltip={t(\n              'A list of domain names that can embed this dashboard. Leaving this field empty will allow embedding from any domain.',\n            )}\n          />\n        </label>\n        <Input\n          name=\"allowed-domains\"\n          id=\"allowed-domains\"\n          value={allowedDomains}\n          placeholder=\"superset.example.com\"\n          onChange={event => setAllowedDomains(event.target.value)}\n        />\n      </FormItem>\n      <ButtonRow>\n        {embedded ? (\n          <>\n            <Button\n              onClick={disableEmbedded}\n              buttonStyle=\"secondary\"\n              loading={loading}\n            >\n              {t('Deactivate')}\n            </Button>\n            <Button\n              onClick={enableEmbedded}\n              buttonStyle=\"primary\"\n              disabled={!isDirty}\n              loading={loading}\n            >\n              {t('Save changes')}\n            </Button>\n          </>\n        ) : (\n          <Button\n            onClick={enableEmbedded}\n            buttonStyle=\"primary\"\n            loading={loading}\n          >\n            {t('Enable embedding')}\n          </Button>\n        )}\n      </ButtonRow>\n    </>\n  );\n};\n\nconst DashboardEmbedModal = (props: Props) => {\n  const { show, onHide } = props;\n  const DashboardEmbedModalExtension = extensionsRegistry.get('embedded.modal');\n\n  return DashboardEmbedModalExtension ? (\n    <DashboardEmbedModalExtension {...props} />\n  ) : (\n    <Modal show={show} onHide={onHide} title={t('Embed')} hideFooter>\n      <DashboardEmbedControls {...props} />\n    </Modal>\n  );\n};\n\nexport default DashboardEmbedModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}