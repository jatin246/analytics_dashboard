{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport moment from 'moment';\nimport { getMetricLabel, getValueFormatter, getNumberFormatter, ensureIsArray, getTimeOffset, parseDttmToDate } from '@superset-ui/core';\n\nimport { getComparisonFontSize, getHeaderFontSize } from './utils';\nexport const parseMetricValue = (metricValue) => {\n  if (typeof metricValue === 'string') {\n    const dateObject = moment.utc(metricValue, moment.ISO_8601, true);\n    if (dateObject.isValid()) {\n      return dateObject.valueOf();\n    }\n    return 0;\n  }\n  return metricValue != null ? metricValue : 0;\n};\nexport default function transformProps(chartProps) {var _chartProps$rawFormDa, _chartProps$rawFormDa2, _chartProps$rawFormDa3, _chartProps$rawFormDa4, _chartProps$rawFormDa5, _chartProps$rawFormDa6, _chartProps$rawFormDa7, _previousCustomTimeRa, _formData$extraFormDa3;\n  /**\n   * This function is called after a successful response has been\n   * received from the chart data endpoint, and is used to transform\n   * the incoming data prior to being sent to the Visualization.\n   *\n   * The transformProps function is also quite useful to return\n   * additional/modified props to your data viz component. The formData\n   * can also be accessed from your CustomViz.tsx file, but\n   * doing supplying custom props here is often handy for integrating third\n   * party libraries that rely on specific props.\n   *\n   * A description of properties in `chartProps`:\n   * - `height`, `width`: the height/width of the DOM element in which\n   *   the chart is located\n   * - `formData`: the chart data request payload that was sent to the\n   *   backend.\n   * - `queriesData`: the chart data response payload that was received\n   *   from the backend. Some notable properties of `queriesData`:\n   *   - `data`: an array with data, each row with an object mapping\n   *     the column/alias to its value. Example:\n   *     `[{ col1: 'abc', metric1: 10 }, { col1: 'xyz', metric1: 20 }]`\n   *   - `rowcount`: the number of rows in `data`\n   *   - `query`: the query that was issued.\n   *\n   * Please note: the transformProps function gets cached when the\n   * application loads. When making changes to the `transformProps`\n   * function during development with hot reloading, changes won't\n   * be seen until restarting the development server.\n   */\n  const { width, height, formData, queriesData, datasource: { currencyFormats = {}, columnFormats = {} } } = chartProps;\n  const { boldText, headerFontSize, headerText, metric, yAxisFormat, currencyFormat, subheaderFontSize, comparisonColorScheme, comparisonColorEnabled, percentDifferenceFormat } = formData;\n  const { data: dataA = [] } = queriesData[0];\n  const data = dataA;\n  const metricName = metric ? getMetricLabel(metric) : '';\n  const timeComparison = ensureIsArray((_chartProps$rawFormDa = chartProps.rawFormData) == null ? void 0 : _chartProps$rawFormDa.time_compare)[0];\n  const startDateOffset = (_chartProps$rawFormDa2 = chartProps.rawFormData) == null ? void 0 : _chartProps$rawFormDa2.start_date_offset;\n  const currentTimeRangeFilter = (_chartProps$rawFormDa3 = chartProps.rawFormData) == null ? void 0 : (_chartProps$rawFormDa4 = _chartProps$rawFormDa3.adhoc_filters) == null ? void 0 : (_chartProps$rawFormDa5 = _chartProps$rawFormDa4.filter((adhoc_filter) => adhoc_filter.operator === 'TEMPORAL_RANGE')) == null ? void 0 : _chartProps$rawFormDa5[0];\n  // In case the viz is using all version of controls, we try to load them\n  const previousCustomTimeRangeFilters = ((_chartProps$rawFormDa6 = chartProps.rawFormData) == null ? void 0 : (_chartProps$rawFormDa7 = _chartProps$rawFormDa6.adhoc_custom) == null ? void 0 : _chartProps$rawFormDa7.filter((filter) => filter.operator === 'TEMPORAL_RANGE')) || [];\n  let previousCustomStartDate = '';\n  if (!_isEmpty(previousCustomTimeRangeFilters) &&\n  ((_previousCustomTimeRa = previousCustomTimeRangeFilters[0]) == null ? void 0 : _previousCustomTimeRa.comparator) !== 'No Filter') {var _previousCustomTimeRa2;\n    previousCustomStartDate = (_previousCustomTimeRa2 =\n    previousCustomTimeRangeFilters[0]) == null ? void 0 : _previousCustomTimeRa2.comparator.split(' : ')[0];\n  }\n  const isCustomOrInherit = timeComparison === 'custom' || timeComparison === 'inherit';\n  let dataOffset = [];\n  if (isCustomOrInherit) {var _formData$extraFormDa, _formData$extraFormDa2, _parseDttmToDate;\n    dataOffset = getTimeOffset({\n      timeRangeFilter: {\n        ...currentTimeRangeFilter,\n        comparator: (_formData$extraFormDa = formData == null ? void 0 : (_formData$extraFormDa2 = formData.extraFormData) == null ? void 0 : _formData$extraFormDa2.time_range) != null ? _formData$extraFormDa :\n        currentTimeRangeFilter == null ? void 0 : currentTimeRangeFilter.comparator\n      },\n      shifts: ensureIsArray(timeComparison),\n      startDate: previousCustomStartDate && !startDateOffset ? (_parseDttmToDate =\n      parseDttmToDate(previousCustomStartDate)) == null ? void 0 : _parseDttmToDate.toUTCString() :\n      startDateOffset\n    });\n  }\n  const { value1, value2 } = data.reduce((acc, curr) => {\n    Object.keys(curr).forEach((key) => {\n      if (key.includes(`${metricName}__${!isCustomOrInherit ? timeComparison : dataOffset[0]}`)) {\n        acc.value2 += curr[key];\n      } else\n      if (key.includes(metricName)) {\n        acc.value1 += curr[key];\n      }\n    });\n    return acc;\n  }, { value1: 0, value2: 0 });\n  let bigNumber = data.length === 0 ? 0 : parseMetricValue(value1);\n  let prevNumber = data.length === 0 ? 0 : parseMetricValue(value2);\n  const numberFormatter = getValueFormatter(metric, currencyFormats, columnFormats, yAxisFormat, currencyFormat);\n  const compTitles = {\n    r: 'Range',\n    y: 'Year',\n    m: 'Month',\n    w: 'Week'\n  };\n  const formatPercentChange = getNumberFormatter(percentDifferenceFormat);\n  let valueDifference = bigNumber - prevNumber;\n  let percentDifferenceNum;\n  if (!bigNumber && !prevNumber) {\n    percentDifferenceNum = 0;\n  } else\n  if (!bigNumber || !prevNumber) {\n    percentDifferenceNum = bigNumber ? 1 : -1;\n  } else\n  {\n    percentDifferenceNum = (bigNumber - prevNumber) / Math.abs(prevNumber);\n  }\n  const compType = compTitles[formData.timeComparison];\n  bigNumber = numberFormatter(bigNumber);\n  prevNumber = numberFormatter(prevNumber);\n  valueDifference = numberFormatter(valueDifference);\n  const percentDifference = formatPercentChange(percentDifferenceNum);\n  return {\n    width,\n    height,\n    data,\n    metricName,\n    bigNumber,\n    prevNumber,\n    valueDifference,\n    percentDifferenceFormattedString: percentDifference,\n    boldText,\n    headerFontSize: getHeaderFontSize(headerFontSize),\n    subheaderFontSize: getComparisonFontSize(subheaderFontSize),\n    headerText,\n    compType,\n    comparisonColorEnabled,\n    comparisonColorScheme,\n    percentDifferenceNumber: percentDifferenceNum,\n    currentTimeRangeFilter,\n    startDateOffset,\n    shift: timeComparison,\n    dashboardTimeRange: formData == null ? void 0 : (_formData$extraFormDa3 = formData.extraFormData) == null ? void 0 : _formData$extraFormDa3.time_range\n  };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(parseMetricValue, \"parseMetricValue\", \"/app/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberPeriodOverPeriod/transformProps.ts\");reactHotLoader.register(transformProps, \"transformProps\", \"/app/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberPeriodOverPeriod/transformProps.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["moment","getMetricLabel","getValueFormatter","getNumberFormatter","ensureIsArray","getTimeOffset","parseDttmToDate","getComparisonFontSize","getHeaderFontSize","parseMetricValue","metricValue","dateObject","utc","ISO_8601","isValid","valueOf","transformProps","chartProps","_chartProps$rawFormDa","_chartProps$rawFormDa2","_chartProps$rawFormDa3","_chartProps$rawFormDa4","_chartProps$rawFormDa5","_chartProps$rawFormDa6","_chartProps$rawFormDa7","_previousCustomTimeRa","_formData$extraFormDa3","width","height","formData","queriesData","datasource","currencyFormats","columnFormats","boldText","headerFontSize","headerText","metric","yAxisFormat","currencyFormat","subheaderFontSize","comparisonColorScheme","comparisonColorEnabled","percentDifferenceFormat","data","dataA","metricName","timeComparison","rawFormData","time_compare","startDateOffset","start_date_offset","currentTimeRangeFilter","adhoc_filters","filter","adhoc_filter","operator","previousCustomTimeRangeFilters","adhoc_custom","previousCustomStartDate","_isEmpty","comparator","_previousCustomTimeRa2","split","isCustomOrInherit","dataOffset","_formData$extraFormDa","_formData$extraFormDa2","_parseDttmToDate","timeRangeFilter","extraFormData","time_range","shifts","startDate","toUTCString","value1","value2","reduce","acc","curr","Object","keys","forEach","key","includes","bigNumber","length","prevNumber","numberFormatter","compTitles","r","y","m","w","formatPercentChange","valueDifference","percentDifferenceNum","Math","abs","compType","percentDifference","percentDifferenceFormattedString","percentDifferenceNumber","shift","dashboardTimeRange","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberPeriodOverPeriod/transformProps.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport moment from 'moment';\nimport {\n  ChartProps,\n  getMetricLabel,\n  getValueFormatter,\n  getNumberFormatter,\n  SimpleAdhocFilter,\n  ensureIsArray,\n  getTimeOffset,\n  parseDttmToDate,\n} from '@superset-ui/core';\nimport { isEmpty } from 'lodash';\nimport { getComparisonFontSize, getHeaderFontSize } from './utils';\n\nexport const parseMetricValue = (metricValue: number | string | null) => {\n  if (typeof metricValue === 'string') {\n    const dateObject = moment.utc(metricValue, moment.ISO_8601, true);\n    if (dateObject.isValid()) {\n      return dateObject.valueOf();\n    }\n    return 0;\n  }\n  return metricValue ?? 0;\n};\n\nexport default function transformProps(chartProps: ChartProps) {\n  /**\n   * This function is called after a successful response has been\n   * received from the chart data endpoint, and is used to transform\n   * the incoming data prior to being sent to the Visualization.\n   *\n   * The transformProps function is also quite useful to return\n   * additional/modified props to your data viz component. The formData\n   * can also be accessed from your CustomViz.tsx file, but\n   * doing supplying custom props here is often handy for integrating third\n   * party libraries that rely on specific props.\n   *\n   * A description of properties in `chartProps`:\n   * - `height`, `width`: the height/width of the DOM element in which\n   *   the chart is located\n   * - `formData`: the chart data request payload that was sent to the\n   *   backend.\n   * - `queriesData`: the chart data response payload that was received\n   *   from the backend. Some notable properties of `queriesData`:\n   *   - `data`: an array with data, each row with an object mapping\n   *     the column/alias to its value. Example:\n   *     `[{ col1: 'abc', metric1: 10 }, { col1: 'xyz', metric1: 20 }]`\n   *   - `rowcount`: the number of rows in `data`\n   *   - `query`: the query that was issued.\n   *\n   * Please note: the transformProps function gets cached when the\n   * application loads. When making changes to the `transformProps`\n   * function during development with hot reloading, changes won't\n   * be seen until restarting the development server.\n   */\n  const {\n    width,\n    height,\n    formData,\n    queriesData,\n    datasource: { currencyFormats = {}, columnFormats = {} },\n  } = chartProps;\n  const {\n    boldText,\n    headerFontSize,\n    headerText,\n    metric,\n    yAxisFormat,\n    currencyFormat,\n    subheaderFontSize,\n    comparisonColorScheme,\n    comparisonColorEnabled,\n    percentDifferenceFormat,\n  } = formData;\n  const { data: dataA = [] } = queriesData[0];\n  const data = dataA;\n  const metricName = metric ? getMetricLabel(metric) : '';\n  const timeComparison = ensureIsArray(chartProps.rawFormData?.time_compare)[0];\n  const startDateOffset = chartProps.rawFormData?.start_date_offset;\n  const currentTimeRangeFilter = chartProps.rawFormData?.adhoc_filters?.filter(\n    (adhoc_filter: SimpleAdhocFilter) =>\n      adhoc_filter.operator === 'TEMPORAL_RANGE',\n  )?.[0];\n  // In case the viz is using all version of controls, we try to load them\n  const previousCustomTimeRangeFilters: any =\n    chartProps.rawFormData?.adhoc_custom?.filter(\n      (filter: SimpleAdhocFilter) => filter.operator === 'TEMPORAL_RANGE',\n    ) || [];\n\n  let previousCustomStartDate = '';\n  if (\n    !isEmpty(previousCustomTimeRangeFilters) &&\n    previousCustomTimeRangeFilters[0]?.comparator !== 'No Filter'\n  ) {\n    previousCustomStartDate =\n      previousCustomTimeRangeFilters[0]?.comparator.split(' : ')[0];\n  }\n  const isCustomOrInherit =\n    timeComparison === 'custom' || timeComparison === 'inherit';\n  let dataOffset: string[] = [];\n  if (isCustomOrInherit) {\n    dataOffset = getTimeOffset({\n      timeRangeFilter: {\n        ...currentTimeRangeFilter,\n        comparator:\n          formData?.extraFormData?.time_range ??\n          (currentTimeRangeFilter as any)?.comparator,\n      },\n      shifts: ensureIsArray(timeComparison),\n      startDate:\n        previousCustomStartDate && !startDateOffset\n          ? parseDttmToDate(previousCustomStartDate)?.toUTCString()\n          : startDateOffset,\n    });\n  }\n\n  const { value1, value2 } = data.reduce(\n    (acc: { value1: number; value2: number }, curr: { [x: string]: any }) => {\n      Object.keys(curr).forEach(key => {\n        if (\n          key.includes(\n            `${metricName}__${\n              !isCustomOrInherit ? timeComparison : dataOffset[0]\n            }`,\n          )\n        ) {\n          acc.value2 += curr[key];\n        } else if (key.includes(metricName)) {\n          acc.value1 += curr[key];\n        }\n      });\n      return acc;\n    },\n    { value1: 0, value2: 0 },\n  );\n\n  let bigNumber: number | string =\n    data.length === 0 ? 0 : parseMetricValue(value1);\n  let prevNumber: number | string =\n    data.length === 0 ? 0 : parseMetricValue(value2);\n\n  const numberFormatter = getValueFormatter(\n    metric,\n    currencyFormats,\n    columnFormats,\n    yAxisFormat,\n    currencyFormat,\n  );\n\n  const compTitles = {\n    r: 'Range' as string,\n    y: 'Year' as string,\n    m: 'Month' as string,\n    w: 'Week' as string,\n  };\n\n  const formatPercentChange = getNumberFormatter(percentDifferenceFormat);\n\n  let valueDifference: number | string = bigNumber - prevNumber;\n\n  let percentDifferenceNum;\n\n  if (!bigNumber && !prevNumber) {\n    percentDifferenceNum = 0;\n  } else if (!bigNumber || !prevNumber) {\n    percentDifferenceNum = bigNumber ? 1 : -1;\n  } else {\n    percentDifferenceNum = (bigNumber - prevNumber) / Math.abs(prevNumber);\n  }\n\n  const compType = compTitles[formData.timeComparison];\n  bigNumber = numberFormatter(bigNumber);\n  prevNumber = numberFormatter(prevNumber);\n  valueDifference = numberFormatter(valueDifference);\n  const percentDifference: string = formatPercentChange(percentDifferenceNum);\n\n  return {\n    width,\n    height,\n    data,\n    metricName,\n    bigNumber,\n    prevNumber,\n    valueDifference,\n    percentDifferenceFormattedString: percentDifference,\n    boldText,\n    headerFontSize: getHeaderFontSize(headerFontSize),\n    subheaderFontSize: getComparisonFontSize(subheaderFontSize),\n    headerText,\n    compType,\n    comparisonColorEnabled,\n    comparisonColorScheme,\n    percentDifferenceNumber: percentDifferenceNum,\n    currentTimeRangeFilter,\n    startDateOffset,\n    shift: timeComparison,\n    dashboardTimeRange: formData?.extraFormData?.time_range,\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}