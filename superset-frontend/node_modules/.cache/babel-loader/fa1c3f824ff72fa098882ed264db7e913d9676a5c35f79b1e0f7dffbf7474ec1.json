{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, css, useTheme, getColumnLabel, useCSSTextTruncation } from '@superset-ui/core';\nimport { Tag } from 'src/components';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { CustomCloseIcon } from 'src/components/Tags/Tag';\nimport { ellipsisCss } from './styles';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst StyledCrossFilterValue = styled.b`\n  ${({ theme }) => `\n    max-width: ${theme.gridUnit * 25}px;\n  `}\n  ${ellipsisCss}\n`;\nconst StyledCrossFilterColumn = styled('span')`\n  ${({ theme }) => `\n    max-width: ${theme.gridUnit * 25}px;\n    padding-right: ${theme.gridUnit}px;\n  `}\n  ${ellipsisCss}\n`;\nconst StyledTag = styled(Tag)`\n  ${({ theme }) => `\n    border: 1px solid ${theme.colors.grayscale.light3};\n    border-radius: 2px;\n    .anticon-close {\n      vertical-align: middle;\n    }\n  `}\n`;\nconst CrossFilterTag = (props) => {var _filter$column;\n  const { filter, orientation, removeCrossFilter } = props;\n  const theme = useTheme();\n  const [columnRef, columnIsTruncated] = useCSSTextTruncation();\n  const [valueRef, valueIsTruncated] = useCSSTextTruncation();\n  const columnLabel = getColumnLabel((_filter$column = filter.column) != null ? _filter$column : '');\n  return _jsxs(StyledTag, { css: css`\n        ${orientation === FilterBarOrientation.Vertical ?\n    `\n            margin-top: ${theme.gridUnit * 2}px;\n          ` :\n    `\n            margin-left: ${theme.gridUnit * 2}px;\n          `}\n      `, closable: true, onClose: () => removeCrossFilter(filter.emitterId), closeIcon: CustomCloseIcon, children: [\n    _jsx(Tooltip, { title: columnIsTruncated ? columnLabel : null, children:\n      _jsx(StyledCrossFilterColumn, { ref: columnRef, children:\n        columnLabel }\n      ) }\n    ),\n    _jsx(Tooltip, { title: valueIsTruncated ? filter.value : null, children:\n      _jsx(StyledCrossFilterValue, { ref: valueRef, children:\n        filter.value }\n      ) }\n    )] }\n  );\n};__signature__(CrossFilterTag, \"useTheme{theme}\\nuseCSSTextTruncation{[columnRef, columnIsTruncated]}\\nuseCSSTextTruncation{[valueRef, valueIsTruncated]}\", () => [useTheme, useCSSTextTruncation, useCSSTextTruncation]);const _default =\nCrossFilterTag;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledCrossFilterValue, \"StyledCrossFilterValue\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilterTag.tsx\");reactHotLoader.register(StyledCrossFilterColumn, \"StyledCrossFilterColumn\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilterTag.tsx\");reactHotLoader.register(StyledTag, \"StyledTag\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilterTag.tsx\");reactHotLoader.register(CrossFilterTag, \"CrossFilterTag\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilterTag.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilterTag.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["styled","css","useTheme","getColumnLabel","useCSSTextTruncation","Tag","Tooltip","FilterBarOrientation","CustomCloseIcon","ellipsisCss","jsx","_jsx","jsxs","_jsxs","StyledCrossFilterValue","b","theme","gridUnit","StyledCrossFilterColumn","StyledTag","colors","grayscale","light3","CrossFilterTag","props","_filter$column","filter","orientation","removeCrossFilter","columnRef","columnIsTruncated","valueRef","valueIsTruncated","columnLabel","column","Vertical","closable","onClose","emitterId","closeIcon","children","title","ref","value","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/CrossFilterTag.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  styled,\n  css,\n  useTheme,\n  getColumnLabel,\n  useCSSTextTruncation,\n} from '@superset-ui/core';\nimport { CrossFilterIndicator } from 'src/dashboard/components/nativeFilters/selectors';\nimport { Tag } from 'src/components';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { CustomCloseIcon } from 'src/components/Tags/Tag';\nimport { ellipsisCss } from './styles';\n\nconst StyledCrossFilterValue = styled.b`\n  ${({ theme }) => `\n    max-width: ${theme.gridUnit * 25}px;\n  `}\n  ${ellipsisCss}\n`;\n\nconst StyledCrossFilterColumn = styled('span')`\n  ${({ theme }) => `\n    max-width: ${theme.gridUnit * 25}px;\n    padding-right: ${theme.gridUnit}px;\n  `}\n  ${ellipsisCss}\n`;\n\nconst StyledTag = styled(Tag)`\n  ${({ theme }) => `\n    border: 1px solid ${theme.colors.grayscale.light3};\n    border-radius: 2px;\n    .anticon-close {\n      vertical-align: middle;\n    }\n  `}\n`;\n\nconst CrossFilterTag = (props: {\n  filter: CrossFilterIndicator;\n  orientation: FilterBarOrientation;\n  removeCrossFilter: (filterId: number) => void;\n}) => {\n  const { filter, orientation, removeCrossFilter } = props;\n  const theme = useTheme();\n  const [columnRef, columnIsTruncated] =\n    useCSSTextTruncation<HTMLSpanElement>();\n  const [valueRef, valueIsTruncated] = useCSSTextTruncation<HTMLSpanElement>();\n\n  const columnLabel = getColumnLabel(filter.column ?? '');\n\n  return (\n    <StyledTag\n      css={css`\n        ${orientation === FilterBarOrientation.Vertical\n          ? `\n            margin-top: ${theme.gridUnit * 2}px;\n          `\n          : `\n            margin-left: ${theme.gridUnit * 2}px;\n          `}\n      `}\n      closable\n      onClose={() => removeCrossFilter(filter.emitterId)}\n      closeIcon={CustomCloseIcon}\n    >\n      <Tooltip title={columnIsTruncated ? columnLabel : null}>\n        <StyledCrossFilterColumn ref={columnRef}>\n          {columnLabel}\n        </StyledCrossFilterColumn>\n      </Tooltip>\n      <Tooltip title={valueIsTruncated ? filter.value : null}>\n        <StyledCrossFilterValue ref={valueRef}>\n          {filter.value}\n        </StyledCrossFilterValue>\n      </Tooltip>\n    </StyledTag>\n  );\n};\n\nexport default CrossFilterTag;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}