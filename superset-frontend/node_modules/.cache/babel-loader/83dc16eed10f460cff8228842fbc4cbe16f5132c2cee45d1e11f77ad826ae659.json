{"ast":null,"code":"import { css as _css } from \"@emotion/react\";import _debounce from \"lodash/debounce\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState, useEffect, useRef } from 'react';\nimport { css, GenericDataType, getTimeFormatter, safeHtmlSpan, styled, t, TimeFormats, useTheme } from '@superset-ui/core';\nimport { Global } from '@emotion/react';\n\nimport { Space } from 'src/components';\nimport { Input } from 'src/components/Input';\nimport { BOOL_FALSE_DISPLAY, BOOL_TRUE_DISPLAY, NULL_DISPLAY, SLOW_DEBOUNCE } from 'src/constants';\nimport { Radio } from 'src/components/Radio';\nimport Icons from 'src/components/Icons';\nimport Button from 'src/components/Button';\nimport Popover from 'src/components/Popover';\nimport { prepareCopyToClipboardTabularData } from 'src/utils/common';\nimport CopyToClipboard from 'src/components/CopyToClipboard';\nimport { getTimeColumns, setTimeColumns } from './utils';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nexport const CellNull = styled('span')`\n  color: ${({ theme }) => theme.colors.grayscale.light1};\n`;\nexport const CopyButton = styled(Button)`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n\n  // needed to override button's first-of-type margin: 0\n  && {\n    margin: 0 ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  i {\n    padding: 0 ${({ theme }) => theme.gridUnit}px;\n  }\n`;\nexport const CopyToClipboardButton = ({ data, columns }) => {\n  const theme = useTheme();\n  return _jsx(CopyToClipboard, { text: data && columns ? prepareCopyToClipboardTabularData(data, columns) : '', wrapped: false, copyNode: _jsx(Icons.CopyOutlined, { iconColor: theme.colors.grayscale.base, iconSize: \"l\", \"aria-label\": t('Copy'), role: \"button\", css: css`\n            &.anticon > * {\n              line-height: 0;\n            }\n          ` }) });\n};__signature__(CopyToClipboardButton, \"useTheme{theme}\", () => [useTheme]);\nexport const FilterInput = ({ onChangeHandler, shouldFocus = false }) => {\n  const inputRef = useRef(null);\n  useEffect(() => {\n    // Focus the input element when the component mounts\n    if (inputRef.current && shouldFocus) {\n      inputRef.current.focus();\n    }\n  }, []);\n  const theme = useTheme();\n  const debouncedChangeHandler = _debounce(onChangeHandler, SLOW_DEBOUNCE);\n  return _jsx(Input, { prefix: _jsx(Icons.Search, { iconColor: theme.colors.grayscale.base }), placeholder: t('Search'), onChange: (event) => {\n      const filterText = event.target.value;\n      debouncedChangeHandler(filterText);\n    }, css: css`\n        width: 200px;\n        margin-right: ${theme.gridUnit * 2}px;\n      `, ref: inputRef });\n};__signature__(FilterInput, \"useRef{inputRef}\\nuseEffect{}\\nuseTheme{theme}\", () => [useTheme]);\nvar FormatPickerValue;\n(function (FormatPickerValue) {\n  FormatPickerValue[\"Formatted\"] = \"formatted\";\n  FormatPickerValue[\"Original\"] = \"original\";\n})(FormatPickerValue || (FormatPickerValue = {}));\nconst FormatPicker = ({ onChange, value }) => _jsx(Radio.Group, { value: value, onChange: onChange, children:\n  _jsxs(Space, { direction: \"vertical\", children: [\n    _jsx(Radio, { value: FormatPickerValue.Formatted, children: t('Formatted date') }),\n    _jsx(Radio, { value: FormatPickerValue.Original, children: t('Original value') })] }\n  ) }\n);\nconst FormatPickerContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  padding: ${({ theme }) => `${theme.gridUnit * 4}px`};\n`;\nconst FormatPickerLabel = styled.span`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  text-transform: uppercase;\n`;\nconst DataTableTemporalHeaderCell = ({ columnName, onTimeColumnChange, datasourceId, isOriginalTimeColumn }) => {\n  const theme = useTheme();\n  const onChange = (e) => {\n    onTimeColumnChange(columnName, e.target.value);\n  };\n  const overlayContent = useMemo(() => datasourceId ? // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n  _jsxs(FormatPickerContainer, { onClick: (e) => e.stopPropagation(), children: [\n\n    _jsx(Global, { styles: css`\n              .column-formatting-popover .ant-popover-inner-content {\n                padding: 0;\n              }\n            ` }),\n    _jsx(FormatPickerLabel, { children: t('Column Formatting') }),\n    _jsx(FormatPicker, { onChange: onChange, value: isOriginalTimeColumn ?\n      FormatPickerValue.Original :\n      FormatPickerValue.Formatted })] }\n  ) : null, [datasourceId, isOriginalTimeColumn]);\n  return datasourceId ? _jsxs(\"span\", { children: [\n    _jsx(Popover, { overlayClassName: \"column-formatting-popover\", trigger: \"click\", content: overlayContent, placement: \"bottomLeft\", arrowPointAtCenter: true, children:\n      _jsx(Icons.SettingOutlined, { iconSize: \"m\", iconColor: theme.colors.grayscale.light1, css: /*#__PURE__*/_css({ marginRight: `${theme.gridUnit}px` }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:DataTableTemporalHeaderCell;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9EYXRhVGFibGVDb250cm9sL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvSHNGIiwiZmlsZSI6Ii9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9EYXRhVGFibGVDb250cm9sL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNzcywgR2VuZXJpY0RhdGFUeXBlLCBnZXRUaW1lRm9ybWF0dGVyLCBzYWZlSHRtbFNwYW4sIHN0eWxlZCwgdCwgVGltZUZvcm1hdHMsIHVzZVRoZW1lLCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IEdsb2JhbCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFNwYWNlIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdzcmMvY29tcG9uZW50cy9JbnB1dCc7XG5pbXBvcnQgeyBCT09MX0ZBTFNFX0RJU1BMQVksIEJPT0xfVFJVRV9ESVNQTEFZLCBOVUxMX0RJU1BMQVksIFNMT1dfREVCT1VOQ0UsIH0gZnJvbSAnc3JjL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBSYWRpbyB9IGZyb20gJ3NyYy9jb21wb25lbnRzL1JhZGlvJztcbmltcG9ydCBJY29ucyBmcm9tICdzcmMvY29tcG9uZW50cy9JY29ucyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQgUG9wb3ZlciBmcm9tICdzcmMvY29tcG9uZW50cy9Qb3BvdmVyJztcbmltcG9ydCB7IHByZXBhcmVDb3B5VG9DbGlwYm9hcmRUYWJ1bGFyRGF0YSB9IGZyb20gJ3NyYy91dGlscy9jb21tb24nO1xuaW1wb3J0IENvcHlUb0NsaXBib2FyZCBmcm9tICdzcmMvY29tcG9uZW50cy9Db3B5VG9DbGlwYm9hcmQnO1xuaW1wb3J0IHsgZ2V0VGltZUNvbHVtbnMsIHNldFRpbWVDb2x1bW5zIH0gZnJvbSAnLi91dGlscyc7XG5leHBvcnQgY29uc3QgQ2VsbE51bGwgPSBzdHlsZWQoJ3NwYW4nKSBgXG4gIGNvbG9yOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUubGlnaHQxfTtcbmA7XG5leHBvcnQgY29uc3QgQ29weUJ1dHRvbiA9IHN0eWxlZChCdXR0b24pIGBcbiAgZm9udC1zaXplOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMuc31weDtcblxuICAvLyBuZWVkZWQgdG8gb3ZlcnJpZGUgYnV0dG9uJ3MgZmlyc3Qtb2YtdHlwZSBtYXJnaW46IDBcbiAgJiYge1xuICAgIG1hcmdpbjogMCAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogMn1weDtcbiAgfVxuXG4gIGkge1xuICAgIHBhZGRpbmc6IDAgJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdH1weDtcbiAgfVxuYDtcbmV4cG9ydCBjb25zdCBDb3B5VG9DbGlwYm9hcmRCdXR0b24gPSAoeyBkYXRhLCBjb2x1bW5zLCB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIHJldHVybiAoPENvcHlUb0NsaXBib2FyZCB0ZXh0PXtkYXRhICYmIGNvbHVtbnMgPyBwcmVwYXJlQ29weVRvQ2xpcGJvYXJkVGFidWxhckRhdGEoZGF0YSwgY29sdW1ucykgOiAnJ30gd3JhcHBlZD17ZmFsc2V9IGNvcHlOb2RlPXs8SWNvbnMuQ29weU91dGxpbmVkIGljb25Db2xvcj17dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5iYXNlfSBpY29uU2l6ZT1cImxcIiBhcmlhLWxhYmVsPXt0KCdDb3B5Jyl9IHJvbGU9XCJidXR0b25cIiBjc3M9e2NzcyBgXG4gICAgICAgICAgICAmLmFudGljb24gPiAqIHtcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH0vPn0vPik7XG59O1xuZXhwb3J0IGNvbnN0IEZpbHRlcklucHV0ID0gKHsgb25DaGFuZ2VIYW5kbGVyLCBzaG91bGRGb2N1cyA9IGZhbHNlLCB9KSA9PiB7XG4gICAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gRm9jdXMgdGhlIGlucHV0IGVsZW1lbnQgd2hlbiB0aGUgY29tcG9uZW50IG1vdW50c1xuICAgICAgICBpZiAoaW5wdXRSZWYuY3VycmVudCAmJiBzaG91bGRGb2N1cykge1xuICAgICAgICAgICAgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgICBjb25zdCBkZWJvdW5jZWRDaGFuZ2VIYW5kbGVyID0gZGVib3VuY2Uob25DaGFuZ2VIYW5kbGVyLCBTTE9XX0RFQk9VTkNFKTtcbiAgICByZXR1cm4gKDxJbnB1dCBwcmVmaXg9ezxJY29ucy5TZWFyY2ggaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmJhc2V9Lz59IHBsYWNlaG9sZGVyPXt0KCdTZWFyY2gnKX0gb25DaGFuZ2U9eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyVGV4dCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGRlYm91bmNlZENoYW5nZUhhbmRsZXIoZmlsdGVyVGV4dCk7XG4gICAgICAgIH19IGNzcz17Y3NzIGBcbiAgICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAyfXB4O1xuICAgICAgYH0gcmVmPXtpbnB1dFJlZn0vPik7XG59O1xudmFyIEZvcm1hdFBpY2tlclZhbHVlO1xuKGZ1bmN0aW9uIChGb3JtYXRQaWNrZXJWYWx1ZSkge1xuICAgIEZvcm1hdFBpY2tlclZhbHVlW1wiRm9ybWF0dGVkXCJdID0gXCJmb3JtYXR0ZWRcIjtcbiAgICBGb3JtYXRQaWNrZXJWYWx1ZVtcIk9yaWdpbmFsXCJdID0gXCJvcmlnaW5hbFwiO1xufSkoRm9ybWF0UGlja2VyVmFsdWUgfHwgKEZvcm1hdFBpY2tlclZhbHVlID0ge30pKTtcbmNvbnN0IEZvcm1hdFBpY2tlciA9ICh7IG9uQ2hhbmdlLCB2YWx1ZSwgfSkgPT4gKDxSYWRpby5Hcm91cCB2YWx1ZT17dmFsdWV9IG9uQ2hhbmdlPXtvbkNoYW5nZX0+XG4gICAgPFNwYWNlIGRpcmVjdGlvbj1cInZlcnRpY2FsXCI+XG4gICAgICA8UmFkaW8gdmFsdWU9e0Zvcm1hdFBpY2tlclZhbHVlLkZvcm1hdHRlZH0+e3QoJ0Zvcm1hdHRlZCBkYXRlJyl9PC9SYWRpbz5cbiAgICAgIDxSYWRpbyB2YWx1ZT17Rm9ybWF0UGlja2VyVmFsdWUuT3JpZ2luYWx9Pnt0KCdPcmlnaW5hbCB2YWx1ZScpfTwvUmFkaW8+XG4gICAgPC9TcGFjZT5cbiAgPC9SYWRpby5Hcm91cD4pO1xuY29uc3QgRm9ybWF0UGlja2VyQ29udGFpbmVyID0gc3R5bGVkLmRpdiBgXG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgcGFkZGluZzogJHsoeyB0aGVtZSB9KSA9PiBgJHt0aGVtZS5ncmlkVW5pdCAqIDR9cHhgfTtcbmA7XG5jb25zdCBGb3JtYXRQaWNrZXJMYWJlbCA9IHN0eWxlZC5zcGFuIGBcbiAgZm9udC1zaXplOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMuc31weDtcbiAgY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5iYXNlfTtcbiAgbWFyZ2luLWJvdHRvbTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDJ9cHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG5gO1xuY29uc3QgRGF0YVRhYmxlVGVtcG9yYWxIZWFkZXJDZWxsID0gKHsgY29sdW1uTmFtZSwgb25UaW1lQ29sdW1uQ2hhbmdlLCBkYXRhc291cmNlSWQsIGlzT3JpZ2luYWxUaW1lQ29sdW1uLCB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IG9uQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgICAgb25UaW1lQ29sdW1uQ2hhbmdlKGNvbHVtbk5hbWUsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IG92ZXJsYXlDb250ZW50ID0gdXNlTWVtbygoKSA9PiBkYXRhc291cmNlSWQgPyAoIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9uby1zdGF0aWMtZWxlbWVudC1pbnRlcmFjdGlvbnNcbiAgICA8Rm9ybWF0UGlja2VyQ29udGFpbmVyIG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgey8qIGhhY2sgdG8gZGlzYWJsZSBjbGljayBwcm9wYWdhdGlvbiBmcm9tIHBvcG92ZXIgY29udGVudCB0byB0YWJsZSBoZWFkZXIsIHdoaWNoIHRyaWdnZXJzIHNvcnRpbmcgY29sdW1uICovfVxuICAgICAgICAgIDxHbG9iYWwgc3R5bGVzPXtjc3MgYFxuICAgICAgICAgICAgICAuY29sdW1uLWZvcm1hdHRpbmctcG9wb3ZlciAuYW50LXBvcG92ZXItaW5uZXItY29udGVudCB7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgYH0vPlxuICAgICAgICAgIDxGb3JtYXRQaWNrZXJMYWJlbD57dCgnQ29sdW1uIEZvcm1hdHRpbmcnKX08L0Zvcm1hdFBpY2tlckxhYmVsPlxuICAgICAgICAgIDxGb3JtYXRQaWNrZXIgb25DaGFuZ2U9e29uQ2hhbmdlfSB2YWx1ZT17aXNPcmlnaW5hbFRpbWVDb2x1bW5cbiAgICAgICAgICAgID8gRm9ybWF0UGlja2VyVmFsdWUuT3JpZ2luYWxcbiAgICAgICAgICAgIDogRm9ybWF0UGlja2VyVmFsdWUuRm9ybWF0dGVkfS8+XG4gICAgICAgIDwvRm9ybWF0UGlja2VyQ29udGFpbmVyPikgOiBudWxsLCBbZGF0YXNvdXJjZUlkLCBpc09yaWdpbmFsVGltZUNvbHVtbl0pO1xuICAgIHJldHVybiBkYXRhc291cmNlSWQgPyAoPHNwYW4+XG4gICAgICA8UG9wb3ZlciBvdmVybGF5Q2xhc3NOYW1lPVwiY29sdW1uLWZvcm1hdHRpbmctcG9wb3ZlclwiIHRyaWdnZXI9XCJjbGlja1wiIGNvbnRlbnQ9e292ZXJsYXlDb250ZW50fSBwbGFjZW1lbnQ9XCJib3R0b21MZWZ0XCIgYXJyb3dQb2ludEF0Q2VudGVyPlxuICAgICAgICA8SWNvbnMuU2V0dGluZ091dGxpbmVkIGljb25TaXplPVwibVwiIGljb25Db2xvcj17dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDF9IGNzcz17eyBtYXJnaW5SaWdodDogYCR7dGhlbWUuZ3JpZFVuaXR9cHhgIH19IG9uQ2xpY2s9e2UgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0vPlxuICAgICAgPC9Qb3BvdmVyPlxuICAgICAge2NvbHVtbk5hbWV9XG4gICAgPC9zcGFuPikgOiAoPHNwYW4+e2NvbHVtbk5hbWV9PC9zcGFuPik7XG59O1xuZXhwb3J0IGNvbnN0IHVzZUZpbHRlcmVkVGFibGVEYXRhID0gKGZpbHRlclRleHQsIGRhdGEpID0+IHtcbiAgICBjb25zdCByb3dzQXNTdHJpbmdzID0gdXNlTWVtbygoKSA9PiBkYXRhPy5tYXAoKHJvdykgPT4gT2JqZWN0LnZhbHVlcyhyb3cpLm1hcCh2YWx1ZSA9PiB2YWx1ZSA/IHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA6IHQoJ04vQScpKSkgPz8gW10sIFtkYXRhXSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoIWRhdGE/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhLmZpbHRlcigoXywgaW5kZXgpID0+IHJvd3NBc1N0cmluZ3NbaW5kZXhdLnNvbWUodmFsdWUgPT4gdmFsdWU/LmluY2x1ZGVzKGZpbHRlclRleHQudG9Mb3dlckNhc2UoKSkpKTtcbiAgICB9LCBbZGF0YSwgZmlsdGVyVGV4dCwgcm93c0FzU3RyaW5nc10pO1xufTtcbmNvbnN0IHRpbWVGb3JtYXR0ZXIgPSBnZXRUaW1lRm9ybWF0dGVyKFRpbWVGb3JtYXRzLkRBVEFCQVNFX0RBVEVUSU1FKTtcbmV4cG9ydCBjb25zdCB1c2VUYWJsZUNvbHVtbnMgPSAoY29sbmFtZXMsIGNvbHR5cGVzLCBkYXRhLCBkYXRhc291cmNlSWQsIGlzVmlzaWJsZSwgbW9yZUNvbmZpZ3MsIGFsbG93SFRNTCkgPT4ge1xuICAgIGNvbnN0IFtvcmlnaW5hbEZvcm1hdHRlZFRpbWVDb2x1bW5zLCBzZXRPcmlnaW5hbEZvcm1hdHRlZFRpbWVDb2x1bW5zXSA9IHVzZVN0YXRlKGdldFRpbWVDb2x1bW5zKGRhdGFzb3VyY2VJZCkpO1xuICAgIGNvbnN0IG9uVGltZUNvbHVtbkNoYW5nZSA9IChjb2x1bW5OYW1lLCBjb2x1bW5UeXBlKSA9PiB7XG4gICAgICAgIGlmICghZGF0YXNvdXJjZUlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtblR5cGUgPT09IEZvcm1hdFBpY2tlclZhbHVlLk9yaWdpbmFsICYmXG4gICAgICAgICAgICAhb3JpZ2luYWxGb3JtYXR0ZWRUaW1lQ29sdW1ucy5pbmNsdWRlcyhjb2x1bW5OYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgY29scyA9IGdldFRpbWVDb2x1bW5zKGRhdGFzb3VyY2VJZCk7XG4gICAgICAgICAgICBjb2xzLnB1c2goY29sdW1uTmFtZSk7XG4gICAgICAgICAgICBzZXRUaW1lQ29sdW1ucyhkYXRhc291cmNlSWQsIGNvbHMpO1xuICAgICAgICAgICAgc2V0T3JpZ2luYWxGb3JtYXR0ZWRUaW1lQ29sdW1ucyhjb2xzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2x1bW5UeXBlID09PSBGb3JtYXRQaWNrZXJWYWx1ZS5Gb3JtYXR0ZWQgJiZcbiAgICAgICAgICAgIG9yaWdpbmFsRm9ybWF0dGVkVGltZUNvbHVtbnMuaW5jbHVkZXMoY29sdW1uTmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHMgPSBnZXRUaW1lQ29sdW1ucyhkYXRhc291cmNlSWQpO1xuICAgICAgICAgICAgY29scy5zcGxpY2UoY29scy5pbmRleE9mKGNvbHVtbk5hbWUpLCAxKTtcbiAgICAgICAgICAgIHNldFRpbWVDb2x1bW5zKGRhdGFzb3VyY2VJZCwgY29scyk7XG4gICAgICAgICAgICBzZXRPcmlnaW5hbEZvcm1hdHRlZFRpbWVDb2x1bW5zKGNvbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICBzZXRPcmlnaW5hbEZvcm1hdHRlZFRpbWVDb2x1bW5zKGdldFRpbWVDb2x1bW5zKGRhdGFzb3VyY2VJZCkpO1xuICAgICAgICB9XG4gICAgfSwgW2RhdGFzb3VyY2VJZCwgaXNWaXNpYmxlXSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gY29sbmFtZXMgJiYgZGF0YT8ubGVuZ3RoXG4gICAgICAgID8gY29sbmFtZXNcbiAgICAgICAgICAgIC5maWx0ZXIoKGNvbHVtbikgPT4gT2JqZWN0LmtleXMoZGF0YVswXSkuaW5jbHVkZXMoY29sdW1uKSlcbiAgICAgICAgICAgIC5tYXAoKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbFR5cGUgPSBjb2x0eXBlcz8uW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VmFsdWUgPSBkYXRhWzBdW2tleV07XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEZvcm1hdHRlZFRpbWVDb2x1bW5JbmRleCA9IGNvbFR5cGUgPT09IEdlbmVyaWNEYXRhVHlwZS5UZW1wb3JhbFxuICAgICAgICAgICAgICAgID8gb3JpZ2luYWxGb3JtYXR0ZWRUaW1lQ29sdW1ucy5pbmRleE9mKGtleSlcbiAgICAgICAgICAgICAgICA6IC0xO1xuICAgICAgICAgICAgY29uc3QgaXNPcmlnaW5hbFRpbWVDb2x1bW4gPSBvcmlnaW5hbEZvcm1hdHRlZFRpbWVDb2x1bW5zLmluY2x1ZGVzKGtleSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC8vIHJlYWN0LXRhYmxlIHJlcXVpcmVzIGEgbm9uLWVtcHR5IGlkLCB0aGVyZWZvcmUgd2UgaW50cm9kdWNlIGEgZmFsbGJhY2sgdmFsdWUgaW4gY2FzZSB0aGUga2V5IGlzIGVtcHR5XG4gICAgICAgICAgICAgICAgaWQ6IGtleSB8fCBpbmRleCxcbiAgICAgICAgICAgICAgICBhY2Nlc3Nvcjogcm93ID0+IHJvd1trZXldLFxuICAgICAgICAgICAgICAgIEhlYWRlcjogY29sVHlwZSA9PT0gR2VuZXJpY0RhdGFUeXBlLlRlbXBvcmFsICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBmaXJzdFZhbHVlICE9PSAnc3RyaW5nJyA/ICg8RGF0YVRhYmxlVGVtcG9yYWxIZWFkZXJDZWxsIGNvbHVtbk5hbWU9e2tleX0gZGF0YXNvdXJjZUlkPXtkYXRhc291cmNlSWR9IG9uVGltZUNvbHVtbkNoYW5nZT17b25UaW1lQ29sdW1uQ2hhbmdlfSBpc09yaWdpbmFsVGltZUNvbHVtbj17aXNPcmlnaW5hbFRpbWVDb2x1bW59Lz4pIDogKGtleSksXG4gICAgICAgICAgICAgICAgQ2VsbDogKHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCT09MX1RSVUVfRElTUExBWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQk9PTF9GQUxTRV9ESVNQTEFZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxDZWxsTnVsbD57TlVMTF9ESVNQTEFZfTwvQ2VsbE51bGw+O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2xUeXBlID09PSBHZW5lcmljRGF0YVR5cGUuVGVtcG9yYWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRm9ybWF0dGVkVGltZUNvbHVtbkluZGV4ID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpbWVGb3JtYXR0ZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIGFsbG93SFRNTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhZmVIdG1sU3Bhbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAuLi5tb3JlQ29uZmlncz8uW2tleV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICA6IFtdLCBbXG4gICAgICAgIGNvbG5hbWVzLFxuICAgICAgICBkYXRhLFxuICAgICAgICBjb2x0eXBlcyxcbiAgICAgICAgZGF0YXNvdXJjZUlkLFxuICAgICAgICBtb3JlQ29uZmlncyxcbiAgICAgICAgb3JpZ2luYWxGb3JtYXR0ZWRUaW1lQ29sdW1ucyxcbiAgICBdKTtcbn07XG4iXX0= */\"), onClick: (e) => e.stopPropagation() }) }\n    ),\n    columnName] }\n  ) : _jsx(\"span\", { children: columnName });\n};__signature__(DataTableTemporalHeaderCell, \"useTheme{theme}\\nuseMemo{overlayContent}\", () => [useTheme]);\nexport const useFilteredTableData = (filterText, data) => {\n  const rowsAsStrings = useMemo(() => {var _data$map;return (_data$map = data == null ? void 0 : data.map((row) => Object.values(row).map((value) => value ? value.toString().toLowerCase() : t('N/A')))) != null ? _data$map : [];}, [data]);\n  return useMemo(() => {\n    if (!(data != null && data.length)) {\n      return [];\n    }\n    return data.filter((_, index) => rowsAsStrings[index].some((value) => value == null ? void 0 : value.includes(filterText.toLowerCase())));\n  }, [data, filterText, rowsAsStrings]);\n};__signature__(useFilteredTableData, \"useMemo{rowsAsStrings}\\nuseMemo{}\");\nconst timeFormatter = getTimeFormatter(TimeFormats.DATABASE_DATETIME);\nexport const useTableColumns = (colnames, coltypes, data, datasourceId, isVisible, moreConfigs, allowHTML) => {\n  const [originalFormattedTimeColumns, setOriginalFormattedTimeColumns] = useState(getTimeColumns(datasourceId));\n  const onTimeColumnChange = (columnName, columnType) => {\n    if (!datasourceId) {\n      return;\n    }\n    if (columnType === FormatPickerValue.Original &&\n    !originalFormattedTimeColumns.includes(columnName)) {\n      const cols = getTimeColumns(datasourceId);\n      cols.push(columnName);\n      setTimeColumns(datasourceId, cols);\n      setOriginalFormattedTimeColumns(cols);\n    } else\n    if (columnType === FormatPickerValue.Formatted &&\n    originalFormattedTimeColumns.includes(columnName)) {\n      const cols = getTimeColumns(datasourceId);\n      cols.splice(cols.indexOf(columnName), 1);\n      setTimeColumns(datasourceId, cols);\n      setOriginalFormattedTimeColumns(cols);\n    }\n  };\n  useEffect(() => {\n    if (isVisible) {\n      setOriginalFormattedTimeColumns(getTimeColumns(datasourceId));\n    }\n  }, [datasourceId, isVisible]);\n  return useMemo(() => colnames && data != null && data.length ?\n  colnames.\n  filter((column) => Object.keys(data[0]).includes(column)).\n  map((key, index) => {\n    const colType = coltypes == null ? void 0 : coltypes[index];\n    const firstValue = data[0][key];\n    const originalFormattedTimeColumnIndex = colType === GenericDataType.Temporal ?\n    originalFormattedTimeColumns.indexOf(key) :\n    -1;\n    const isOriginalTimeColumn = originalFormattedTimeColumns.includes(key);\n    return {\n      // react-table requires a non-empty id, therefore we introduce a fallback value in case the key is empty\n      id: key || index,\n      accessor: (row) => row[key],\n      Header: colType === GenericDataType.Temporal &&\n      typeof firstValue !== 'string' ? _jsx(DataTableTemporalHeaderCell, { columnName: key, datasourceId: datasourceId, onTimeColumnChange: onTimeColumnChange, isOriginalTimeColumn: isOriginalTimeColumn }) : key,\n      Cell: ({ value }) => {\n        if (value === true) {\n          return BOOL_TRUE_DISPLAY;\n        }\n        if (value === false) {\n          return BOOL_FALSE_DISPLAY;\n        }\n        if (value === null) {\n          return _jsx(CellNull, { children: NULL_DISPLAY });\n        }\n        if (colType === GenericDataType.Temporal &&\n        originalFormattedTimeColumnIndex === -1 &&\n        typeof value === 'number') {\n          return timeFormatter(value);\n        }\n        if (typeof value === 'string' && allowHTML) {\n          return safeHtmlSpan(value);\n        }\n        return String(value);\n      },\n      ...(moreConfigs == null ? void 0 : moreConfigs[key])\n    };\n  }) :\n  [], [\n  colnames,\n  data,\n  coltypes,\n  datasourceId,\n  moreConfigs,\n  originalFormattedTimeColumns]\n  );\n};__signature__(useTableColumns, \"useState{[originalFormattedTimeColumns, setOriginalFormattedTimeColumns](getTimeColumns(datasourceId))}\\nuseEffect{}\\nuseMemo{}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CellNull, \"CellNull\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(CopyButton, \"CopyButton\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(CopyToClipboardButton, \"CopyToClipboardButton\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(FilterInput, \"FilterInput\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(FormatPickerValue, \"FormatPickerValue\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(FormatPicker, \"FormatPicker\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(FormatPickerContainer, \"FormatPickerContainer\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(FormatPickerLabel, \"FormatPickerLabel\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(DataTableTemporalHeaderCell, \"DataTableTemporalHeaderCell\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(useFilteredTableData, \"useFilteredTableData\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(timeFormatter, \"timeFormatter\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");reactHotLoader.register(useTableColumns, \"useTableColumns\", \"/app/superset-frontend/src/explore/components/DataTableControl/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","useState","useEffect","useRef","css","GenericDataType","getTimeFormatter","safeHtmlSpan","styled","t","TimeFormats","useTheme","Global","Space","Input","BOOL_FALSE_DISPLAY","BOOL_TRUE_DISPLAY","NULL_DISPLAY","SLOW_DEBOUNCE","Radio","Icons","Button","Popover","prepareCopyToClipboardTabularData","CopyToClipboard","getTimeColumns","setTimeColumns","jsx","_jsx","jsxs","_jsxs","CellNull","theme","colors","grayscale","light1","CopyButton","typography","sizes","s","gridUnit","CopyToClipboardButton","data","columns","text","wrapped","copyNode","CopyOutlined","iconColor","base","iconSize","role","__signature__","FilterInput","onChangeHandler","shouldFocus","inputRef","current","focus","debouncedChangeHandler","_debounce","prefix","Search","placeholder","onChange","event","filterText","target","value","ref","FormatPickerValue","FormatPicker","Group","children","direction","Formatted","Original","FormatPickerContainer","div","FormatPickerLabel","span","DataTableTemporalHeaderCell","columnName","onTimeColumnChange","datasourceId","isOriginalTimeColumn","e","overlayContent","onClick","stopPropagation","styles","overlayClassName","trigger","content","placement","arrowPointAtCenter","SettingOutlined","_css","marginRight","process","env","NODE_ENV","useFilteredTableData","rowsAsStrings","_data$map","map","row","Object","values","toString","toLowerCase","length","filter","_","index","some","includes","timeFormatter","DATABASE_DATETIME","useTableColumns","colnames","coltypes","isVisible","moreConfigs","allowHTML","originalFormattedTimeColumns","setOriginalFormattedTimeColumns","columnType","cols","push","splice","indexOf","column","keys","key","colType","firstValue","originalFormattedTimeColumnIndex","Temporal","id","accessor","Header","Cell","String","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/explore/components/DataTableControl/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo, useState, useEffect, useRef, RefObject } from 'react';\nimport {\n  css,\n  GenericDataType,\n  getTimeFormatter,\n  safeHtmlSpan,\n  styled,\n  t,\n  TimeFormats,\n  useTheme,\n} from '@superset-ui/core';\nimport { Global } from '@emotion/react';\nimport { Column } from 'react-table';\nimport { debounce } from 'lodash';\nimport { Space } from 'src/components';\nimport { Input } from 'src/components/Input';\nimport {\n  BOOL_FALSE_DISPLAY,\n  BOOL_TRUE_DISPLAY,\n  NULL_DISPLAY,\n  SLOW_DEBOUNCE,\n} from 'src/constants';\nimport { Radio } from 'src/components/Radio';\nimport Icons from 'src/components/Icons';\nimport Button from 'src/components/Button';\nimport Popover from 'src/components/Popover';\nimport { prepareCopyToClipboardTabularData } from 'src/utils/common';\nimport CopyToClipboard from 'src/components/CopyToClipboard';\nimport { getTimeColumns, setTimeColumns } from './utils';\n\nexport const CellNull = styled('span')`\n  color: ${({ theme }) => theme.colors.grayscale.light1};\n`;\n\nexport const CopyButton = styled(Button)`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n\n  // needed to override button's first-of-type margin: 0\n  && {\n    margin: 0 ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  i {\n    padding: 0 ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nexport const CopyToClipboardButton = ({\n  data,\n  columns,\n}: {\n  data?: Record<string, any>;\n  columns?: string[];\n}) => {\n  const theme = useTheme();\n  return (\n    <CopyToClipboard\n      text={\n        data && columns ? prepareCopyToClipboardTabularData(data, columns) : ''\n      }\n      wrapped={false}\n      copyNode={\n        <Icons.CopyOutlined\n          iconColor={theme.colors.grayscale.base}\n          iconSize=\"l\"\n          aria-label={t('Copy')}\n          role=\"button\"\n          css={css`\n            &.anticon > * {\n              line-height: 0;\n            }\n          `}\n        />\n      }\n    />\n  );\n};\n\nexport const FilterInput = ({\n  onChangeHandler,\n  shouldFocus = false,\n}: {\n  onChangeHandler(filterText: string): void;\n  shouldFocus?: boolean;\n}) => {\n  const inputRef: RefObject<any> = useRef(null);\n\n  useEffect(() => {\n    // Focus the input element when the component mounts\n    if (inputRef.current && shouldFocus) {\n      inputRef.current.focus();\n    }\n  }, []);\n\n  const theme = useTheme();\n  const debouncedChangeHandler = debounce(onChangeHandler, SLOW_DEBOUNCE);\n  return (\n    <Input\n      prefix={<Icons.Search iconColor={theme.colors.grayscale.base} />}\n      placeholder={t('Search')}\n      onChange={(event: any) => {\n        const filterText = event.target.value;\n        debouncedChangeHandler(filterText);\n      }}\n      css={css`\n        width: 200px;\n        margin-right: ${theme.gridUnit * 2}px;\n      `}\n      ref={inputRef}\n    />\n  );\n};\n\nenum FormatPickerValue {\n  Formatted = 'formatted',\n  Original = 'original',\n}\n\nconst FormatPicker = ({\n  onChange,\n  value,\n}: {\n  onChange: any;\n  value: FormatPickerValue;\n}) => (\n  <Radio.Group value={value} onChange={onChange}>\n    <Space direction=\"vertical\">\n      <Radio value={FormatPickerValue.Formatted}>{t('Formatted date')}</Radio>\n      <Radio value={FormatPickerValue.Original}>{t('Original value')}</Radio>\n    </Space>\n  </Radio.Group>\n);\n\nconst FormatPickerContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  padding: ${({ theme }) => `${theme.gridUnit * 4}px`};\n`;\n\nconst FormatPickerLabel = styled.span`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  text-transform: uppercase;\n`;\n\nconst DataTableTemporalHeaderCell = ({\n  columnName,\n  onTimeColumnChange,\n  datasourceId,\n  isOriginalTimeColumn,\n}: {\n  columnName: string;\n  onTimeColumnChange: (\n    columnName: string,\n    columnType: FormatPickerValue,\n  ) => void;\n  datasourceId?: string;\n  isOriginalTimeColumn: boolean;\n}) => {\n  const theme = useTheme();\n\n  const onChange = (e: any) => {\n    onTimeColumnChange(columnName, e.target.value);\n  };\n\n  const overlayContent = useMemo(\n    () =>\n      datasourceId ? ( // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        <FormatPickerContainer onClick={e => e.stopPropagation()}>\n          {/* hack to disable click propagation from popover content to table header, which triggers sorting column */}\n          <Global\n            styles={css`\n              .column-formatting-popover .ant-popover-inner-content {\n                padding: 0;\n              }\n            `}\n          />\n          <FormatPickerLabel>{t('Column Formatting')}</FormatPickerLabel>\n          <FormatPicker\n            onChange={onChange}\n            value={\n              isOriginalTimeColumn\n                ? FormatPickerValue.Original\n                : FormatPickerValue.Formatted\n            }\n          />\n        </FormatPickerContainer>\n      ) : null,\n    [datasourceId, isOriginalTimeColumn],\n  );\n\n  return datasourceId ? (\n    <span>\n      <Popover\n        overlayClassName=\"column-formatting-popover\"\n        trigger=\"click\"\n        content={overlayContent}\n        placement=\"bottomLeft\"\n        arrowPointAtCenter\n      >\n        <Icons.SettingOutlined\n          iconSize=\"m\"\n          iconColor={theme.colors.grayscale.light1}\n          css={{ marginRight: `${theme.gridUnit}px` }}\n          onClick={e => e.stopPropagation()}\n        />\n      </Popover>\n      {columnName}\n    </span>\n  ) : (\n    <span>{columnName}</span>\n  );\n};\n\nexport const useFilteredTableData = (\n  filterText: string,\n  data?: Record<string, any>[],\n) => {\n  const rowsAsStrings = useMemo(\n    () =>\n      data?.map((row: Record<string, any>) =>\n        Object.values(row).map(value =>\n          value ? value.toString().toLowerCase() : t('N/A'),\n        ),\n      ) ?? [],\n    [data],\n  );\n\n  return useMemo(() => {\n    if (!data?.length) {\n      return [];\n    }\n    return data.filter((_, index: number) =>\n      rowsAsStrings[index].some(\n        value => value?.includes(filterText.toLowerCase()),\n      ),\n    );\n  }, [data, filterText, rowsAsStrings]);\n};\n\nconst timeFormatter = getTimeFormatter(TimeFormats.DATABASE_DATETIME);\n\nexport const useTableColumns = (\n  colnames?: string[],\n  coltypes?: GenericDataType[],\n  data?: Record<string, any>[],\n  datasourceId?: string,\n  isVisible?: boolean,\n  moreConfigs?: { [key: string]: Partial<Column> },\n  allowHTML?: boolean,\n) => {\n  const [originalFormattedTimeColumns, setOriginalFormattedTimeColumns] =\n    useState<string[]>(getTimeColumns(datasourceId));\n\n  const onTimeColumnChange = (\n    columnName: string,\n    columnType: FormatPickerValue,\n  ) => {\n    if (!datasourceId) {\n      return;\n    }\n    if (\n      columnType === FormatPickerValue.Original &&\n      !originalFormattedTimeColumns.includes(columnName)\n    ) {\n      const cols = getTimeColumns(datasourceId);\n      cols.push(columnName);\n      setTimeColumns(datasourceId, cols);\n      setOriginalFormattedTimeColumns(cols);\n    } else if (\n      columnType === FormatPickerValue.Formatted &&\n      originalFormattedTimeColumns.includes(columnName)\n    ) {\n      const cols = getTimeColumns(datasourceId);\n      cols.splice(cols.indexOf(columnName), 1);\n      setTimeColumns(datasourceId, cols);\n      setOriginalFormattedTimeColumns(cols);\n    }\n  };\n\n  useEffect(() => {\n    if (isVisible) {\n      setOriginalFormattedTimeColumns(getTimeColumns(datasourceId));\n    }\n  }, [datasourceId, isVisible]);\n\n  return useMemo(\n    () =>\n      colnames && data?.length\n        ? colnames\n            .filter((column: string) => Object.keys(data[0]).includes(column))\n            .map((key, index) => {\n              const colType = coltypes?.[index];\n              const firstValue = data[0][key];\n              const originalFormattedTimeColumnIndex =\n                colType === GenericDataType.Temporal\n                  ? originalFormattedTimeColumns.indexOf(key)\n                  : -1;\n              const isOriginalTimeColumn =\n                originalFormattedTimeColumns.includes(key);\n              return {\n                // react-table requires a non-empty id, therefore we introduce a fallback value in case the key is empty\n                id: key || index,\n                accessor: row => row[key],\n                Header:\n                  colType === GenericDataType.Temporal &&\n                  typeof firstValue !== 'string' ? (\n                    <DataTableTemporalHeaderCell\n                      columnName={key}\n                      datasourceId={datasourceId}\n                      onTimeColumnChange={onTimeColumnChange}\n                      isOriginalTimeColumn={isOriginalTimeColumn}\n                    />\n                  ) : (\n                    key\n                  ),\n                Cell: ({ value }) => {\n                  if (value === true) {\n                    return BOOL_TRUE_DISPLAY;\n                  }\n                  if (value === false) {\n                    return BOOL_FALSE_DISPLAY;\n                  }\n                  if (value === null) {\n                    return <CellNull>{NULL_DISPLAY}</CellNull>;\n                  }\n                  if (\n                    colType === GenericDataType.Temporal &&\n                    originalFormattedTimeColumnIndex === -1 &&\n                    typeof value === 'number'\n                  ) {\n                    return timeFormatter(value);\n                  }\n                  if (typeof value === 'string' && allowHTML) {\n                    return safeHtmlSpan(value);\n                  }\n                  return String(value);\n                },\n                ...moreConfigs?.[key],\n              } as Column;\n            })\n        : [],\n    [\n      colnames,\n      data,\n      coltypes,\n      datasourceId,\n      moreConfigs,\n      originalFormattedTimeColumns,\n    ],\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}