{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState } from 'react';\nimport { css, t, useTheme } from '@superset-ui/core';\nimport { Input } from 'src/components/Input';\nimport Icons from 'src/components/Icons';\nimport { Menu } from 'src/components/Menu';\nimport { Link } from 'react-router-dom';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst WIDTH = 220;\nconst HEIGHT = 300;\nconst SEARCH_THRESHOLD = 10;\nconst DashboardsSubMenu = ({ chartId, dashboards = [], ...menuProps }) => {\n  const theme = useTheme();\n  const [dashboardSearch, setDashboardSearch] = useState();\n  const [hoveredItem, setHoveredItem] = useState();\n  const showSearch = dashboards.length > SEARCH_THRESHOLD;\n  const filteredDashboards = dashboards.filter((dashboard) => !dashboardSearch ||\n  dashboard.dashboard_title.\n  toLowerCase().\n  includes(dashboardSearch.toLowerCase()));\n  const noResults = dashboards.length === 0;\n  const noResultsFound = dashboardSearch && filteredDashboards.length === 0;\n  const urlQueryString = chartId ? `?focused_chart=${chartId}` : '';\n  return _jsxs(_Fragment, { children: [\n    showSearch && _jsx(Input, { allowClear: true, placeholder: t('Search'), prefix: _jsx(Icons.Search, { iconSize: \"l\" }), css: css`\n            width: ${WIDTH}px;\n            margin: ${theme.gridUnit * 2}px ${theme.gridUnit * 3}px;\n          `, value: dashboardSearch, onChange: (e) => setDashboardSearch(e.currentTarget.value) }),\n    _jsxs(\"div\", { css: css`\n          max-height: ${HEIGHT}px;\n          overflow: auto;\n        `, children: [\n      filteredDashboards.map((dashboard) => _jsx(Menu.Item, { onMouseEnter: () => setHoveredItem(dashboard.id), onMouseLeave: () => {\n          if (hoveredItem === dashboard.id) {\n            setHoveredItem(null);\n          }\n        }, ...menuProps, children:\n        _jsx(Link, { target: \"_blank\", rel: \"noreferer noopener\", to: `/superset/dashboard/${dashboard.id}${urlQueryString}`, children:\n          _jsxs(\"div\", { css: css`\n                  display: flex;\n                  flex-direction: row;\n                  align-items: center;\n                  max-width: ${WIDTH}px;\n                `, children: [\n            _jsx(\"div\", { css: css`\n                    white-space: normal;\n                  `, children:\n              dashboard.dashboard_title }\n            ),\n            _jsx(Icons.Full, { iconSize: \"l\", iconColor: theme.colors.grayscale.base, css: css`\n                    margin-left: ${theme.gridUnit * 2}px;\n                    visibility: ${hoveredItem === dashboard.id ?\n              'visible' :\n              'hidden'};\n                  ` })] }\n          ) }\n        ) }, String(dashboard.id)\n      )),\n      noResultsFound && _jsx(\"div\", { css: css`\n              margin-left: ${theme.gridUnit * 3}px;\n              margin-bottom: ${theme.gridUnit}px;\n            `, children:\n        t('No results found') }\n      ),\n      noResults && _jsx(Menu.Item, { disabled: true, css: css`\n              min-width: ${WIDTH}px;\n            `, ...menuProps, children:\n        t('None') }\n      )] }\n    )] }\n  );\n};__signature__(DashboardsSubMenu, \"useTheme{theme}\\nuseState{[dashboardSearch, setDashboardSearch]}\\nuseState{[hoveredItem, setHoveredItem]}\", () => [useTheme]);const _default =\nDashboardsSubMenu;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(WIDTH, \"WIDTH\", \"/app/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx\");reactHotLoader.register(HEIGHT, \"HEIGHT\", \"/app/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx\");reactHotLoader.register(SEARCH_THRESHOLD, \"SEARCH_THRESHOLD\", \"/app/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx\");reactHotLoader.register(DashboardsSubMenu, \"DashboardsSubMenu\", \"/app/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useState","css","t","useTheme","Input","Icons","Menu","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WIDTH","HEIGHT","SEARCH_THRESHOLD","DashboardsSubMenu","chartId","dashboards","menuProps","theme","dashboardSearch","setDashboardSearch","hoveredItem","setHoveredItem","showSearch","length","filteredDashboards","filter","dashboard","dashboard_title","toLowerCase","includes","noResults","noResultsFound","urlQueryString","children","allowClear","placeholder","prefix","Search","iconSize","gridUnit","value","onChange","e","currentTarget","map","Item","onMouseEnter","id","onMouseLeave","target","rel","to","Full","iconColor","colors","grayscale","base","String","disabled","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/explore/components/useExploreAdditionalActionsMenu/DashboardsSubMenu.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState } from 'react';\nimport { css, t, useTheme } from '@superset-ui/core';\nimport { Input } from 'src/components/Input';\nimport Icons from 'src/components/Icons';\nimport { Menu } from 'src/components/Menu';\nimport { Link } from 'react-router-dom';\n\nexport interface DashboardsSubMenuProps {\n  chartId?: number;\n  dashboards?: { id: number; dashboard_title: string }[];\n}\n\nconst WIDTH = 220;\nconst HEIGHT = 300;\nconst SEARCH_THRESHOLD = 10;\n\nconst DashboardsSubMenu = ({\n  chartId,\n  dashboards = [],\n  ...menuProps\n}: DashboardsSubMenuProps) => {\n  const theme = useTheme();\n  const [dashboardSearch, setDashboardSearch] = useState<string>();\n  const [hoveredItem, setHoveredItem] = useState<number | null>();\n  const showSearch = dashboards.length > SEARCH_THRESHOLD;\n  const filteredDashboards = dashboards.filter(\n    dashboard =>\n      !dashboardSearch ||\n      dashboard.dashboard_title\n        .toLowerCase()\n        .includes(dashboardSearch.toLowerCase()),\n  );\n  const noResults = dashboards.length === 0;\n  const noResultsFound = dashboardSearch && filteredDashboards.length === 0;\n  const urlQueryString = chartId ? `?focused_chart=${chartId}` : '';\n  return (\n    <>\n      {showSearch && (\n        <Input\n          allowClear\n          placeholder={t('Search')}\n          prefix={<Icons.Search iconSize=\"l\" />}\n          css={css`\n            width: ${WIDTH}px;\n            margin: ${theme.gridUnit * 2}px ${theme.gridUnit * 3}px;\n          `}\n          value={dashboardSearch}\n          onChange={e => setDashboardSearch(e.currentTarget.value)}\n        />\n      )}\n      <div\n        css={css`\n          max-height: ${HEIGHT}px;\n          overflow: auto;\n        `}\n      >\n        {filteredDashboards.map(dashboard => (\n          <Menu.Item\n            key={String(dashboard.id)}\n            onMouseEnter={() => setHoveredItem(dashboard.id)}\n            onMouseLeave={() => {\n              if (hoveredItem === dashboard.id) {\n                setHoveredItem(null);\n              }\n            }}\n            {...menuProps}\n          >\n            <Link\n              target=\"_blank\"\n              rel=\"noreferer noopener\"\n              to={`/superset/dashboard/${dashboard.id}${urlQueryString}`}\n            >\n              <div\n                css={css`\n                  display: flex;\n                  flex-direction: row;\n                  align-items: center;\n                  max-width: ${WIDTH}px;\n                `}\n              >\n                <div\n                  css={css`\n                    white-space: normal;\n                  `}\n                >\n                  {dashboard.dashboard_title}\n                </div>\n                <Icons.Full\n                  iconSize=\"l\"\n                  iconColor={theme.colors.grayscale.base}\n                  css={css`\n                    margin-left: ${theme.gridUnit * 2}px;\n                    visibility: ${hoveredItem === dashboard.id\n                      ? 'visible'\n                      : 'hidden'};\n                  `}\n                />\n              </div>\n            </Link>\n          </Menu.Item>\n        ))}\n        {noResultsFound && (\n          <div\n            css={css`\n              margin-left: ${theme.gridUnit * 3}px;\n              margin-bottom: ${theme.gridUnit}px;\n            `}\n          >\n            {t('No results found')}\n          </div>\n        )}\n        {noResults && (\n          <Menu.Item\n            disabled\n            css={css`\n              min-width: ${WIDTH}px;\n            `}\n            {...menuProps}\n          >\n            {t('None')}\n          </Menu.Item>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default DashboardsSubMenu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}