{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Tooltip } from 'src/components/Tooltip';\nimport { styled, t } from '@superset-ui/core';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst TooltipContent = styled.div`\n  ${({ theme }) => `\n    .tooltip-header {\n      font-size: ${theme.typography.sizes.m}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    .tooltip-description {\n      margin-top: ${theme.gridUnit * 2}px;\n      display: -webkit-box;\n      -webkit-line-clamp: 20;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `}\n`;\nconst StyledLabelContainer = styled.div`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\nconst StyledLabel = styled.span`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\nconst StyledDetailWrapper = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: start;\n  width: 100%;\n`;\nconst StyledLabelDetail = styled.span`\n  ${({ theme: { typography: { sizes, weights } } }) => `\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: ${sizes.s}px;\n    font-weight: ${weights.light};\n    line-height: 1.6;\n  `}\n`;\nconst isValidValue = (value) => !['null', 'none'].includes(value.toLowerCase()) && value.trim() !== '';\nexport const DatasetSelectLabel = (item) => _jsx(Tooltip, { mouseEnterDelay: 0.2, placement: \"right\", title: _jsxs(TooltipContent, { children: [\n    _jsx(\"div\", { className: \"tooltip-header\", children:\n      item.table_name && isValidValue(item.table_name) ?\n      item.table_name :\n      t('Not defined') }\n    ),\n    _jsxs(\"div\", { className: \"tooltip-description\", children: [\n      _jsxs(\"div\", { children: [\n        t('Database'), \": \", item.database.database_name] }\n      ),\n      _jsxs(\"div\", { children: [\n        t('Schema'), \":\", ' ',\n        item.schema && isValidValue(item.schema) ?\n        item.schema :\n        t('Not defined')] }\n      )] }\n    )] }\n  ), children:\n  _jsxs(StyledLabelContainer, { children: [\n    _jsx(StyledLabel, { children:\n      item.table_name && isValidValue(item.table_name) ?\n      item.table_name :\n      item.database.database_name }\n    ),\n    _jsxs(StyledDetailWrapper, { children: [\n      _jsx(StyledLabelDetail, { children: item.database.database_name }),\n      item.schema && isValidValue(item.schema) && _jsxs(StyledLabelDetail, { children: [\"\\xA0- \", item.schema] })] }\n    )] }\n  ) }\n);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(TooltipContent, \"TooltipContent\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledLabelContainer, \"StyledLabelContainer\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledLabel, \"StyledLabel\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledDetailWrapper, \"StyledDetailWrapper\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledLabelDetail, \"StyledLabelDetail\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(isValidValue, \"isValidValue\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(DatasetSelectLabel, \"DatasetSelectLabel\", \"/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["Tooltip","styled","t","jsx","_jsx","jsxs","_jsxs","TooltipContent","div","theme","typography","sizes","m","weights","bold","gridUnit","StyledLabelContainer","StyledLabel","span","StyledDetailWrapper","StyledLabelDetail","s","light","isValidValue","value","includes","toLowerCase","trim","DatasetSelectLabel","item","mouseEnterDelay","placement","title","children","className","table_name","database","database_name","schema","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Tooltip } from 'src/components/Tooltip';\nimport { styled, t } from '@superset-ui/core';\n\ntype Database = {\n  database_name: string;\n};\n\nexport type Dataset = {\n  id: number;\n  table_name: string;\n  datasource_type?: string;\n  schema: string;\n  database: Database;\n};\n\nconst TooltipContent = styled.div`\n  ${({ theme }) => `\n    .tooltip-header {\n      font-size: ${theme.typography.sizes.m}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    .tooltip-description {\n      margin-top: ${theme.gridUnit * 2}px;\n      display: -webkit-box;\n      -webkit-line-clamp: 20;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `}\n`;\n\nconst StyledLabelContainer = styled.div`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\n\nconst StyledLabel = styled.span`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\n\nconst StyledDetailWrapper = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: start;\n  width: 100%;\n`;\n\nconst StyledLabelDetail = styled.span`\n  ${({\n    theme: {\n      typography: { sizes, weights },\n    },\n  }) => `\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: ${sizes.s}px;\n    font-weight: ${weights.light};\n    line-height: 1.6;\n  `}\n`;\n\nconst isValidValue = (value: string): boolean =>\n  !['null', 'none'].includes(value.toLowerCase()) && value.trim() !== '';\n\nexport const DatasetSelectLabel = (item: Dataset) => (\n  <Tooltip\n    mouseEnterDelay={0.2}\n    placement=\"right\"\n    title={\n      <TooltipContent>\n        <div className=\"tooltip-header\">\n          {item.table_name && isValidValue(item.table_name)\n            ? item.table_name\n            : t('Not defined')}\n        </div>\n        <div className=\"tooltip-description\">\n          <div>\n            {t('Database')}: {item.database.database_name}\n          </div>\n          <div>\n            {t('Schema')}:{' '}\n            {item.schema && isValidValue(item.schema)\n              ? item.schema\n              : t('Not defined')}\n          </div>\n        </div>\n      </TooltipContent>\n    }\n  >\n    <StyledLabelContainer>\n      <StyledLabel>\n        {item.table_name && isValidValue(item.table_name)\n          ? item.table_name\n          : item.database.database_name}\n      </StyledLabel>\n      <StyledDetailWrapper>\n        <StyledLabelDetail>{item.database.database_name}</StyledLabelDetail>\n        {item.schema && isValidValue(item.schema) && (\n          <StyledLabelDetail>&nbsp;- {item.schema}</StyledLabelDetail>\n        )}\n      </StyledDetailWrapper>\n    </StyledLabelContainer>\n  </Tooltip>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}