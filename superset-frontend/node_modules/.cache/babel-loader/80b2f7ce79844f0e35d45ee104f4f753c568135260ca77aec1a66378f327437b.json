{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useMemo } from 'react';\nimport { Row, Col } from 'src/components';\nimport { Input, TextArea } from 'src/components/Input';\nimport { t, styled } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { Menu } from 'src/components/Menu';\nimport { Form, FormItem } from 'src/components/Form';\nimport Modal from 'src/components/Modal';\nimport SaveDatasetActionButton from 'src/SqlLab/components/SaveDatasetActionButton';\nimport { SaveDatasetModal } from 'src/SqlLab/components/SaveDatasetModal';\nimport { getDatasourceAsSaveableDataset } from 'src/utils/datasourceUtils';\nimport useQueryEditor from 'src/SqlLab/hooks/useQueryEditor';\nimport useLogAction from 'src/logger/useLogAction';\nimport { LOG_ACTIONS_SQLLAB_CREATE_CHART, LOG_ACTIONS_SQLLAB_SAVE_QUERY } from 'src/logger/LogUtils';import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"@emotion/react/jsx-runtime\";\nconst Styles = styled.span`\n  span[role='img'] {\n    display: flex;\n    margin: 0;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    svg {\n      vertical-align: -${({ theme }) => theme.gridUnit * 1.25}px;\n      margin: 0;\n    }\n  }\n`;\nconst SaveQuery = ({ queryEditorId, onSave = () => {}, onUpdate, saveQueryWarning, database, columns }) => {\n  const queryEditor = useQueryEditor(queryEditorId, [\n  'autorun',\n  'name',\n  'description',\n  'remoteId',\n  'dbId',\n  'latestQueryId',\n  'queryLimit',\n  'catalog',\n  'schema',\n  'selectedText',\n  'sql',\n  'templateParams']\n  );\n  const query = useMemo(() => ({\n    ...queryEditor,\n    columns\n  }), [queryEditor, columns]);\n  const logAction = useLogAction({ queryEditorId });\n  const defaultLabel = query.name || query.description || t('Undefined');\n  const [description, setDescription] = useState(query.description || '');\n  const [label, setLabel] = useState(defaultLabel);\n  const [showSave, setShowSave] = useState(false);\n  const [showSaveDatasetModal, setShowSaveDatasetModal] = useState(false);\n  const isSaved = !!query.remoteId;\n  const canExploreDatabase = !!(database != null && database.allows_virtual_table_explore);\n  const shouldShowSaveButton = (database == null ? void 0 : database.allows_virtual_table_explore) !== undefined;\n  const overlayMenu = _jsx(Menu, { children:\n    _jsx(Menu.Item, { onClick: () => {\n        logAction(LOG_ACTIONS_SQLLAB_CREATE_CHART, {});\n        setShowSaveDatasetModal(true);\n      }, children:\n      t('Save dataset') }\n    ) }\n  );\n  const queryPayload = () => {var _query$dbId;return {\n      name: label,\n      description,\n      dbId: (_query$dbId = query.dbId) != null ? _query$dbId : 0,\n      sql: query.sql,\n      catalog: query.catalog,\n      schema: query.schema,\n      templateParams: query.templateParams,\n      remoteId: (query == null ? void 0 : query.remoteId) || undefined\n    };};\n  useEffect(() => {\n    if (!isSaved)\n    setLabel(defaultLabel);\n  }, [defaultLabel]);\n  const close = () => setShowSave(false);\n  const onSaveWrapper = () => {\n    logAction(LOG_ACTIONS_SQLLAB_SAVE_QUERY, {});\n    onSave(queryPayload(), query.id);\n    close();\n  };\n  const onUpdateWrapper = () => {\n    onUpdate(queryPayload(), query.id);\n    close();\n  };\n  const onLabelChange = (e) => {\n    setLabel(e.target.value);\n  };\n  const onDescriptionChange = (e) => {\n    setDescription(e.target.value);\n  };\n  const renderModalBody = () => _jsxs(Form, { layout: \"vertical\", children: [\n    _jsx(Row, { children:\n      _jsx(Col, { xs: 24, children:\n        _jsx(FormItem, { label: t('Name'), children:\n          _jsx(Input, { type: \"text\", value: label, onChange: onLabelChange }) }\n        ) }\n      ) }\n    ),\n    _jsx(\"br\", {}),\n    _jsx(Row, { children:\n      _jsx(Col, { xs: 24, children:\n        _jsx(FormItem, { label: t('Description'), children:\n          _jsx(TextArea, { rows: 4, value: description, onChange: onDescriptionChange }) }\n        ) }\n      ) }\n    ),\n    saveQueryWarning && _jsxs(_Fragment, { children: [\n      _jsx(\"br\", {}),\n      _jsxs(\"div\", { children: [\n        _jsx(Row, { children:\n          _jsx(Col, { xs: 24, children:\n            _jsx(\"small\", { children: saveQueryWarning }) }\n          ) }\n        ),\n        _jsx(\"br\", {})] }\n      )] }\n    )] }\n  );\n  return _jsxs(Styles, { className: \"SaveQuery\", children: [\n    shouldShowSaveButton && _jsx(SaveDatasetActionButton, { setShowSave: setShowSave, overlayMenu: canExploreDatabase ? overlayMenu : null }),\n    _jsx(SaveDatasetModal, { visible: showSaveDatasetModal, onHide: () => setShowSaveDatasetModal(false), buttonTextOnSave: t('Save & Explore'), buttonTextOnOverwrite: t('Overwrite & Explore'), datasource: getDatasourceAsSaveableDataset(query) }),\n    _jsx(Modal, { className: \"save-query-modal\", onHandledPrimaryAction: onSaveWrapper, onHide: close, primaryButtonName: isSaved ? t('Save') : t('Save as'), width: \"620px\", show: showSave, title: _jsx(\"h4\", { children: t('Save query') }), footer: _jsxs(_Fragment, { children: [\n        _jsx(Button, { onClick: close, \"data-test\": \"cancel-query\", cta: true, children:\n          t('Cancel') }\n        ),\n        _jsx(Button, { buttonStyle: isSaved ? undefined : 'primary', onClick: onSaveWrapper, className: \"m-r-3\", cta: true, children:\n          isSaved ? t('Save as new') : t('Save') }\n        ),\n        isSaved && _jsx(Button, { buttonStyle: \"primary\", onClick: onUpdateWrapper, className: \"m-r-3\", cta: true, children:\n          t('Update') }\n        )] }\n      ), children:\n      renderModalBody() }\n    )] }\n  );\n};__signature__(SaveQuery, \"useQueryEditor{queryEditor}\\nuseMemo{query}\\nuseLogAction{logAction}\\nuseState{[description, setDescription](query.description || '')}\\nuseState{[label, setLabel](defaultLabel)}\\nuseState{[showSave, setShowSave](false)}\\nuseState{[showSaveDatasetModal, setShowSaveDatasetModal](false)}\\nuseEffect{}\", () => [useQueryEditor, useLogAction]);const _default =\nSaveQuery;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Styles, \"Styles\", \"/app/superset-frontend/src/SqlLab/components/SaveQuery/index.tsx\");reactHotLoader.register(SaveQuery, \"SaveQuery\", \"/app/superset-frontend/src/SqlLab/components/SaveQuery/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/SqlLab/components/SaveQuery/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useState","useEffect","useMemo","Row","Col","Input","TextArea","t","styled","Button","Menu","Form","FormItem","Modal","SaveDatasetActionButton","SaveDatasetModal","getDatasourceAsSaveableDataset","useQueryEditor","useLogAction","LOG_ACTIONS_SQLLAB_CREATE_CHART","LOG_ACTIONS_SQLLAB_SAVE_QUERY","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Styles","span","theme","colors","grayscale","base","gridUnit","SaveQuery","queryEditorId","onSave","onUpdate","saveQueryWarning","database","columns","queryEditor","query","logAction","defaultLabel","name","description","setDescription","label","setLabel","showSave","setShowSave","showSaveDatasetModal","setShowSaveDatasetModal","isSaved","remoteId","canExploreDatabase","allows_virtual_table_explore","shouldShowSaveButton","undefined","overlayMenu","children","Item","onClick","queryPayload","_query$dbId","dbId","sql","catalog","schema","templateParams","close","onSaveWrapper","id","onUpdateWrapper","onLabelChange","e","target","value","onDescriptionChange","renderModalBody","layout","xs","type","onChange","rows","className","visible","onHide","buttonTextOnSave","buttonTextOnOverwrite","datasource","onHandledPrimaryAction","primaryButtonName","width","show","title","footer","cta","buttonStyle","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/app/superset-frontend/src/SqlLab/components/SaveQuery/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useEffect, useMemo, ChangeEvent } from 'react';\n\nimport type { DatabaseObject } from 'src/features/databases/types';\nimport { Row, Col } from 'src/components';\nimport { Input, TextArea } from 'src/components/Input';\nimport { t, styled } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { Menu } from 'src/components/Menu';\nimport { Form, FormItem } from 'src/components/Form';\nimport Modal from 'src/components/Modal';\nimport SaveDatasetActionButton from 'src/SqlLab/components/SaveDatasetActionButton';\nimport {\n  SaveDatasetModal,\n  ISaveableDatasource,\n} from 'src/SqlLab/components/SaveDatasetModal';\nimport { getDatasourceAsSaveableDataset } from 'src/utils/datasourceUtils';\nimport useQueryEditor from 'src/SqlLab/hooks/useQueryEditor';\nimport { QueryEditor } from 'src/SqlLab/types';\nimport useLogAction from 'src/logger/useLogAction';\nimport {\n  LOG_ACTIONS_SQLLAB_CREATE_CHART,\n  LOG_ACTIONS_SQLLAB_SAVE_QUERY,\n} from 'src/logger/LogUtils';\n\ninterface SaveQueryProps {\n  queryEditorId: string;\n  columns: ISaveableDatasource['columns'];\n  onSave: (arg0: QueryPayload, id: string) => void;\n  onUpdate: (arg0: QueryPayload, id: string) => void;\n  saveQueryWarning: string | null;\n  database: Partial<DatabaseObject> | undefined;\n}\n\nexport type QueryPayload = {\n  name: string;\n  description?: string;\n  id?: string;\n  remoteId?: number;\n} & Pick<QueryEditor, 'dbId' | 'catalog' | 'schema' | 'sql'>;\n\nconst Styles = styled.span`\n  span[role='img'] {\n    display: flex;\n    margin: 0;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n    svg {\n      vertical-align: -${({ theme }) => theme.gridUnit * 1.25}px;\n      margin: 0;\n    }\n  }\n`;\n\nconst SaveQuery = ({\n  queryEditorId,\n  onSave = () => {},\n  onUpdate,\n  saveQueryWarning,\n  database,\n  columns,\n}: SaveQueryProps) => {\n  const queryEditor = useQueryEditor(queryEditorId, [\n    'autorun',\n    'name',\n    'description',\n    'remoteId',\n    'dbId',\n    'latestQueryId',\n    'queryLimit',\n    'catalog',\n    'schema',\n    'selectedText',\n    'sql',\n    'templateParams',\n  ]);\n  const query = useMemo(\n    () => ({\n      ...queryEditor,\n      columns,\n    }),\n    [queryEditor, columns],\n  );\n  const logAction = useLogAction({ queryEditorId });\n  const defaultLabel = query.name || query.description || t('Undefined');\n  const [description, setDescription] = useState<string>(\n    query.description || '',\n  );\n  const [label, setLabel] = useState<string>(defaultLabel);\n  const [showSave, setShowSave] = useState<boolean>(false);\n  const [showSaveDatasetModal, setShowSaveDatasetModal] = useState(false);\n  const isSaved = !!query.remoteId;\n  const canExploreDatabase = !!database?.allows_virtual_table_explore;\n  const shouldShowSaveButton =\n    database?.allows_virtual_table_explore !== undefined;\n\n  const overlayMenu = (\n    <Menu>\n      <Menu.Item\n        onClick={() => {\n          logAction(LOG_ACTIONS_SQLLAB_CREATE_CHART, {});\n          setShowSaveDatasetModal(true);\n        }}\n      >\n        {t('Save dataset')}\n      </Menu.Item>\n    </Menu>\n  );\n\n  const queryPayload = () => ({\n    name: label,\n    description,\n    dbId: query.dbId ?? 0,\n    sql: query.sql,\n    catalog: query.catalog,\n    schema: query.schema,\n    templateParams: query.templateParams,\n    remoteId: query?.remoteId || undefined,\n  });\n\n  useEffect(() => {\n    if (!isSaved) setLabel(defaultLabel);\n  }, [defaultLabel]);\n\n  const close = () => setShowSave(false);\n\n  const onSaveWrapper = () => {\n    logAction(LOG_ACTIONS_SQLLAB_SAVE_QUERY, {});\n    onSave(queryPayload(), query.id);\n    close();\n  };\n\n  const onUpdateWrapper = () => {\n    onUpdate(queryPayload(), query.id);\n    close();\n  };\n\n  const onLabelChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setLabel(e.target.value);\n  };\n\n  const onDescriptionChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setDescription(e.target.value);\n  };\n\n  const renderModalBody = () => (\n    <Form layout=\"vertical\">\n      <Row>\n        <Col xs={24}>\n          <FormItem label={t('Name')}>\n            <Input type=\"text\" value={label} onChange={onLabelChange} />\n          </FormItem>\n        </Col>\n      </Row>\n      <br />\n      <Row>\n        <Col xs={24}>\n          <FormItem label={t('Description')}>\n            <TextArea\n              rows={4}\n              value={description}\n              onChange={onDescriptionChange}\n            />\n          </FormItem>\n        </Col>\n      </Row>\n      {saveQueryWarning && (\n        <>\n          <br />\n          <div>\n            <Row>\n              <Col xs={24}>\n                <small>{saveQueryWarning}</small>\n              </Col>\n            </Row>\n            <br />\n          </div>\n        </>\n      )}\n    </Form>\n  );\n\n  return (\n    <Styles className=\"SaveQuery\">\n      {shouldShowSaveButton && (\n        <SaveDatasetActionButton\n          setShowSave={setShowSave}\n          overlayMenu={canExploreDatabase ? overlayMenu : null}\n        />\n      )}\n      <SaveDatasetModal\n        visible={showSaveDatasetModal}\n        onHide={() => setShowSaveDatasetModal(false)}\n        buttonTextOnSave={t('Save & Explore')}\n        buttonTextOnOverwrite={t('Overwrite & Explore')}\n        datasource={getDatasourceAsSaveableDataset(query)}\n      />\n      <Modal\n        className=\"save-query-modal\"\n        onHandledPrimaryAction={onSaveWrapper}\n        onHide={close}\n        primaryButtonName={isSaved ? t('Save') : t('Save as')}\n        width=\"620px\"\n        show={showSave}\n        title={<h4>{t('Save query')}</h4>}\n        footer={\n          <>\n            <Button onClick={close} data-test=\"cancel-query\" cta>\n              {t('Cancel')}\n            </Button>\n            <Button\n              buttonStyle={isSaved ? undefined : 'primary'}\n              onClick={onSaveWrapper}\n              className=\"m-r-3\"\n              cta\n            >\n              {isSaved ? t('Save as new') : t('Save')}\n            </Button>\n            {isSaved && (\n              <Button\n                buttonStyle=\"primary\"\n                onClick={onUpdateWrapper}\n                className=\"m-r-3\"\n                cta\n              >\n                {t('Update')}\n              </Button>\n            )}\n          </>\n        }\n      >\n        {renderModalBody()}\n      </Modal>\n    </Styles>\n  );\n};\n\nexport default SaveQuery;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAqB,OAAO;AAGjE,SAASC,GAAG,EAAEC,GAAG,QAAQ,gBAAgB;AACzC,SAASC,KAAK,EAAEC,QAAQ,QAAQ,sBAAsB;AACtD,SAASC,CAAC,EAAEC,MAAM,QAAQ,mBAAmB;AAC7C,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAASC,IAAI,QAAQ,qBAAqB;AAC1C,SAASC,IAAI,EAAEC,QAAQ,QAAQ,qBAAqB;AACpD,OAAOC,KAAK,MAAM,sBAAsB;AACxC,OAAOC,uBAAuB,MAAM,+CAA+C;AACnF,SACEC,gBAAgB,QAEX,wCAAwC;AAC/C,SAASC,8BAA8B,QAAQ,2BAA2B;AAC1E,OAAOC,cAAc,MAAM,iCAAiC;AAE5D,OAAOC,YAAY,MAAM,yBAAyB;AAClD,SACEC,+BAA+B,EAC/BC,6BAA6B,QACxB,qBAAqB,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA,EAAAC,QAAA,IAAAC,SAAA;AAkB7B,MAAMC,MAAM,GAAGnB,MAAM,CAACoB,IAAI;;;;aAIb,CAAC,EAAEC,KAAK,EAAE,KAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,IAAI;;yBAE9B,CAAC,EAAEH,KAAK,EAAE,KAAKA,KAAK,CAACI,QAAQ,GAAG,IAAI;;;;CAI5D;AAED,MAAMC,SAAS,GAAGA,CAAC,EACjBC,aAAa,EACbC,MAAM,GAAGA,CAAA,KAAK,CAAE,CAAC,EACjBC,QAAQ,EACRC,gBAAgB,EAChBC,QAAQ,EACRC,OAAO,EACQ,KAAI;EACnB,MAAMC,WAAW,GAAGxB,cAAc,CAACkB,aAAa,EAAE;EAChD,SAAS;EACT,MAAM;EACN,aAAa;EACb,UAAU;EACV,MAAM;EACN,eAAe;EACf,YAAY;EACZ,SAAS;EACT,QAAQ;EACR,cAAc;EACd,KAAK;EACL,gBAAgB;EACjB,CAAC;EACF,MAAMO,KAAK,GAAGxC,OAAO,CACnB,OAAO;IACL,GAAGuC,WAAW;IACdD;GACD,CAAC,EACF,CAACC,WAAW,EAAED,OAAO,CAAC,CACvB;EACD,MAAMG,SAAS,GAAGzB,YAAY,CAAC,EAAEiB,aAAa,EAAE,CAAC;EACjD,MAAMS,YAAY,GAAGF,KAAK,CAACG,IAAI,IAAIH,KAAK,CAACI,WAAW,IAAIvC,CAAC,CAAC,WAAW,CAAC;EACtE,MAAM,CAACuC,WAAW,EAAEC,cAAc,CAAC,GAAG/C,QAAQ,CAC5C0C,KAAK,CAACI,WAAW,IAAI,EAAE,CACxB;EACD,MAAM,CAACE,KAAK,EAAEC,QAAQ,CAAC,GAAGjD,QAAQ,CAAS4C,YAAY,CAAC;EACxD,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGnD,QAAQ,CAAU,KAAK,CAAC;EACxD,MAAM,CAACoD,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGrD,QAAQ,CAAC,KAAK,CAAC;EACvE,MAAMsD,OAAO,GAAG,CAAC,CAACZ,KAAK,CAACa,QAAQ;EAChC,MAAMC,kBAAkB,GAAG,CAAC,EAACjB,QAAQ,YAARA,QAAQ,CAAEkB,4BAA4B;EACnE,MAAMC,oBAAoB,GACxB,CAAAnB,QAAQ,oBAARA,QAAQ,CAAEkB,4BAA4B,MAAKE,SAAS;EAEtD,MAAMC,WAAW,GACftC,IAAA,CAACZ,IAAI,IAAAmD,QAAA;IACHvC,IAAA,CAACZ,IAAI,CAACoD,IAAI,IACRC,OAAO,EAAEA,CAAA,KAAK;QACZpB,SAAS,CAACxB,+BAA+B,EAAE,EAAE,CAAC;QAC9CkC,uBAAuB,CAAC,IAAI,CAAC;MAC/B,CAAE,EAAAQ,QAAA;MAEDtD,CAAC,CAAC,cAAc,CAAC;IACT,CACb;EAAM,CACP;EAED,MAAMyD,YAAY,GAAGA,CAAA,UAAAC,WAAA,QAAO;MAC1BpB,IAAI,EAAEG,KAAK;MACXF,WAAW;MACXoB,IAAI,GAAAD,WAAA,GAAEvB,KAAK,CAACwB,IAAI,YAAAD,WAAA,GAAI,CAAC;MACrBE,GAAG,EAAEzB,KAAK,CAACyB,GAAG;MACdC,OAAO,EAAE1B,KAAK,CAAC0B,OAAO;MACtBC,MAAM,EAAE3B,KAAK,CAAC2B,MAAM;MACpBC,cAAc,EAAE5B,KAAK,CAAC4B,cAAc;MACpCf,QAAQ,EAAE,CAAAb,KAAK,oBAALA,KAAK,CAAEa,QAAQ,KAAII;KAC9B,EAAC;EAEF1D,SAAS,CAAC,MAAK;IACb,IAAI,CAACqD,OAAO;IAAEL,QAAQ,CAACL,YAAY,CAAC;EACtC,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,MAAM2B,KAAK,GAAGA,CAAA,KAAMpB,WAAW,CAAC,KAAK,CAAC;EAEtC,MAAMqB,aAAa,GAAGA,CAAA,KAAK;IACzB7B,SAAS,CAACvB,6BAA6B,EAAE,EAAE,CAAC;IAC5CgB,MAAM,CAAC4B,YAAY,EAAE,EAAEtB,KAAK,CAAC+B,EAAE,CAAC;IAChCF,KAAK,EAAE;EACT,CAAC;EAED,MAAMG,eAAe,GAAGA,CAAA,KAAK;IAC3BrC,QAAQ,CAAC2B,YAAY,EAAE,EAAEtB,KAAK,CAAC+B,EAAE,CAAC;IAClCF,KAAK,EAAE;EACT,CAAC;EAED,MAAMI,aAAa,GAAGA,CAACC,CAAgC,KAAI;IACzD3B,QAAQ,CAAC2B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAC1B,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAACH,CAAmC,KAAI;IAClE7B,cAAc,CAAC6B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EAChC,CAAC;EAED,MAAME,eAAe,GAAGA,CAAA,KACtBxD,KAAA,CAACb,IAAI,IAACsE,MAAM,EAAC,UAAU,EAAApB,QAAA;IACrBvC,IAAA,CAACnB,GAAG,IAAA0D,QAAA;MACFvC,IAAA,CAAClB,GAAG,IAAC8E,EAAE,EAAE,EAAG,EAAArB,QAAA;QACVvC,IAAA,CAACV,QAAQ,IAACoC,KAAK,EAAEzC,CAAC,CAAC,MAAM,CAAE,EAAAsD,QAAA;UACzBvC,IAAA,CAACjB,KAAK,IAAC8E,IAAI,EAAC,MAAM,EAACL,KAAK,EAAE9B,KAAM,EAACoC,QAAQ,EAAET,aAAc,GAC3D;QAAU,CACZ;MAAK,CACP;IAAK,CACL;IAAArD,IAAA,SAAG,CACH;IAAAA,IAAA,CAACnB,GAAG,IAAA0D,QAAA;MACFvC,IAAA,CAAClB,GAAG,IAAC8E,EAAE,EAAE,EAAG,EAAArB,QAAA;QACVvC,IAAA,CAACV,QAAQ,IAACoC,KAAK,EAAEzC,CAAC,CAAC,aAAa,CAAE,EAAAsD,QAAA;UAChCvC,IAAA,CAAChB,QAAQ,IACP+E,IAAI,EAAE,CAAE,EACRP,KAAK,EAAEhC,WAAY,EACnBsC,QAAQ,EAAEL,mBAAoB,GAElC;QAAU,CACZ;MAAK,CACP;IAAK,CACL;IAACzC,gBAAgB,IACfd,KAAA,CAAAE,SAAA,IAAAmC,QAAA;MACEvC,IAAA,SAAG,CACH;MAAAE,KAAA,UAAAqC,QAAA;QACEvC,IAAA,CAACnB,GAAG,IAAA0D,QAAA;UACFvC,IAAA,CAAClB,GAAG,IAAC8E,EAAE,EAAE,EAAG,EAAArB,QAAA;YACVvC,IAAA,YAAAuC,QAAA,EAAQvB,gBAAgB,EAAQ,CAClC;UAAK,CACP;QAAK,CACL;QAAAhB,IAAA,SAAG,CACL;MAAK,CACP;IAAA,CACD;EACG,CACP;EAED,OACEE,KAAA,CAACG,MAAM,IAAC2D,SAAS,EAAC,WAAW,EAAAzB,QAAA;IAC1BH,oBAAoB,IACnBpC,IAAA,CAACR,uBAAuB,IACtBqC,WAAW,EAAEA,WAAY,EACzBS,WAAW,EAAEJ,kBAAkB,GAAGI,WAAW,GAAG,IAAK,GAExD;IACDtC,IAAA,CAACP,gBAAgB,IACfwE,OAAO,EAAEnC,oBAAqB,EAC9BoC,MAAM,EAAEA,CAAA,KAAMnC,uBAAuB,CAAC,KAAK,CAAE,EAC7CoC,gBAAgB,EAAElF,CAAC,CAAC,gBAAgB,CAAE,EACtCmF,qBAAqB,EAAEnF,CAAC,CAAC,qBAAqB,CAAE,EAChDoF,UAAU,EAAE3E,8BAA8B,CAAC0B,KAAK,CAAE,GAEpD;IAAApB,IAAA,CAACT,KAAK,IACJyE,SAAS,EAAC,kBAAkB,EAC5BM,sBAAsB,EAAEpB,aAAc,EACtCgB,MAAM,EAAEjB,KAAM,EACdsB,iBAAiB,EAAEvC,OAAO,GAAG/C,CAAC,CAAC,MAAM,CAAC,GAAGA,CAAC,CAAC,SAAS,CAAE,EACtDuF,KAAK,EAAC,OAAO,EACbC,IAAI,EAAE7C,QAAS,EACf8C,KAAK,EAAE1E,IAAA,SAAAuC,QAAA,EAAKtD,CAAC,CAAC,YAAY,CAAC,EAAK,CAAE,EAClC0F,MAAM,EACJzE,KAAA,CAAAE,SAAA,IAAAmC,QAAA;QACEvC,IAAA,CAACb,MAAM,IAACsD,OAAO,EAAEQ,KAAM,EAAC,aAAU,cAAc,EAAC2B,GAAG,QAAArC,QAAA;UACjDtD,CAAC,CAAC,QAAQ,CAAC;QACN,CACR;QAAAe,IAAA,CAACb,MAAM,IACL0F,WAAW,EAAE7C,OAAO,GAAGK,SAAS,GAAG,SAAU,EAC7CI,OAAO,EAAES,aAAc,EACvBc,SAAS,EAAC,OAAO,EACjBY,GAAG,QAAArC,QAAA;UAEFP,OAAO,GAAG/C,CAAC,CAAC,aAAa,CAAC,GAAGA,CAAC,CAAC,MAAM,CAAC;QACjC,CACR;QAAC+C,OAAO,IACNhC,IAAA,CAACb,MAAM,IACL0F,WAAW,EAAC,SAAS,EACrBpC,OAAO,EAAEW,eAAgB,EACzBY,SAAS,EAAC,OAAO,EACjBY,GAAG,QAAArC,QAAA;UAEFtD,CAAC,CAAC,QAAQ,CAAC;QACN,CACT;MACH,CACD,EAAAsD,QAAA;MAEAmB,eAAe,EAAE;IACb,CACT;EAAQ,CAAC;AAEb,CAAC,CAACoB,aAAA,CArLIlE,SAAS,uTAQOjB,cAAc,EAqBhBC,YAAY,SAAAmF,QAAA;AA0JjBnE,SAAS,CAAxB,eAAAmE,QAAA,CAAyB,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAA7C,SAAA,MAAA2C,cAAA,WAAAA,cAAA,CAAAG,QAAA,CAnMnB9E,MAAM,gFAAA2E,cAAA,CAAAG,QAAA,CAYNvE,SAAS,mFAAAoE,cAAA,CAAAG,QAAA,CAAAJ,QAAA,yGAAAK,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAA/C,SAAA,CAAA+C,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}