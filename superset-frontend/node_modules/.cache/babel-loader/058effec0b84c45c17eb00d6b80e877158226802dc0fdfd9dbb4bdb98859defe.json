{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, t } from '@superset-ui/core';\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport Icons from 'src/components/Icons';\nimport copyTextToClipboard from 'src/utils/copy';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\nconst SyntaxHighlighterWrapper = styled.div`\n  margin-top: -24px;\n\n  &:hover {\n    svg {\n      visibility: visible;\n    }\n  }\n\n  svg {\n    position: relative;\n    top: 40px;\n    left: 512px;\n    visibility: hidden;\n    margin: -4px;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n  }\n`;\nexport default function SyntaxHighlighterCopy({ addDangerToast, addSuccessToast, children, ...syntaxHighlighterProps }) {\n  function copyToClipboard(textToCopy) {\n    copyTextToClipboard(() => Promise.resolve(textToCopy)).\n    then(() => {\n      if (addSuccessToast) {\n        addSuccessToast(t('SQL Copied!'));\n      }\n    }).\n    catch(() => {\n      if (addDangerToast) {\n        addDangerToast(t('Sorry, your browser does not support copying.'));\n      }\n    });\n  }\n  return _jsxs(SyntaxHighlighterWrapper, { children: [\n    _jsx(Icons.Copy, { tabIndex: 0, role: \"button\", onClick: (e) => {\n        e.preventDefault();\n        e.currentTarget.blur();\n        copyToClipboard(children);\n      } }),\n    _jsx(SyntaxHighlighter, { style: github, ...syntaxHighlighterProps, children:\n      children }\n    )] }\n  );\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SyntaxHighlighterWrapper, \"SyntaxHighlighterWrapper\", \"/app/superset-frontend/src/features/queries/SyntaxHighlighterCopy.tsx\");reactHotLoader.register(SyntaxHighlighterCopy, \"SyntaxHighlighterCopy\", \"/app/superset-frontend/src/features/queries/SyntaxHighlighterCopy.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["styled","t","sqlSyntax","htmlSyntax","markdownSyntax","jsonSyntax","github","SyntaxHighlighter","Icons","copyTextToClipboard","jsx","_jsx","jsxs","_jsxs","registerLanguage","SyntaxHighlighterWrapper","div","theme","colors","grayscale","base","SyntaxHighlighterCopy","addDangerToast","addSuccessToast","children","syntaxHighlighterProps","copyToClipboard","textToCopy","Promise","resolve","then","catch","Copy","tabIndex","role","onClick","e","preventDefault","currentTarget","blur","style","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/features/queries/SyntaxHighlighterCopy.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, t } from '@superset-ui/core';\nimport { SyntaxHighlighterProps } from 'react-syntax-highlighter';\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport Icons from 'src/components/Icons';\nimport { ToastProps } from 'src/components/MessageToasts/withToasts';\nimport copyTextToClipboard from 'src/utils/copy';\n\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\n\nconst SyntaxHighlighterWrapper = styled.div`\n  margin-top: -24px;\n\n  &:hover {\n    svg {\n      visibility: visible;\n    }\n  }\n\n  svg {\n    position: relative;\n    top: 40px;\n    left: 512px;\n    visibility: hidden;\n    margin: -4px;\n    color: ${({ theme }) => theme.colors.grayscale.base};\n  }\n`;\n\nexport default function SyntaxHighlighterCopy({\n  addDangerToast,\n  addSuccessToast,\n  children,\n  ...syntaxHighlighterProps\n}: SyntaxHighlighterProps & {\n  children: string;\n  addDangerToast?: ToastProps['addDangerToast'];\n  addSuccessToast?: ToastProps['addSuccessToast'];\n  language: 'sql' | 'markdown' | 'html' | 'json';\n}) {\n  function copyToClipboard(textToCopy: string) {\n    copyTextToClipboard(() => Promise.resolve(textToCopy))\n      .then(() => {\n        if (addSuccessToast) {\n          addSuccessToast(t('SQL Copied!'));\n        }\n      })\n      .catch(() => {\n        if (addDangerToast) {\n          addDangerToast(t('Sorry, your browser does not support copying.'));\n        }\n      });\n  }\n  return (\n    <SyntaxHighlighterWrapper>\n      <Icons.Copy\n        tabIndex={0}\n        role=\"button\"\n        onClick={e => {\n          e.preventDefault();\n          e.currentTarget.blur();\n          copyToClipboard(children);\n        }}\n      />\n      <SyntaxHighlighter style={github} {...syntaxHighlighterProps}>\n        {children}\n      </SyntaxHighlighter>\n    </SyntaxHighlighterWrapper>\n  );\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,MAAM,EAAEC,CAAC,QAAQ,mBAAmB;AAE7C,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,OAAOC,UAAU,MAAM,2DAA2D;AAClF,OAAOC,cAAc,MAAM,2DAA2D;AACtF,OAAOC,UAAU,MAAM,uDAAuD;AAC9E,OAAOC,MAAM,MAAM,sDAAsD;AACzE,OAAOC,iBAAiB,MAAM,yCAAyC;AACvE,OAAOC,KAAK,MAAM,sBAAsB;AAExC,OAAOC,mBAAmB,MAAM,gBAAgB,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEjDN,iBAAiB,CAACO,gBAAgB,CAAC,KAAK,EAAEZ,SAAS,CAAC;AACpDK,iBAAiB,CAACO,gBAAgB,CAAC,UAAU,EAAEV,cAAc,CAAC;AAC9DG,iBAAiB,CAACO,gBAAgB,CAAC,MAAM,EAAEX,UAAU,CAAC;AACtDI,iBAAiB,CAACO,gBAAgB,CAAC,MAAM,EAAET,UAAU,CAAC;AAEtD,MAAMU,wBAAwB,GAAGf,MAAM,CAACgB,GAAG;;;;;;;;;;;;;;;aAe9B,CAAC,EAAEC,KAAK,EAAE,KAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,IAAI;;CAEtD;AAED,eAAc,SAAUC,qBAAqBA,CAAC,EAC5CC,cAAc,EACdC,eAAe,EACfC,QAAQ,EACR,GAAGC,sBAAsB,EAM1B;EACC,SAASC,eAAeA,CAACC,UAAkB;IACzClB,mBAAmB,CAAC,MAAMmB,OAAO,CAACC,OAAO,CAACF,UAAU,CAAC,CAAC;IACnDG,IAAI,CAAC,MAAK;MACT,IAAIP,eAAe,EAAE;QACnBA,eAAe,CAACtB,CAAC,CAAC,aAAa,CAAC,CAAC;;IAErC,CAAC,CAAC;IACD8B,KAAK,CAAC,MAAK;MACV,IAAIT,cAAc,EAAE;QAClBA,cAAc,CAACrB,CAAC,CAAC,+CAA+C,CAAC,CAAC;;IAEtE,CAAC,CAAC;EACN;EACA,OACEY,KAAA,CAACE,wBAAwB,IAAAS,QAAA;IACvBb,IAAA,CAACH,KAAK,CAACwB,IAAI,IACTC,QAAQ,EAAE,CAAE,EACZC,IAAI,EAAC,QAAQ,EACbC,OAAO,EAAEA,CAAAC,CAAC,KAAG;QACXA,CAAC,CAACC,cAAc,EAAE;QAClBD,CAAC,CAACE,aAAa,CAACC,IAAI,EAAE;QACtBb,eAAe,CAACF,QAAQ,CAAC;MAC3B,CAAE,GAEJ;IAAAb,IAAA,CAACJ,iBAAiB,IAACiC,KAAK,EAAElC,MAAO,KAAKmB,sBAAsB,EAAAD,QAAA;MACzDA,QAAQ;IACQ,CACrB;EAA0B,CAAC;AAE/B,CAAC,mBAAAiB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA3DK9B,wBAAwB,uGAAA0B,cAAA,CAAAI,QAAA,CAmBNxB,qBAAqB,4HAAAyB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}