{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { css } from '@superset-ui/core';\nimport { useRef, useState } from 'react';\nimport { Tooltip } from 'src/components/Tooltip';import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nexport default function ColorSchemeLabel(props) {\n  const { id, label, colors } = props;\n  const [showTooltip, setShowTooltip] = useState(false);\n  const labelNameRef = useRef(null);\n  const labelsColorRef = useRef(null);\n  const handleShowTooltip = () => {\n    const labelNameElement = labelNameRef.current;\n    const labelsColorElement = labelsColorRef.current;\n    if (labelNameElement &&\n    labelsColorElement && (\n    labelNameElement.scrollWidth > labelNameElement.offsetWidth ||\n    labelNameElement.scrollHeight > labelNameElement.offsetHeight ||\n    labelsColorElement.scrollWidth > labelsColorElement.offsetWidth ||\n    labelsColorElement.scrollHeight > labelsColorElement.offsetHeight)) {\n      setShowTooltip(true);\n    }\n  };\n  const handleHideTooltip = () => {\n    setShowTooltip(false);\n  };\n  const colorsList = () => colors.map((color, i) => _jsx(\"span\", { \"data-test\": \"color\", css: (theme) => css`\n          padding-left: ${theme.gridUnit / 2}px;\n          :before {\n            content: '';\n            display: inline-block;\n            background-color: ${color};\n            border: 1px solid ${color === 'white' ? 'black' : color};\n            width: 9px;\n            height: 10px;\n          }\n        ` }, `${id}-${i}`));\n  const tooltipContent = () => _jsxs(_Fragment, { children: [\n    _jsx(\"span\", { children: label }),\n    _jsx(\"div\", { children: colorsList() })] }\n  );\n  return _jsx(Tooltip, { \"data-testid\": \"tooltip\", overlayClassName: \"color-scheme-tooltip\", title: tooltipContent, visible: showTooltip, children:\n    _jsxs(\"span\", { className: \"color-scheme-option\", onMouseEnter: handleShowTooltip, onMouseLeave: handleHideTooltip, css: css`\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n        `, \"data-test\": id, children: [\n      _jsx(\"span\", { className: \"color-scheme-label\", ref: labelNameRef, css: (theme) => css`\n            min-width: 125px;\n            padding-right: ${theme.gridUnit * 2}px;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n          `, children:\n        label }\n      ),\n      _jsx(\"span\", { ref: labelsColorRef, css: (theme) => css`\n            flex: 100%;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n            padding-right: ${theme.gridUnit}px;\n          `, children:\n        colorsList() }\n      )] }\n    ) }, id\n  );\n}__signature__(ColorSchemeLabel, \"useState{[showTooltip, setShowTooltip](false)}\\nuseRef{labelNameRef}\\nuseRef{labelsColorRef}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ColorSchemeLabel, \"ColorSchemeLabel\", \"/app/superset-frontend/src/explore/components/controls/ColorSchemeControl/ColorSchemeLabel.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["css","useRef","useState","Tooltip","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ColorSchemeLabel","props","id","label","colors","showTooltip","setShowTooltip","labelNameRef","labelsColorRef","handleShowTooltip","labelNameElement","current","labelsColorElement","scrollWidth","offsetWidth","scrollHeight","offsetHeight","handleHideTooltip","colorsList","map","color","i","theme","gridUnit","tooltipContent","children","overlayClassName","title","visible","className","onMouseEnter","onMouseLeave","ref","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/explore/components/controls/ColorSchemeControl/ColorSchemeLabel.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { css, SupersetTheme } from '@superset-ui/core';\nimport { useRef, useState } from 'react';\nimport { Tooltip } from 'src/components/Tooltip';\n\ntype ColorSchemeLabelProps = {\n  colors: string[];\n  id: string;\n  label: string;\n};\n\nexport default function ColorSchemeLabel(props: ColorSchemeLabelProps) {\n  const { id, label, colors } = props;\n  const [showTooltip, setShowTooltip] = useState<boolean>(false);\n  const labelNameRef = useRef<HTMLElement>(null);\n  const labelsColorRef = useRef<HTMLElement>(null);\n  const handleShowTooltip = () => {\n    const labelNameElement = labelNameRef.current;\n    const labelsColorElement = labelsColorRef.current;\n    if (\n      labelNameElement &&\n      labelsColorElement &&\n      (labelNameElement.scrollWidth > labelNameElement.offsetWidth ||\n        labelNameElement.scrollHeight > labelNameElement.offsetHeight ||\n        labelsColorElement.scrollWidth > labelsColorElement.offsetWidth ||\n        labelsColorElement.scrollHeight > labelsColorElement.offsetHeight)\n    ) {\n      setShowTooltip(true);\n    }\n  };\n  const handleHideTooltip = () => {\n    setShowTooltip(false);\n  };\n\n  const colorsList = () =>\n    colors.map((color: string, i: number) => (\n      <span\n        data-test=\"color\"\n        key={`${id}-${i}`}\n        css={(theme: { gridUnit: number }) => css`\n          padding-left: ${theme.gridUnit / 2}px;\n          :before {\n            content: '';\n            display: inline-block;\n            background-color: ${color};\n            border: 1px solid ${color === 'white' ? 'black' : color};\n            width: 9px;\n            height: 10px;\n          }\n        `}\n      />\n    ));\n\n  const tooltipContent = () => (\n    <>\n      <span>{label}</span>\n      <div>{colorsList()}</div>\n    </>\n  );\n\n  return (\n    <Tooltip\n      data-testid=\"tooltip\"\n      overlayClassName=\"color-scheme-tooltip\"\n      title={tooltipContent}\n      key={id}\n      visible={showTooltip}\n    >\n      <span\n        className=\"color-scheme-option\"\n        onMouseEnter={handleShowTooltip}\n        onMouseLeave={handleHideTooltip}\n        css={css`\n          display: flex;\n          align-items: center;\n          justify-content: flex-start;\n        `}\n        data-test={id}\n      >\n        <span\n          className=\"color-scheme-label\"\n          ref={labelNameRef}\n          css={(theme: SupersetTheme) => css`\n            min-width: 125px;\n            padding-right: ${theme.gridUnit * 2}px;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n          `}\n        >\n          {label}\n        </span>\n        <span\n          ref={labelsColorRef}\n          css={(theme: SupersetTheme) => css`\n            flex: 100%;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: nowrap;\n            padding-right: ${theme.gridUnit}px;\n          `}\n        >\n          {colorsList()}\n        </span>\n      </span>\n    </Tooltip>\n  );\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,SAASA,GAAG,QAAuB,mBAAmB;AACtD,SAASC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACxC,SAASC,OAAO,QAAQ,wBAAwB,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,QAAA,IAAAC,SAAA,EAAAC,IAAA,IAAAC,KAAA;AAQjD,eAAc,SAAUC,gBAAgBA,CAACC,KAA4B;EACnE,MAAM,EAAEC,EAAE,EAAEC,KAAK,EAAEC,MAAM,EAAE,GAAGH,KAAK;EACnC,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAU,KAAK,CAAC;EAC9D,MAAMe,YAAY,GAAGhB,MAAM,CAAc,IAAI,CAAC;EAC9C,MAAMiB,cAAc,GAAGjB,MAAM,CAAc,IAAI,CAAC;EAChD,MAAMkB,iBAAiB,GAAGA,CAAA,KAAK;IAC7B,MAAMC,gBAAgB,GAAGH,YAAY,CAACI,OAAO;IAC7C,MAAMC,kBAAkB,GAAGJ,cAAc,CAACG,OAAO;IACjD,IACED,gBAAgB;IAChBE,kBAAkB;IACjBF,gBAAgB,CAACG,WAAW,GAAGH,gBAAgB,CAACI,WAAW;IAC1DJ,gBAAgB,CAACK,YAAY,GAAGL,gBAAgB,CAACM,YAAY;IAC7DJ,kBAAkB,CAACC,WAAW,GAAGD,kBAAkB,CAACE,WAAW;IAC/DF,kBAAkB,CAACG,YAAY,GAAGH,kBAAkB,CAACI,YAAY,CAAC,EACpE;MACAV,cAAc,CAAC,IAAI,CAAC;;EAExB,CAAC;EACD,MAAMW,iBAAiB,GAAGA,CAAA,KAAK;IAC7BX,cAAc,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,MAAMY,UAAU,GAAGA,CAAA,KACjBd,MAAM,CAACe,GAAG,CAAC,CAACC,KAAa,EAAEC,CAAS,KAClC1B,IAAA,WACE,aAAU,OAAO,EAEjBL,GAAG,EAAEA,CAACgC,KAA2B,KAAKhC,GAAG;0BACvBgC,KAAK,CAACC,QAAQ,GAAG,CAAC;;;;gCAIZH,KAAK;gCACLA,KAAK,KAAK,OAAO,GAAG,OAAO,GAAGA,KAAK;;;;SAIzD,IAXG,GAAGlB,EAAE,IAAImB,CAAC,EAWb,CAEL,CAAC;EAEJ,MAAMG,cAAc,GAAGA,CAAA,KACrBzB,KAAA,CAAAF,SAAA,IAAA4B,QAAA;IACE9B,IAAA,WAAA8B,QAAA,EAAOtB,KAAK,EAAO,CACnB;IAAAR,IAAA,UAAA8B,QAAA,EAAMP,UAAU,EAAE,EAAM,CAC1B;EAAA,CACD;EAED,OACEvB,IAAA,CAACF,OAAO,IACN,eAAY,SAAS,EACrBiC,gBAAgB,EAAC,sBAAsB,EACvCC,KAAK,EAAEH,cAAe,EAEtBI,OAAO,EAAEvB,WAAY,EAAAoB,QAAA;IAErB1B,KAAA,WACE8B,SAAS,EAAC,qBAAqB,EAC/BC,YAAY,EAAErB,iBAAkB,EAChCsB,YAAY,EAAEd,iBAAkB,EAChC3B,GAAG,EAAEA,GAAG;;;;SAIN,EACF,aAAWY,EAAG,EAAAuB,QAAA;MAEd9B,IAAA,WACEkC,SAAS,EAAC,oBAAoB,EAC9BG,GAAG,EAAEzB,YAAa,EAClBjB,GAAG,EAAEA,CAACgC,KAAoB,KAAKhC,GAAG;;6BAEfgC,KAAK,CAACC,QAAQ,GAAG,CAAC;;;;WAInC,EAAAE,QAAA;QAEDtB,KAAK;MACF,CACN;MAAAR,IAAA,WACEqC,GAAG,EAAExB,cAAe,EACpBlB,GAAG,EAAEA,CAACgC,KAAoB,KAAKhC,GAAG;;;;;6BAKfgC,KAAK,CAACC,QAAQ;WAC/B,EAAAE,QAAA;QAEDP,UAAU,EAAE;MACT,CACR;IAAM,CACR,IAxCOhB;EAwCE,CAAC;AAEd,CAAC+B,aAAA,CAhGuBjC,gBAAgB,qHAAAkC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAAhBtC,gBAAgB,gJAAAuC,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}