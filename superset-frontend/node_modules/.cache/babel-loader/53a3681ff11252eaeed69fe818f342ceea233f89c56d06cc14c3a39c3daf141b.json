{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useMemo } from 'react';\nimport { styled, useTruncation } from '@superset-ui/core';\nimport { Link } from 'react-router-dom';\nimport CrossLinksTooltip from './CrossLinksTooltip';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst StyledCrossLinks = styled.div`\n  ${({ theme }) => `\n    & > span {\n      width: 100%;\n      display: flex;\n\n      .ant-tooltip-open {\n        display: inline;\n      }\n\n      .truncated {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        display: inline-block;\n        width: 100%;\n        vertical-align: bottom;\n      }\n\n      .count {\n        cursor: pointer;\n        color: ${theme.colors.grayscale.base};\n        font-weight: ${theme.typography.weights.bold};\n      }\n    }\n  `}\n`;\nfunction CrossLinks({ crossLinks, maxLinks = 20, linkPrefix = '/superset/dashboard/' }) {\n  const [crossLinksRef, plusRef, elementsTruncated, hasHiddenElements] = useTruncation();\n  const hasMoreItems = useMemo(() => crossLinks.length > maxLinks ? crossLinks.length - maxLinks : undefined, [crossLinks, maxLinks]);\n  const links = useMemo(() => _jsx(\"span\", { className: \"truncated\", ref: crossLinksRef, \"data-test\": \"crosslinks\", children:\n    crossLinks.map((link, index) => _jsx(Link, { to: linkPrefix + link.id, children:\n      index === 0 ? link.title : `, ${link.title}` }, link.id\n    )) }\n  ), [crossLinks, crossLinksRef, linkPrefix]);\n  const tooltipLinks = useMemo(() => crossLinks.slice(0, maxLinks).map((l) => ({\n    title: l.title,\n    to: linkPrefix + l.id\n  })), [crossLinks, linkPrefix, maxLinks]);\n  return _jsx(StyledCrossLinks, { children:\n    _jsxs(CrossLinksTooltip, { moreItems: hasMoreItems, crossLinks: tooltipLinks, show: !!elementsTruncated, children: [\n      links,\n      hasHiddenElements && _jsxs(\"span\", { ref: plusRef, className: \"count\", \"data-test\": \"count-crosslinks\", children: [\"+\",\n        elementsTruncated] }\n      )] }\n    ) }\n  );\n}__signature__(CrossLinks, \"useTruncation{[crossLinksRef, plusRef, elementsTruncated, hasHiddenElements]}\\nuseMemo{hasMoreItems}\\nuseMemo{links}\\nuseMemo{tooltipLinks}\", () => [useTruncation]);const _default = /*#__PURE__*/\nmemo(CrossLinks);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledCrossLinks, \"StyledCrossLinks\", \"/app/superset-frontend/src/components/ListView/CrossLinks.tsx\");reactHotLoader.register(CrossLinks, \"CrossLinks\", \"/app/superset-frontend/src/components/ListView/CrossLinks.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/components/ListView/CrossLinks.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["memo","useMemo","styled","useTruncation","Link","CrossLinksTooltip","jsx","_jsx","jsxs","_jsxs","StyledCrossLinks","div","theme","colors","grayscale","base","typography","weights","bold","CrossLinks","crossLinks","maxLinks","linkPrefix","crossLinksRef","plusRef","elementsTruncated","hasHiddenElements","hasMoreItems","length","undefined","links","className","ref","children","map","link","index","to","id","title","tooltipLinks","slice","l","moreItems","show","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/app/superset-frontend/src/components/ListView/CrossLinks.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useMemo } from 'react';\nimport { styled, useTruncation } from '@superset-ui/core';\nimport { Link } from 'react-router-dom';\nimport CrossLinksTooltip from './CrossLinksTooltip';\n\nexport type CrossLinkProps = {\n  title: string;\n  id: number;\n};\n\nexport type CrossLinksProps = {\n  crossLinks: Array<CrossLinkProps>;\n  maxLinks?: number;\n  linkPrefix?: string;\n};\n\nconst StyledCrossLinks = styled.div`\n  ${({ theme }) => `\n    & > span {\n      width: 100%;\n      display: flex;\n\n      .ant-tooltip-open {\n        display: inline;\n      }\n\n      .truncated {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        display: inline-block;\n        width: 100%;\n        vertical-align: bottom;\n      }\n\n      .count {\n        cursor: pointer;\n        color: ${theme.colors.grayscale.base};\n        font-weight: ${theme.typography.weights.bold};\n      }\n    }\n  `}\n`;\n\nfunction CrossLinks({\n  crossLinks,\n  maxLinks = 20,\n  linkPrefix = '/superset/dashboard/',\n}: CrossLinksProps) {\n  const [crossLinksRef, plusRef, elementsTruncated, hasHiddenElements] =\n    useTruncation();\n  const hasMoreItems = useMemo(\n    () =>\n      crossLinks.length > maxLinks ? crossLinks.length - maxLinks : undefined,\n    [crossLinks, maxLinks],\n  );\n  const links = useMemo(\n    () => (\n      <span className=\"truncated\" ref={crossLinksRef} data-test=\"crosslinks\">\n        {crossLinks.map((link, index) => (\n          <Link key={link.id} to={linkPrefix + link.id}>\n            {index === 0 ? link.title : `, ${link.title}`}\n          </Link>\n        ))}\n      </span>\n    ),\n    [crossLinks, crossLinksRef, linkPrefix],\n  );\n  const tooltipLinks = useMemo(\n    () =>\n      crossLinks.slice(0, maxLinks).map(l => ({\n        title: l.title,\n        to: linkPrefix + l.id,\n      })),\n    [crossLinks, linkPrefix, maxLinks],\n  );\n\n  return (\n    <StyledCrossLinks>\n      <CrossLinksTooltip\n        moreItems={hasMoreItems}\n        crossLinks={tooltipLinks}\n        show={!!elementsTruncated}\n      >\n        {links}\n        {hasHiddenElements && (\n          <span ref={plusRef} className=\"count\" data-test=\"count-crosslinks\">\n            +{elementsTruncated}\n          </span>\n        )}\n      </CrossLinksTooltip>\n    </StyledCrossLinks>\n  );\n}\n\nexport default memo(CrossLinks);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}