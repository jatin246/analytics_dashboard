{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Global, css } from '@emotion/react';\nimport { t } from '@superset-ui/core';\nimport Popover from 'src/components/Popover';\nimport { FiltersContainer, FiltersDetailsContainer, Separator, SectionName } from 'src/dashboard/components/FiltersBadge/Styles';\nimport FilterIndicator from 'src/dashboard/components/FiltersBadge/FilterIndicator';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst DetailsPanelPopover = ({ appliedCrossFilterIndicators = [], appliedIndicators = [], onHighlightFilterSource, children, popoverVisible, popoverContentRef, popoverTriggerRef, setPopoverVisible }) => {\n  const activeTabs = useSelector((state) => {var _state$dashboardState;return (_state$dashboardState = state.dashboardState) == null ? void 0 : _state$dashboardState.activeTabs;});\n  // Combined ref array for all filter indicator elements\n  const indicatorRefs = useRef([]);\n  const handleKeyDown = (event) => {\n    switch (event.key) {\n      case 'Escape':\n      case 'Enter':\n        // timing out to allow for filter selection to happen first\n        setTimeout(() => {var _popoverTriggerRef$cu;\n          // move back to the popover trigger element\n          popoverTriggerRef == null ? void 0 : (_popoverTriggerRef$cu = popoverTriggerRef.current) == null ? void 0 : _popoverTriggerRef$cu.focus();\n          // Close popover on ESC or ENTER\n          setPopoverVisible(false);\n        });\n        break;\n      case 'ArrowDown':\n      case 'ArrowUp':{var _indicatorRefs$curren;\n          event.preventDefault(); // Prevent scrolling\n          // Navigate through filters with arrows up/down\n          const currentFocusIndex = indicatorRefs.current.findIndex((ref) => ref === document.activeElement);\n          const maxIndex = indicatorRefs.current.length - 1;\n          let nextFocusIndex = 0;\n          if (event.key === 'ArrowDown') {\n            nextFocusIndex =\n            currentFocusIndex >= maxIndex ? 0 : currentFocusIndex + 1;\n          } else\n          if (event.key === 'ArrowUp') {\n            nextFocusIndex =\n            currentFocusIndex <= 0 ? maxIndex : currentFocusIndex - 1;\n          }\n          (_indicatorRefs$curren = indicatorRefs.current[nextFocusIndex]) == null ? void 0 : _indicatorRefs$curren.focus();\n          break;\n        }\n      case 'Tab':\n        // forcing popover context until ESC or ENTER are pressed\n        event.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n  const handleVisibility = (isOpen) => {\n    setPopoverVisible(isOpen);\n  };\n  // we don't need to clean up useEffect, setting { once: true } removes the event listener after handle function is called\n  useEffect(() => {\n    if (popoverVisible) {\n      window.addEventListener('resize', () => setPopoverVisible(false), {\n        once: true\n      });\n    }\n  }, [popoverVisible]);\n  // if tabs change, popover doesn't close automatically\n  useEffect(() => {\n    setPopoverVisible(false);\n  }, [activeTabs]);\n  const indicatorKey = (indicator) => `${indicator.column} - ${indicator.name}`;\n  const content = _jsxs(FiltersDetailsContainer, { ref: popoverContentRef, tabIndex: -1, onMouseLeave: () => setPopoverVisible(false), onKeyDown: handleKeyDown, role: \"menu\", children: [\n    _jsx(Global, { styles: (theme) => /*#__PURE__*/css(\".filterStatusPopover{.ant-popover-inner{background-color:\",\n\n\n      theme.colors.grayscale.dark2, \"cc;.ant-popover-inner-content{padding:\",\n\n      theme.gridUnit * 2, \"px;}}&.ant-popover-placement-bottom,&.ant-popover-placement-bottomLeft,&.ant-popover-placement-bottomRight{&>.ant-popover-content>.ant-popover-arrow{border-top-color:\",\n\n\n\n\n\n\n      theme.colors.grayscale.dark2, \"cc;border-left-color:\",\n      theme.colors.grayscale.dark2, \"cc;}}&.ant-popover-placement-top,&.ant-popover-placement-topLeft,&.ant-popover-placement-topRight{&>.ant-popover-content>.ant-popover-arrow{border-bottom-color:\",\n\n\n\n\n\n\n      theme.colors.grayscale.dark2, \"cc;border-right-color:\",\n      theme.colors.grayscale.dark2, \"cc;}}&.ant-popover-placement-left,&.ant-popover-placement-leftTop,&.ant-popover-placement-leftBottom{&>.ant-popover-content>.ant-popover-arrow{border-top-color:\",\n\n\n\n\n\n\n      theme.colors.grayscale.dark2, \"cc;border-right-color:\",\n      theme.colors.grayscale.dark2, \"cc;}}&.ant-popover-placement-right,&.ant-popover-placement-rightTop,&.ant-popover-placement-rightBottom{&>.ant-popover-content>.ant-popover-arrow{border-bottom-color:\",\n\n\n\n\n\n\n      theme.colors.grayscale.dark2, \"cc;border-left-color:\",\n      theme.colors.grayscale.dark2, \"cc;}}&.ant-popover{color:\",\n\n\n\n      theme.colors.grayscale.light4, \";z-index:99;}}\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:content;\"), process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2Rhc2hib2FyZC9jb21wb25lbnRzL0ZpbHRlcnNCYWRnZS9EZXRhaWxzUGFuZWwvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9GbUMiLCJmaWxlIjoiL2FwcC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZGFzaGJvYXJkL2NvbXBvbmVudHMvRmlsdGVyc0JhZGdlL0RldGFpbHNQYW5lbC9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgR2xvYmFsLCBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IFBvcG92ZXIgZnJvbSAnc3JjL2NvbXBvbmVudHMvUG9wb3Zlcic7XG5pbXBvcnQgeyBGaWx0ZXJzQ29udGFpbmVyLCBGaWx0ZXJzRGV0YWlsc0NvbnRhaW5lciwgU2VwYXJhdG9yLCBTZWN0aW9uTmFtZSwgfSBmcm9tICdzcmMvZGFzaGJvYXJkL2NvbXBvbmVudHMvRmlsdGVyc0JhZGdlL1N0eWxlcyc7XG5pbXBvcnQgRmlsdGVySW5kaWNhdG9yIGZyb20gJ3NyYy9kYXNoYm9hcmQvY29tcG9uZW50cy9GaWx0ZXJzQmFkZ2UvRmlsdGVySW5kaWNhdG9yJztcbmNvbnN0IERldGFpbHNQYW5lbFBvcG92ZXIgPSAoeyBhcHBsaWVkQ3Jvc3NGaWx0ZXJJbmRpY2F0b3JzID0gW10sIGFwcGxpZWRJbmRpY2F0b3JzID0gW10sIG9uSGlnaGxpZ2h0RmlsdGVyU291cmNlLCBjaGlsZHJlbiwgcG9wb3ZlclZpc2libGUsIHBvcG92ZXJDb250ZW50UmVmLCBwb3BvdmVyVHJpZ2dlclJlZiwgc2V0UG9wb3ZlclZpc2libGUsIH0pID0+IHtcbiAgICBjb25zdCBhY3RpdmVUYWJzID0gdXNlU2VsZWN0b3Ioc3RhdGUgPT4gc3RhdGUuZGFzaGJvYXJkU3RhdGU/LmFjdGl2ZVRhYnMpO1xuICAgIC8vIENvbWJpbmVkIHJlZiBhcnJheSBmb3IgYWxsIGZpbHRlciBpbmRpY2F0b3IgZWxlbWVudHNcbiAgICBjb25zdCBpbmRpY2F0b3JSZWZzID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgICAgIC8vIHRpbWluZyBvdXQgdG8gYWxsb3cgZm9yIGZpbHRlciBzZWxlY3Rpb24gdG8gaGFwcGVuIGZpcnN0XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgYmFjayB0byB0aGUgcG9wb3ZlciB0cmlnZ2VyIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgcG9wb3ZlclRyaWdnZXJSZWY/LmN1cnJlbnQ/LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIHBvcG92ZXIgb24gRVNDIG9yIEVOVEVSXG4gICAgICAgICAgICAgICAgICAgIHNldFBvcG92ZXJWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICBjYXNlICdBcnJvd1VwJzoge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnQgc2Nyb2xsaW5nXG4gICAgICAgICAgICAgICAgLy8gTmF2aWdhdGUgdGhyb3VnaCBmaWx0ZXJzIHdpdGggYXJyb3dzIHVwL2Rvd25cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Rm9jdXNJbmRleCA9IGluZGljYXRvclJlZnMuY3VycmVudC5maW5kSW5kZXgocmVmID0+IHJlZiA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4SW5kZXggPSBpbmRpY2F0b3JSZWZzLmN1cnJlbnQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dEZvY3VzSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRGb2N1c0luZGV4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGb2N1c0luZGV4ID49IG1heEluZGV4ID8gMCA6IGN1cnJlbnRGb2N1c0luZGV4ICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dEZvY3VzSW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZvY3VzSW5kZXggPD0gMCA/IG1heEluZGV4IDogY3VycmVudEZvY3VzSW5kZXggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmRpY2F0b3JSZWZzLmN1cnJlbnRbbmV4dEZvY3VzSW5kZXhdPy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnVGFiJzpcbiAgICAgICAgICAgICAgICAvLyBmb3JjaW5nIHBvcG92ZXIgY29udGV4dCB1bnRpbCBFU0Mgb3IgRU5URVIgYXJlIHByZXNzZWRcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eSA9IChpc09wZW4pID0+IHtcbiAgICAgICAgc2V0UG9wb3ZlclZpc2libGUoaXNPcGVuKTtcbiAgICB9O1xuICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgdXNlRWZmZWN0LCBzZXR0aW5nIHsgb25jZTogdHJ1ZSB9IHJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVyIGFmdGVyIGhhbmRsZSBmdW5jdGlvbiBpcyBjYWxsZWRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocG9wb3ZlclZpc2libGUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiBzZXRQb3BvdmVyVmlzaWJsZShmYWxzZSksIHtcbiAgICAgICAgICAgICAgICBvbmNlOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbcG9wb3ZlclZpc2libGVdKTtcbiAgICAvLyBpZiB0YWJzIGNoYW5nZSwgcG9wb3ZlciBkb2Vzbid0IGNsb3NlIGF1dG9tYXRpY2FsbHlcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRQb3BvdmVyVmlzaWJsZShmYWxzZSk7XG4gICAgfSwgW2FjdGl2ZVRhYnNdKTtcbiAgICBjb25zdCBpbmRpY2F0b3JLZXkgPSAoaW5kaWNhdG9yKSA9PiBgJHtpbmRpY2F0b3IuY29sdW1ufSAtICR7aW5kaWNhdG9yLm5hbWV9YDtcbiAgICBjb25zdCBjb250ZW50ID0gKDxGaWx0ZXJzRGV0YWlsc0NvbnRhaW5lciByZWY9e3BvcG92ZXJDb250ZW50UmVmfSB0YWJJbmRleD17LTF9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0UG9wb3ZlclZpc2libGUoZmFsc2UpfSBvbktleURvd249e2hhbmRsZUtleURvd259IHJvbGU9XCJtZW51XCI+XG4gICAgICA8R2xvYmFsIHN0eWxlcz17dGhlbWUgPT4gY3NzIGBcbiAgICAgICAgICAuZmlsdGVyU3RhdHVzUG9wb3ZlciB7XG4gICAgICAgICAgICAuYW50LXBvcG92ZXItaW5uZXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9Y2M7XG4gICAgICAgICAgICAgIC5hbnQtcG9wb3Zlci1pbm5lci1jb250ZW50IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAke3RoZW1lLmdyaWRVbml0ICogMn1weDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJi5hbnQtcG9wb3Zlci1wbGFjZW1lbnQtYm90dG9tLFxuICAgICAgICAgICAgJi5hbnQtcG9wb3Zlci1wbGFjZW1lbnQtYm90dG9tTGVmdCxcbiAgICAgICAgICAgICYuYW50LXBvcG92ZXItcGxhY2VtZW50LWJvdHRvbVJpZ2h0IHtcbiAgICAgICAgICAgICAgJiA+IC5hbnQtcG9wb3Zlci1jb250ZW50ID4gLmFudC1wb3BvdmVyLWFycm93IHtcbiAgICAgICAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9Y2M7XG4gICAgICAgICAgICAgICAgYm9yZGVyLWxlZnQtY29sb3I6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5kYXJrMn1jYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJi5hbnQtcG9wb3Zlci1wbGFjZW1lbnQtdG9wLFxuICAgICAgICAgICAgJi5hbnQtcG9wb3Zlci1wbGFjZW1lbnQtdG9wTGVmdCxcbiAgICAgICAgICAgICYuYW50LXBvcG92ZXItcGxhY2VtZW50LXRvcFJpZ2h0IHtcbiAgICAgICAgICAgICAgJiA+IC5hbnQtcG9wb3Zlci1jb250ZW50ID4gLmFudC1wb3BvdmVyLWFycm93IHtcbiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9Y2M7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiAke3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuZGFyazJ9Y2M7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICYuYW50LXBvcG92ZXItcGxhY2VtZW50LWxlZnQsXG4gICAgICAgICAgICAmLmFudC1wb3BvdmVyLXBsYWNlbWVudC1sZWZ0VG9wLFxuICAgICAgICAgICAgJi5hbnQtcG9wb3Zlci1wbGFjZW1lbnQtbGVmdEJvdHRvbSB7XG4gICAgICAgICAgICAgICYgPiAuYW50LXBvcG92ZXItY29udGVudCA+IC5hbnQtcG9wb3Zlci1hcnJvdyB7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmRhcmsyfWNjO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmRhcmsyfWNjO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAmLmFudC1wb3BvdmVyLXBsYWNlbWVudC1yaWdodCxcbiAgICAgICAgICAgICYuYW50LXBvcG92ZXItcGxhY2VtZW50LXJpZ2h0VG9wLFxuICAgICAgICAgICAgJi5hbnQtcG9wb3Zlci1wbGFjZW1lbnQtcmlnaHRCb3R0b20ge1xuICAgICAgICAgICAgICAmID4gLmFudC1wb3BvdmVyLWNvbnRlbnQgPiAuYW50LXBvcG92ZXItYXJyb3cge1xuICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5kYXJrMn1jYztcbiAgICAgICAgICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogJHt0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmRhcmsyfWNjO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAmLmFudC1wb3BvdmVyIHtcbiAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDR9O1xuICAgICAgICAgICAgICB6LWluZGV4OiA5OTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGB9Lz5cbiAgICAgIDxkaXY+XG4gICAgICAgIHthcHBsaWVkQ3Jvc3NGaWx0ZXJJbmRpY2F0b3JzLmxlbmd0aCA/ICg8ZGl2PlxuICAgICAgICAgICAgPFNlY3Rpb25OYW1lPlxuICAgICAgICAgICAgICB7dCgnQXBwbGllZCBjcm9zcy1maWx0ZXJzICglZCknLCBhcHBsaWVkQ3Jvc3NGaWx0ZXJJbmRpY2F0b3JzLmxlbmd0aCl9XG4gICAgICAgICAgICA8L1NlY3Rpb25OYW1lPlxuICAgICAgICAgICAgPEZpbHRlcnNDb250YWluZXI+XG4gICAgICAgICAgICAgIHthcHBsaWVkQ3Jvc3NGaWx0ZXJJbmRpY2F0b3JzLm1hcChpbmRpY2F0b3IgPT4gKDxGaWx0ZXJJbmRpY2F0b3IgcmVmPXtlbCA9PiBpbmRpY2F0b3JSZWZzLmN1cnJlbnQucHVzaChlbCl9IGtleT17aW5kaWNhdG9yS2V5KGluZGljYXRvcil9IGluZGljYXRvcj17aW5kaWNhdG9yfSBvbkNsaWNrPXtvbkhpZ2hsaWdodEZpbHRlclNvdXJjZX0vPikpfVxuICAgICAgICAgICAgPC9GaWx0ZXJzQ29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PikgOiBudWxsfVxuICAgICAgICB7YXBwbGllZENyb3NzRmlsdGVySW5kaWNhdG9ycy5sZW5ndGggJiYgYXBwbGllZEluZGljYXRvcnMubGVuZ3RoID8gKDxTZXBhcmF0b3IgLz4pIDogbnVsbH1cbiAgICAgICAge2FwcGxpZWRJbmRpY2F0b3JzLmxlbmd0aCA/ICg8ZGl2PlxuICAgICAgICAgICAgPFNlY3Rpb25OYW1lPlxuICAgICAgICAgICAgICB7dCgnQXBwbGllZCBmaWx0ZXJzICglZCknLCBhcHBsaWVkSW5kaWNhdG9ycy5sZW5ndGgpfVxuICAgICAgICAgICAgPC9TZWN0aW9uTmFtZT5cbiAgICAgICAgICAgIDxGaWx0ZXJzQ29udGFpbmVyPlxuICAgICAgICAgICAgICB7YXBwbGllZEluZGljYXRvcnMubWFwKGluZGljYXRvciA9PiAoPEZpbHRlckluZGljYXRvciByZWY9e2VsID0+IGluZGljYXRvclJlZnMuY3VycmVudC5wdXNoKGVsKX0ga2V5PXtpbmRpY2F0b3JLZXkoaW5kaWNhdG9yKX0gaW5kaWNhdG9yPXtpbmRpY2F0b3J9IG9uQ2xpY2s9e29uSGlnaGxpZ2h0RmlsdGVyU291cmNlfS8+KSl9XG4gICAgICAgICAgICA8L0ZpbHRlcnNDb250YWluZXI+XG4gICAgICAgICAgPC9kaXY+KSA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICA8L0ZpbHRlcnNEZXRhaWxzQ29udGFpbmVyPik7XG4gICAgcmV0dXJuICg8UG9wb3ZlciBvdmVybGF5Q2xhc3NOYW1lPVwiZmlsdGVyU3RhdHVzUG9wb3ZlclwiIGNvbnRlbnQ9e2NvbnRlbnR9IHZpc2libGU9e3BvcG92ZXJWaXNpYmxlfSBvblZpc2libGVDaGFuZ2U9e2hhbmRsZVZpc2liaWxpdHl9IHBsYWNlbWVudD1cImJvdHRvbVJpZ2h0XCIgdHJpZ2dlcj17Wydob3ZlciddfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1BvcG92ZXI+KTtcbn07XG5leHBvcnQgZGVmYXVsdCBEZXRhaWxzUGFuZWxQb3BvdmVyO1xuIl19 */\") }\n\n\n\n    ),\n    _jsxs(\"div\", { children: [\n      appliedCrossFilterIndicators.length ? _jsxs(\"div\", { children: [\n        _jsx(SectionName, { children:\n          t('Applied cross-filters (%d)', appliedCrossFilterIndicators.length) }\n        ),\n        _jsx(FiltersContainer, { children:\n          appliedCrossFilterIndicators.map((indicator) => _jsx(FilterIndicator, { ref: (el) => indicatorRefs.current.push(el), indicator: indicator, onClick: onHighlightFilterSource }, indicatorKey(indicator))) }\n        )] }\n      ) : null,\n      appliedCrossFilterIndicators.length && appliedIndicators.length ? _jsx(Separator, {}) : null,\n      appliedIndicators.length ? _jsxs(\"div\", { children: [\n        _jsx(SectionName, { children:\n          t('Applied filters (%d)', appliedIndicators.length) }\n        ),\n        _jsx(FiltersContainer, { children:\n          appliedIndicators.map((indicator) => _jsx(FilterIndicator, { ref: (el) => indicatorRefs.current.push(el), indicator: indicator, onClick: onHighlightFilterSource }, indicatorKey(indicator))) }\n        )] }\n      ) : null] }\n    )] }\n  );\n  return _jsx(Popover, { overlayClassName: \"filterStatusPopover\", content: content, visible: popoverVisible, onVisibleChange: handleVisibility, placement: \"bottomRight\", trigger: ['hover'], children:\n    children }\n  );\n};__signature__(DetailsPanelPopover, \"useSelector{activeTabs}\\nuseRef{indicatorRefs}\\nuseEffect{}\\nuseEffect{}\", () => [useSelector]);const _default =\nDetailsPanelPopover;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DetailsPanelPopover, \"DetailsPanelPopover\", \"/app/superset-frontend/src/dashboard/components/FiltersBadge/DetailsPanel/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/FiltersBadge/DetailsPanel/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useEffect","useRef","useSelector","Global","css","t","Popover","FiltersContainer","FiltersDetailsContainer","Separator","SectionName","FilterIndicator","jsx","_jsx","jsxs","_jsxs","DetailsPanelPopover","appliedCrossFilterIndicators","appliedIndicators","onHighlightFilterSource","children","popoverVisible","popoverContentRef","popoverTriggerRef","setPopoverVisible","activeTabs","state","_state$dashboardState","dashboardState","indicatorRefs","handleKeyDown","event","key","setTimeout","_popoverTriggerRef$cu","current","focus","_indicatorRefs$curren","preventDefault","currentFocusIndex","findIndex","ref","document","activeElement","maxIndex","length","nextFocusIndex","handleVisibility","isOpen","window","addEventListener","once","indicatorKey","indicator","column","name","content","tabIndex","onMouseLeave","onKeyDown","role","styles","theme","colors","grayscale","dark2","gridUnit","light4","process","env","NODE_ENV","map","el","push","onClick","overlayClassName","visible","onVisibleChange","placement","trigger","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/FiltersBadge/DetailsPanel/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { RefObject, useEffect, useRef, KeyboardEvent } from 'react';\n\nimport { useSelector } from 'react-redux';\nimport { Global, css } from '@emotion/react';\nimport { t } from '@superset-ui/core';\nimport Popover from 'src/components/Popover';\nimport {\n  FiltersContainer,\n  FiltersDetailsContainer,\n  Separator,\n  SectionName,\n} from 'src/dashboard/components/FiltersBadge/Styles';\nimport { Indicator } from 'src/dashboard/components/nativeFilters/selectors';\nimport FilterIndicator from 'src/dashboard/components/FiltersBadge/FilterIndicator';\nimport { RootState } from 'src/dashboard/types';\n\nexport interface DetailsPanelProps {\n  appliedCrossFilterIndicators: Indicator[];\n  appliedIndicators: Indicator[];\n  onHighlightFilterSource: (path: string[]) => void;\n  children: JSX.Element;\n  popoverVisible: boolean;\n  popoverContentRef: RefObject<HTMLDivElement>;\n  popoverTriggerRef: RefObject<HTMLDivElement>;\n  setPopoverVisible: (visible: boolean) => void;\n}\n\nconst DetailsPanelPopover = ({\n  appliedCrossFilterIndicators = [],\n  appliedIndicators = [],\n  onHighlightFilterSource,\n  children,\n  popoverVisible,\n  popoverContentRef,\n  popoverTriggerRef,\n  setPopoverVisible,\n}: DetailsPanelProps) => {\n  const activeTabs = useSelector<RootState>(\n    state => state.dashboardState?.activeTabs,\n  );\n  // Combined ref array for all filter indicator elements\n  const indicatorRefs = useRef<(HTMLButtonElement | null)[]>([]);\n\n  const handleKeyDown = (event: KeyboardEvent<HTMLDivElement>) => {\n    switch (event.key) {\n      case 'Escape':\n      case 'Enter':\n        // timing out to allow for filter selection to happen first\n        setTimeout(() => {\n          // move back to the popover trigger element\n          popoverTriggerRef?.current?.focus();\n          // Close popover on ESC or ENTER\n          setPopoverVisible(false);\n        });\n        break;\n      case 'ArrowDown':\n      case 'ArrowUp': {\n        event.preventDefault(); // Prevent scrolling\n        // Navigate through filters with arrows up/down\n        const currentFocusIndex = indicatorRefs.current.findIndex(\n          ref => ref === document.activeElement,\n        );\n        const maxIndex = indicatorRefs.current.length - 1;\n        let nextFocusIndex = 0;\n\n        if (event.key === 'ArrowDown') {\n          nextFocusIndex =\n            currentFocusIndex >= maxIndex ? 0 : currentFocusIndex + 1;\n        } else if (event.key === 'ArrowUp') {\n          nextFocusIndex =\n            currentFocusIndex <= 0 ? maxIndex : currentFocusIndex - 1;\n        }\n        indicatorRefs.current[nextFocusIndex]?.focus();\n        break;\n      }\n      case 'Tab':\n        // forcing popover context until ESC or ENTER are pressed\n        event.preventDefault();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleVisibility = (isOpen: boolean) => {\n    setPopoverVisible(isOpen);\n  };\n\n  // we don't need to clean up useEffect, setting { once: true } removes the event listener after handle function is called\n  useEffect(() => {\n    if (popoverVisible) {\n      window.addEventListener('resize', () => setPopoverVisible(false), {\n        once: true,\n      });\n    }\n  }, [popoverVisible]);\n\n  // if tabs change, popover doesn't close automatically\n  useEffect(() => {\n    setPopoverVisible(false);\n  }, [activeTabs]);\n\n  const indicatorKey = (indicator: Indicator): string =>\n    `${indicator.column} - ${indicator.name}`;\n\n  const content = (\n    <FiltersDetailsContainer\n      ref={popoverContentRef}\n      tabIndex={-1}\n      onMouseLeave={() => setPopoverVisible(false)}\n      onKeyDown={handleKeyDown}\n      role=\"menu\"\n    >\n      <Global\n        styles={theme => css`\n          .filterStatusPopover {\n            .ant-popover-inner {\n              background-color: ${theme.colors.grayscale.dark2}cc;\n              .ant-popover-inner-content {\n                padding: ${theme.gridUnit * 2}px;\n              }\n            }\n            &.ant-popover-placement-bottom,\n            &.ant-popover-placement-bottomLeft,\n            &.ant-popover-placement-bottomRight {\n              & > .ant-popover-content > .ant-popover-arrow {\n                border-top-color: ${theme.colors.grayscale.dark2}cc;\n                border-left-color: ${theme.colors.grayscale.dark2}cc;\n              }\n            }\n            &.ant-popover-placement-top,\n            &.ant-popover-placement-topLeft,\n            &.ant-popover-placement-topRight {\n              & > .ant-popover-content > .ant-popover-arrow {\n                border-bottom-color: ${theme.colors.grayscale.dark2}cc;\n                border-right-color: ${theme.colors.grayscale.dark2}cc;\n              }\n            }\n            &.ant-popover-placement-left,\n            &.ant-popover-placement-leftTop,\n            &.ant-popover-placement-leftBottom {\n              & > .ant-popover-content > .ant-popover-arrow {\n                border-top-color: ${theme.colors.grayscale.dark2}cc;\n                border-right-color: ${theme.colors.grayscale.dark2}cc;\n              }\n            }\n            &.ant-popover-placement-right,\n            &.ant-popover-placement-rightTop,\n            &.ant-popover-placement-rightBottom {\n              & > .ant-popover-content > .ant-popover-arrow {\n                border-bottom-color: ${theme.colors.grayscale.dark2}cc;\n                border-left-color: ${theme.colors.grayscale.dark2}cc;\n              }\n            }\n            &.ant-popover {\n              color: ${theme.colors.grayscale.light4};\n              z-index: 99;\n            }\n          }\n        `}\n      />\n      <div>\n        {appliedCrossFilterIndicators.length ? (\n          <div>\n            <SectionName>\n              {t(\n                'Applied cross-filters (%d)',\n                appliedCrossFilterIndicators.length,\n              )}\n            </SectionName>\n            <FiltersContainer>\n              {appliedCrossFilterIndicators.map(indicator => (\n                <FilterIndicator\n                  ref={el => indicatorRefs.current.push(el)}\n                  key={indicatorKey(indicator)}\n                  indicator={indicator}\n                  onClick={onHighlightFilterSource}\n                />\n              ))}\n            </FiltersContainer>\n          </div>\n        ) : null}\n        {appliedCrossFilterIndicators.length && appliedIndicators.length ? (\n          <Separator />\n        ) : null}\n        {appliedIndicators.length ? (\n          <div>\n            <SectionName>\n              {t('Applied filters (%d)', appliedIndicators.length)}\n            </SectionName>\n            <FiltersContainer>\n              {appliedIndicators.map(indicator => (\n                <FilterIndicator\n                  ref={el => indicatorRefs.current.push(el)}\n                  key={indicatorKey(indicator)}\n                  indicator={indicator}\n                  onClick={onHighlightFilterSource}\n                />\n              ))}\n            </FiltersContainer>\n          </div>\n        ) : null}\n      </div>\n    </FiltersDetailsContainer>\n  );\n\n  return (\n    <Popover\n      overlayClassName=\"filterStatusPopover\"\n      content={content}\n      visible={popoverVisible}\n      onVisibleChange={handleVisibility}\n      placement=\"bottomRight\"\n      trigger={['hover']}\n    >\n      {children}\n    </Popover>\n  );\n};\n\nexport default DetailsPanelPopover;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}