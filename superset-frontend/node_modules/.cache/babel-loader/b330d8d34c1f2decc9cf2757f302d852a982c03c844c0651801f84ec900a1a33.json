{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useCallback, useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { css, t, useTheme, useTruncation } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\nimport { DependencyItem, Row, RowLabel, RowTruncationCount, RowValue, TooltipList } from './Styles';\nimport { useFilterDependencies } from './useFilterDependencies';\nimport { TooltipWithTruncation } from './TooltipWithTruncation';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst DependencyValue = ({ dependency, hasSeparator }) => {\n  const dispatch = useDispatch();\n  const handleClick = useCallback(() => {\n    dispatch(setDirectPathToChild([dependency.id]));\n  }, [dependency.id, dispatch]);\n  return _jsxs(\"span\", { children: [\n    hasSeparator && _jsx(\"span\", { children: \", \" }),\n    _jsx(DependencyItem, { role: \"button\", onClick: handleClick, tabIndex: 0, children:\n      dependency.name }\n    )] }\n  );\n};__signature__(DependencyValue, \"useDispatch{dispatch}\\nuseCallback{handleClick}\", () => [useDispatch]);\nexport const DependenciesRow = /*#__PURE__*/memo(__signature__(({ filter }) => {\n  const dependencies = useFilterDependencies(filter);\n  const [dependenciesRef, plusRef, elementsTruncated, hasHiddenElements] = useTruncation();\n  const theme = useTheme();\n  const tooltipText = useMemo(() => elementsTruncated > 0 && dependencies ? _jsx(TooltipList, { children:\n    dependencies.map((dependency) => _jsx(\"li\", { children:\n      _jsx(DependencyValue, { dependency: dependency }) }\n    )) }\n  ) : null, [elementsTruncated, dependencies]);\n  if (!Array.isArray(dependencies) || dependencies.length === 0) {\n    return null;\n  }\n  return _jsxs(Row, { children: [\n    _jsxs(RowLabel, { css: css`\n          display: inline-flex;\n          align-items: center;\n        `, children: [\n      t('Dependent on'), ' ',\n      _jsx(TooltipWithTruncation, { title: t('Filter only displays values relevant to selections made in other filters.'), children:\n        _jsx(Icons.Info, { iconSize: \"m\", iconColor: theme.colors.grayscale.light1, css: css`\n              margin-left: ${theme.gridUnit}px;\n            ` }) }\n      )] }\n    ),\n    _jsxs(TooltipWithTruncation, { title: tooltipText, children: [\n      _jsx(RowValue, { ref: dependenciesRef, children:\n        dependencies.map((dependency, index) => _jsx(DependencyValue, { dependency: dependency, hasSeparator: index !== 0 }, dependency.id)) }\n      ),\n      hasHiddenElements && _jsxs(RowTruncationCount, { ref: plusRef, children: [\"+\",\n        elementsTruncated] }\n      )] }\n    )] }\n  );\n}, \"useFilterDependencies{dependencies}\\nuseTruncation{[dependenciesRef, plusRef, elementsTruncated, hasHiddenElements]}\\nuseTheme{theme}\\nuseMemo{tooltipText}\", () => [useFilterDependencies, useTruncation, useTheme]));;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DependencyValue, \"DependencyValue\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterCard/DependenciesRow.tsx\");reactHotLoader.register(DependenciesRow, \"DependenciesRow\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterCard/DependenciesRow.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["memo","useCallback","useMemo","useDispatch","css","t","useTheme","useTruncation","Icons","setDirectPathToChild","DependencyItem","Row","RowLabel","RowTruncationCount","RowValue","TooltipList","useFilterDependencies","TooltipWithTruncation","jsx","_jsx","jsxs","_jsxs","DependencyValue","dependency","hasSeparator","dispatch","handleClick","id","children","role","onClick","tabIndex","name","__signature__","DependenciesRow","filter","dependencies","dependenciesRef","plusRef","elementsTruncated","hasHiddenElements","theme","tooltipText","map","Array","isArray","length","title","Info","iconSize","iconColor","colors","grayscale","light1","gridUnit","ref","index","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterCard/DependenciesRow.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { memo, useCallback, useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { css, t, useTheme, useTruncation } from '@superset-ui/core';\nimport Icons from 'src/components/Icons';\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\nimport {\n  DependencyItem,\n  Row,\n  RowLabel,\n  RowTruncationCount,\n  RowValue,\n  TooltipList,\n} from './Styles';\nimport { useFilterDependencies } from './useFilterDependencies';\nimport { DependencyValueProps, FilterCardRowProps } from './types';\nimport { TooltipWithTruncation } from './TooltipWithTruncation';\n\nconst DependencyValue = ({\n  dependency,\n  hasSeparator,\n}: DependencyValueProps) => {\n  const dispatch = useDispatch();\n  const handleClick = useCallback(() => {\n    dispatch(setDirectPathToChild([dependency.id]));\n  }, [dependency.id, dispatch]);\n  return (\n    <span>\n      {hasSeparator && <span>, </span>}\n      <DependencyItem role=\"button\" onClick={handleClick} tabIndex={0}>\n        {dependency.name}\n      </DependencyItem>\n    </span>\n  );\n};\n\nexport const DependenciesRow = memo(({ filter }: FilterCardRowProps) => {\n  const dependencies = useFilterDependencies(filter);\n  const [dependenciesRef, plusRef, elementsTruncated, hasHiddenElements] =\n    useTruncation();\n  const theme = useTheme();\n\n  const tooltipText = useMemo(\n    () =>\n      elementsTruncated > 0 && dependencies ? (\n        <TooltipList>\n          {dependencies.map(dependency => (\n            <li>\n              <DependencyValue dependency={dependency} />\n            </li>\n          ))}\n        </TooltipList>\n      ) : null,\n    [elementsTruncated, dependencies],\n  );\n\n  if (!Array.isArray(dependencies) || dependencies.length === 0) {\n    return null;\n  }\n  return (\n    <Row>\n      <RowLabel\n        css={css`\n          display: inline-flex;\n          align-items: center;\n        `}\n      >\n        {t('Dependent on')}{' '}\n        <TooltipWithTruncation\n          title={t(\n            'Filter only displays values relevant to selections made in other filters.',\n          )}\n        >\n          <Icons.Info\n            iconSize=\"m\"\n            iconColor={theme.colors.grayscale.light1}\n            css={css`\n              margin-left: ${theme.gridUnit}px;\n            `}\n          />\n        </TooltipWithTruncation>\n      </RowLabel>\n      <TooltipWithTruncation title={tooltipText}>\n        <RowValue ref={dependenciesRef}>\n          {dependencies.map((dependency, index) => (\n            <DependencyValue\n              key={dependency.id}\n              dependency={dependency}\n              hasSeparator={index !== 0}\n            />\n          ))}\n        </RowValue>\n        {hasHiddenElements && (\n          <RowTruncationCount ref={plusRef}>\n            +{elementsTruncated}\n          </RowTruncationCount>\n        )}\n      </TooltipWithTruncation>\n    </Row>\n  );\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}