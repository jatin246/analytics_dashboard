{"ast":null,"code":"import _debounce from \"lodash/debounce\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";}var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useRef, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Collapse from 'src/components/Collapse';\nimport Card from 'src/components/Card';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { css, t, styled, useTheme } from '@superset-ui/core';\n\nimport { removeDataPreview, removeTables, addDangerToast, syncTable } from 'src/SqlLab/actions/sqlLab';\nimport { useTableExtendedMetadataQuery, useTableMetadataQuery } from 'src/hooks/apiResources';\nimport { Tooltip } from 'src/components/Tooltip';\nimport CopyToClipboard from 'src/components/CopyToClipboard';\nimport { IconTooltip } from 'src/components/IconTooltip';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport Loading from 'src/components/Loading';\nimport useEffectEvent from 'src/hooks/useEffectEvent';\nimport ColumnElement from '../ColumnElement';\nimport ShowSQL from '../ShowSQL';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";import { createElement as _createElement } from \"@emotion/react\";\nconst StyledSpan = styled.span`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &:hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n  cursor: pointer;\n`;\nconst Fade = styled.div`\n  transition: all ${({ theme }) => theme.transitionTiming}s;\n  opacity: ${(props) => props.hovered ? 1 : 0};\n`;\nconst StyledCollapsePanel = styled(Collapse.Panel)`\n  ${({ theme }) => css`\n    & {\n      .ws-el-controls {\n        margin-right: ${-theme.gridUnit}px;\n        display: flex;\n      }\n\n      .header-container {\n        display: flex;\n        flex: 1;\n        align-items: center;\n        width: 100%;\n\n        .table-name {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          font-size: ${theme.typography.sizes.l}px;\n          flex: 1;\n        }\n\n        .header-right-side {\n          margin-left: auto;\n          display: flex;\n          align-items: center;\n          margin-right: ${theme.gridUnit * 8}px;\n        }\n      }\n    }\n  `}\n`;var _ref = process.env.NODE_ENV === \"production\" ? { name: \"1hs1mx1\", styles: \"padding-top:6px\" } : { name: \"14hmmm7-metadata\", styles: \"padding-top:6px;label:metadata;\", map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1RhYmxlRWxlbWVudC9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcU9rSSIsImZpbGUiOiIvYXBwL3N1cGVyc2V0LWZyb250ZW5kL3NyYy9TcWxMYWIvY29tcG9uZW50cy9UYWJsZUVsZW1lbnQvaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2ggfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgQ29sbGFwc2UgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ29sbGFwc2UnO1xuaW1wb3J0IENhcmQgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ2FyZCc7XG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uR3JvdXAnO1xuaW1wb3J0IHsgY3NzLCB0LCBzdHlsZWQsIHVzZVRoZW1lIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgcmVtb3ZlRGF0YVByZXZpZXcsIHJlbW92ZVRhYmxlcywgYWRkRGFuZ2VyVG9hc3QsIHN5bmNUYWJsZSwgfSBmcm9tICdzcmMvU3FsTGFiL2FjdGlvbnMvc3FsTGFiJztcbmltcG9ydCB7IHVzZVRhYmxlRXh0ZW5kZWRNZXRhZGF0YVF1ZXJ5LCB1c2VUYWJsZU1ldGFkYXRhUXVlcnksIH0gZnJvbSAnc3JjL2hvb2tzL2FwaVJlc291cmNlcyc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvVG9vbHRpcCc7XG5pbXBvcnQgQ29weVRvQ2xpcGJvYXJkIGZyb20gJ3NyYy9jb21wb25lbnRzL0NvcHlUb0NsaXBib2FyZCc7XG5pbXBvcnQgeyBJY29uVG9vbHRpcCB9IGZyb20gJ3NyYy9jb21wb25lbnRzL0ljb25Ub29sdGlwJztcbmltcG9ydCBNb2RhbFRyaWdnZXIgZnJvbSAnc3JjL2NvbXBvbmVudHMvTW9kYWxUcmlnZ2VyJztcbmltcG9ydCBMb2FkaW5nIGZyb20gJ3NyYy9jb21wb25lbnRzL0xvYWRpbmcnO1xuaW1wb3J0IHVzZUVmZmVjdEV2ZW50IGZyb20gJ3NyYy9ob29rcy91c2VFZmZlY3RFdmVudCc7XG5pbXBvcnQgQ29sdW1uRWxlbWVudCBmcm9tICcuLi9Db2x1bW5FbGVtZW50JztcbmltcG9ydCBTaG93U1FMIGZyb20gJy4uL1Nob3dTUUwnO1xuY29uc3QgU3R5bGVkU3BhbiA9IHN0eWxlZC5zcGFuIGBcbiAgY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLnByaW1hcnkuZGFyazF9O1xuICAmOmhvdmVyIHtcbiAgICBjb2xvcjogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMucHJpbWFyeS5kYXJrMn07XG4gIH1cbiAgY3Vyc29yOiBwb2ludGVyO1xuYDtcbmNvbnN0IEZhZGUgPSBzdHlsZWQuZGl2IGBcbiAgdHJhbnNpdGlvbjogYWxsICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHJhbnNpdGlvblRpbWluZ31zO1xuICBvcGFjaXR5OiAkeyhwcm9wcykgPT4gKHByb3BzLmhvdmVyZWQgPyAxIDogMCl9O1xuYDtcbmNvbnN0IFN0eWxlZENvbGxhcHNlUGFuZWwgPSBzdHlsZWQoQ29sbGFwc2UuUGFuZWwpIGBcbiAgJHsoeyB0aGVtZSB9KSA9PiBjc3MgYFxuICAgICYge1xuICAgICAgLndzLWVsLWNvbnRyb2xzIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAkey10aGVtZS5ncmlkVW5pdH1weDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIH1cblxuICAgICAgLmhlYWRlci1jb250YWluZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB3aWR0aDogMTAwJTtcblxuICAgICAgICAudGFibGUtbmFtZSB7XG4gICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgIGZvbnQtc2l6ZTogJHt0aGVtZS50eXBvZ3JhcGh5LnNpemVzLmx9cHg7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5oZWFkZXItcmlnaHQtc2lkZSB7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogJHt0aGVtZS5ncmlkVW5pdCAqIDh9cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIGB9XG5gO1xuY29uc3QgVGFibGVFbGVtZW50ID0gKHsgdGFibGUsIC4uLnByb3BzIH0pID0+IHtcbiAgICBjb25zdCB7IGRiSWQsIGNhdGFsb2csIHNjaGVtYSwgbmFtZSwgZXhwYW5kZWQgfSA9IHRhYmxlO1xuICAgIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgY29uc3QgeyBjdXJyZW50RGF0YTogdGFibGVNZXRhZGF0YSwgaXNTdWNjZXNzOiBpc01ldGFkYXRhU3VjY2VzcywgaXNMb2FkaW5nOiBpc01ldGFkYXRhTG9hZGluZywgaXNFcnJvcjogaGFzTWV0YWRhdGFFcnJvciwgfSA9IHVzZVRhYmxlTWV0YWRhdGFRdWVyeSh7XG4gICAgICAgIGRiSWQsXG4gICAgICAgIGNhdGFsb2csXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdGFibGU6IG5hbWUsXG4gICAgfSwgeyBza2lwOiAhZXhwYW5kZWQgfSk7XG4gICAgY29uc3QgeyBjdXJyZW50RGF0YTogdGFibGVFeHRlbmRlZE1ldGFkYXRhLCBpc1N1Y2Nlc3M6IGlzRXh0cmFNZXRhZGF0YVN1Y2Nlc3MsIGlzTG9hZGluZzogaXNFeHRyYU1ldGFkYXRhTG9hZGluZywgaXNFcnJvcjogaGFzRXh0ZW5kZWRNZXRhZGF0YUVycm9yLCB9ID0gdXNlVGFibGVFeHRlbmRlZE1ldGFkYXRhUXVlcnkoe1xuICAgICAgICBkYklkLFxuICAgICAgICBjYXRhbG9nLFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHRhYmxlOiBuYW1lLFxuICAgIH0sIHsgc2tpcDogIWV4cGFuZGVkIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChoYXNNZXRhZGF0YUVycm9yIHx8IGhhc0V4dGVuZGVkTWV0YWRhdGFFcnJvcikge1xuICAgICAgICAgICAgZGlzcGF0Y2goYWRkRGFuZ2VyVG9hc3QodCgnQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZmV0Y2hpbmcgdGFibGUgbWV0YWRhdGEnKSkpO1xuICAgICAgICB9XG4gICAgfSwgW2hhc01ldGFkYXRhRXJyb3IsIGhhc0V4dGVuZGVkTWV0YWRhdGFFcnJvciwgZGlzcGF0Y2hdKTtcbiAgICBjb25zdCB0YWJsZURhdGEgPSB7XG4gICAgICAgIC4uLnRhYmxlTWV0YWRhdGEsXG4gICAgICAgIC4uLnRhYmxlRXh0ZW5kZWRNZXRhZGF0YSxcbiAgICB9O1xuICAgIC8vIFRPRE86IG1pZ3JhdGUgc3luY1RhYmxlIGxvZ2ljIGJ5IFNJUC05M1xuICAgIGNvbnN0IHN5bmNUYWJsZU1ldGFkYXRhID0gdXNlRWZmZWN0RXZlbnQoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGluaXRpYWxpemVkIH0gPSB0YWJsZTtcbiAgICAgICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goc3luY1RhYmxlKHRhYmxlLCB0YWJsZURhdGEpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc01ldGFkYXRhU3VjY2VzcyAmJiBpc0V4dHJhTWV0YWRhdGFTdWNjZXNzKSB7XG4gICAgICAgICAgICBzeW5jVGFibGVNZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgfSwgW2lzTWV0YWRhdGFTdWNjZXNzLCBpc0V4dHJhTWV0YWRhdGFTdWNjZXNzLCBzeW5jVGFibGVNZXRhZGF0YV0pO1xuICAgIGNvbnN0IFtzb3J0Q29sdW1ucywgc2V0U29ydENvbHVtbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtob3ZlcmVkLCBzZXRIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB0YWJsZU5hbWVSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgc2V0SG92ZXIgPSAoaG92ZXJlZCkgPT4ge1xuICAgICAgICBkZWJvdW5jZSgoKSA9PiBzZXRIb3ZlcmVkKGhvdmVyZWQpLCAxMDApKCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJsZSA9ICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2gocmVtb3ZlRGF0YVByZXZpZXcodGFibGUpKTtcbiAgICAgICAgZGlzcGF0Y2gocmVtb3ZlVGFibGVzKFt0YWJsZV0pKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVNvcnRDb2x1bW5zID0gKCkgPT4ge1xuICAgICAgICBzZXRTb3J0Q29sdW1ucyhwcmV2U3RhdGUgPT4gIXByZXZTdGF0ZSk7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJXZWxsID0gKCkgPT4ge1xuICAgICAgICBsZXQgcGFydGl0aW9ucztcbiAgICAgICAgbGV0IG1ldGFkYXRhO1xuICAgICAgICBpZiAodGFibGVEYXRhLnBhcnRpdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCBwYXJ0aXRpb25RdWVyeTtcbiAgICAgICAgICAgIGxldCBwYXJ0aXRpb25DbGlwQm9hcmQ7XG4gICAgICAgICAgICBpZiAodGFibGVEYXRhLnBhcnRpdGlvbnMucGFydGl0aW9uUXVlcnkpIHtcbiAgICAgICAgICAgICAgICAoeyBwYXJ0aXRpb25RdWVyeSB9ID0gdGFibGVEYXRhLnBhcnRpdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR0ID0gdCgnQ29weSBwYXJ0aXRpb24gcXVlcnkgdG8gY2xpcGJvYXJkJyk7XG4gICAgICAgICAgICAgICAgcGFydGl0aW9uQ2xpcEJvYXJkID0gKDxDb3B5VG9DbGlwYm9hcmQgdGV4dD17cGFydGl0aW9uUXVlcnl9IHNob3VsZFNob3dUZXh0PXtmYWxzZX0gdG9vbHRpcFRleHQ9e3R0fSBjb3B5Tm9kZT17PGkgY2xhc3NOYW1lPVwiZmEgZmEtY2xpcGJvYXJkXCIvPn0vPik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsYXRlc3QgPSBPYmplY3QuZW50cmllcyh0YWJsZURhdGEucGFydGl0aW9ucz8ubGF0ZXN0IHx8IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfWApXG4gICAgICAgICAgICAgICAgLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIHBhcnRpdGlvbnMgPSAoPGRpdj5cbiAgICAgICAgICA8c21hbGw+XG4gICAgICAgICAgICB7dCgnbGF0ZXN0IHBhcnRpdGlvbjonKX0ge2xhdGVzdH1cbiAgICAgICAgICA8L3NtYWxsPnsnICd9XG4gICAgICAgICAge3BhcnRpdGlvbkNsaXBCb2FyZH1cbiAgICAgICAgPC9kaXY+KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFibGVEYXRhLm1ldGFkYXRhKSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IE9iamVjdC5lbnRyaWVzKHRhYmxlRGF0YS5tZXRhZGF0YSkubWFwKChba2V5LCB2YWx1ZV0pID0+ICg8ZGl2PlxuICAgICAgICAgIDxzbWFsbD5cbiAgICAgICAgICAgIDxzdHJvbmc+e2tleX06PC9zdHJvbmc+IHt2YWx1ZX1cbiAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICA8L2Rpdj4pKTtcbiAgICAgICAgICAgIGlmICghbWV0YWRhdGE/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgbWV0YWRhdGEgY2FyZCB2aWV3XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJ0aXRpb25zKSB7XG4gICAgICAgICAgICAvLyBoaWRlIHBhcnRpdGlvbiBjYXJkIHZpZXdcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoPENhcmQgc2l6ZT1cInNtYWxsXCI+XG4gICAgICAgIHtwYXJ0aXRpb25zfVxuICAgICAgICB7bWV0YWRhdGF9XG4gICAgICA8L0NhcmQ+KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlckNvbnRyb2xzID0gKCkgPT4ge1xuICAgICAgICBsZXQga2V5TGluaztcbiAgICAgICAgY29uc3QgS0VZU19GT1JfVEFCTEVfVEVYVCA9IHQoJ0tleXMgZm9yIHRhYmxlJyk7XG4gICAgICAgIGlmICh0YWJsZURhdGE/LmluZGV4ZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAga2V5TGluayA9ICg8TW9kYWxUcmlnZ2VyIG1vZGFsVGl0bGU9e2Ake0tFWVNfRk9SX1RBQkxFX1RFWFR9ICR7bmFtZX1gfSBtb2RhbEJvZHk9e3RhYmxlRGF0YS5pbmRleGVzLm1hcCgoaXgsIGkpID0+ICg8cHJlIGtleT17aX0+e0pTT04uc3RyaW5naWZ5KGl4LCBudWxsLCAnICAnKX08L3ByZT4pKX0gdHJpZ2dlck5vZGU9ezxJY29uVG9vbHRpcCBjbGFzc05hbWU9XCJmYSBmYS1rZXkgcHVsbC1sZWZ0IG0tbC0yXCIgdG9vbHRpcD17dCgnVmlldyBrZXlzICYgaW5kZXhlcyAoJXMpJywgdGFibGVEYXRhLmluZGV4ZXMubGVuZ3RoKX0vPn0vPik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICg8QnV0dG9uR3JvdXAgY3NzPXtjc3MgYFxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgY29sdW1uLWdhcDogJHt0aGVtZS5ncmlkVW5pdCAqIDEuNX1weDtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXR9cHg7XG4gICAgICAgICAgJiBzcGFuIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgIHdpZHRoOiAke3RoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgICAgICAgICB9XG4gICAgICAgIGB9PlxuICAgICAgICB7a2V5TGlua31cbiAgICAgICAgPEljb25Ub29sdGlwIGNsYXNzTmFtZT17YGZhIGZhLXNvcnQtJHtzb3J0Q29sdW1ucyA/ICdudW1lcmljJyA6ICdhbHBoYSd9LWFzYyBgICtcbiAgICAgICAgICAgICAgICAncHVsbC1sZWZ0IHNvcnQtY29scyBtLWwtMiBwb2ludGVyJ30gb25DbGljaz17dG9nZ2xlU29ydENvbHVtbnN9IHRvb2x0aXA9e3NvcnRDb2x1bW5zXG4gICAgICAgICAgICAgICAgPyB0KCdPcmlnaW5hbCB0YWJsZSBjb2x1bW4gb3JkZXInKVxuICAgICAgICAgICAgICAgIDogdCgnU29ydCBjb2x1bW5zIGFscGhhYmV0aWNhbGx5Jyl9Lz5cbiAgICAgICAge3RhYmxlRGF0YS5zZWxlY3RTdGFyICYmICg8Q29weVRvQ2xpcGJvYXJkIGNvcHlOb2RlPXs8SWNvblRvb2x0aXAgYXJpYS1sYWJlbD1cIkNvcHlcIiB0b29sdGlwPXt0KCdDb3B5IFNFTEVDVCBzdGF0ZW1lbnQgdG8gdGhlIGNsaXBib2FyZCcpfT5cbiAgICAgICAgICAgICAgICA8aSBhcmlhLWhpZGRlbiBjbGFzc05hbWU9XCJmYSBmYS1jbGlwYm9hcmQgcHVsbC1sZWZ0IG0tbC0yXCIvPlxuICAgICAgICAgICAgICA8L0ljb25Ub29sdGlwPn0gdGV4dD17dGFibGVEYXRhLnNlbGVjdFN0YXJ9IHNob3VsZFNob3dUZXh0PXtmYWxzZX0vPil9XG4gICAgICAgIHt0YWJsZURhdGEudmlldyAmJiAoPFNob3dTUUwgc3FsPXt0YWJsZURhdGEudmlld30gdG9vbHRpcFRleHQ9e3QoJ1Nob3cgQ1JFQVRFIFZJRVcgc3RhdGVtZW50Jyl9IHRpdGxlPXt0KCdDUkVBVEUgVklFVyBzdGF0ZW1lbnQnKX0vPil9XG4gICAgICAgIDxJY29uVG9vbHRpcCBjbGFzc05hbWU9XCJmYSBmYS10aW1lcyB0YWJsZS1yZW1vdmUgcHVsbC1sZWZ0IG0tbC0yIHBvaW50ZXJcIiBvbkNsaWNrPXtyZW1vdmVUYWJsZX0gdG9vbHRpcD17dCgnUmVtb3ZlIHRhYmxlIHByZXZpZXcnKX0vPlxuICAgICAgPC9CdXR0b25Hcm91cD4pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVySGVhZGVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGFibGVOYW1lUmVmLmN1cnJlbnQ7XG4gICAgICAgIGxldCB0cmlnZ2VyID0gW107XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQub2Zmc2V0V2lkdGggPCBlbGVtZW50LnNjcm9sbFdpZHRoKSB7XG4gICAgICAgICAgICB0cmlnZ2VyID0gWydob3ZlciddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoPGRpdiBkYXRhLXRlc3Q9XCJ0YWJsZS1lbGVtZW50LWhlYWRlci1jb250YWluZXJcIiBjbGFzc05hbWU9XCJjbGVhcmZpeCBoZWFkZXItY29udGFpbmVyXCIgb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIb3Zlcih0cnVlKX0gb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRIb3ZlcihmYWxzZSl9PlxuICAgICAgICA8VG9vbHRpcCBpZD1cImNvcHktdG8tY2xpcGJvYXJkLXRvb2x0aXBcIiBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSB0aXRsZT17bmFtZX0gdHJpZ2dlcj17dHJpZ2dlcn0+XG4gICAgICAgICAgPFN0eWxlZFNwYW4gZGF0YS10ZXN0PVwiY29sbGFwc2VcIiByZWY9e3RhYmxlTmFtZVJlZn0gY2xhc3NOYW1lPVwidGFibGUtbmFtZVwiPlxuICAgICAgICAgICAgPHN0cm9uZz57bmFtZX08L3N0cm9uZz5cbiAgICAgICAgICA8L1N0eWxlZFNwYW4+XG4gICAgICAgIDwvVG9vbHRpcD5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgaGVhZGVyLXJpZ2h0LXNpZGVcIj5cbiAgICAgICAgICB7aXNNZXRhZGF0YUxvYWRpbmcgfHwgaXNFeHRyYU1ldGFkYXRhTG9hZGluZyA/ICg8TG9hZGluZyBwb3NpdGlvbj1cImlubGluZVwiLz4pIDogKDxGYWRlIGRhdGEtdGVzdD1cImZhZGVcIiBob3ZlcmVkPXtob3ZlcmVkfSBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PlxuICAgICAgICAgICAgICB7cmVuZGVyQ29udHJvbHMoKX1cbiAgICAgICAgICAgIDwvRmFkZT4pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2Pik7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCb2R5ID0gKCkgPT4ge1xuICAgICAgICBsZXQgY29scztcbiAgICAgICAgaWYgKHRhYmxlRGF0YS5jb2x1bW5zKSB7XG4gICAgICAgICAgICBjb2xzID0gdGFibGVEYXRhLmNvbHVtbnMuc2xpY2UoKTtcbiAgICAgICAgICAgIGlmIChzb3J0Q29sdW1ucykge1xuICAgICAgICAgICAgICAgIGNvbHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xBID0gYS5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbEIgPSBiLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbEEgPCBjb2xCID8gLTEgOiBjb2xBID4gY29sQiA/IDEgOiAwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gKDxkaXYgZGF0YS10ZXN0PVwidGFibGUtZWxlbWVudFwiIG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SG92ZXIodHJ1ZSl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoZmFsc2UpfSBjc3M9e3sgcGFkZGluZ1RvcDogNiB9fT5cbiAgICAgICAge3JlbmRlcldlbGwoKX1cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7Y29scz8ubWFwKGNvbCA9PiA8Q29sdW1uRWxlbWVudCBjb2x1bW49e2NvbH0ga2V5PXtjb2wubmFtZX0vPil9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+KTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuICg8U3R5bGVkQ29sbGFwc2VQYW5lbCB7Li4ucHJvcHN9IGtleT17dGFibGUuaWR9IGhlYWRlcj17cmVuZGVySGVhZGVyKCl9IGNsYXNzTmFtZT1cIlRhYmxlRWxlbWVudFwiIGZvcmNlUmVuZGVyPlxuICAgICAge3JlbmRlckJvZHkoKX1cbiAgICA8L1N0eWxlZENvbGxhcHNlUGFuZWw+KTtcbn07XG5leHBvcnQgZGVmYXVsdCBUYWJsZUVsZW1lbnQ7XG4iXX0= */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\nconst TableElement = ({ table, ...props }) => {\n  const { dbId, catalog, schema, name, expanded } = table;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const { currentData: tableMetadata, isSuccess: isMetadataSuccess, isLoading: isMetadataLoading, isError: hasMetadataError } = useTableMetadataQuery({\n    dbId,\n    catalog,\n    schema,\n    table: name\n  }, { skip: !expanded });\n  const { currentData: tableExtendedMetadata, isSuccess: isExtraMetadataSuccess, isLoading: isExtraMetadataLoading, isError: hasExtendedMetadataError } = useTableExtendedMetadataQuery({\n    dbId,\n    catalog,\n    schema,\n    table: name\n  }, { skip: !expanded });\n  useEffect(() => {\n    if (hasMetadataError || hasExtendedMetadataError) {\n      dispatch(addDangerToast(t('An error occurred while fetching table metadata')));\n    }\n  }, [hasMetadataError, hasExtendedMetadataError, dispatch]);\n  const tableData = {\n    ...tableMetadata,\n    ...tableExtendedMetadata\n  };\n  // TODO: migrate syncTable logic by SIP-93\n  const syncTableMetadata = useEffectEvent(() => {\n    const { initialized } = table;\n    if (!initialized) {\n      dispatch(syncTable(table, tableData));\n    }\n  });\n  useEffect(() => {\n    if (isMetadataSuccess && isExtraMetadataSuccess) {\n      syncTableMetadata();\n    }\n  }, [isMetadataSuccess, isExtraMetadataSuccess, syncTableMetadata]);\n  const [sortColumns, setSortColumns] = useState(false);\n  const [hovered, setHovered] = useState(false);\n  const tableNameRef = useRef(null);\n  const setHover = (hovered) => {\n    _debounce(() => setHovered(hovered), 100)();\n  };\n  const removeTable = () => {\n    dispatch(removeDataPreview(table));\n    dispatch(removeTables([table]));\n  };\n  const toggleSortColumns = () => {\n    setSortColumns((prevState) => !prevState);\n  };\n  const renderWell = () => {\n    let partitions;\n    let metadata;\n    if (tableData.partitions) {var _tableData$partitions;\n      let partitionQuery;\n      let partitionClipBoard;\n      if (tableData.partitions.partitionQuery) {\n        ({ partitionQuery } = tableData.partitions);\n        const tt = t('Copy partition query to clipboard');\n        partitionClipBoard = _jsx(CopyToClipboard, { text: partitionQuery, shouldShowText: false, tooltipText: tt, copyNode: _jsx(\"i\", { className: \"fa fa-clipboard\" }) });\n      }\n      const latest = Object.entries(((_tableData$partitions = tableData.partitions) == null ? void 0 : _tableData$partitions.latest) || []).\n      map(([key, value]) => `${key}=${value}`).\n      join('/');\n      partitions = _jsxs(\"div\", { children: [\n        _jsxs(\"small\", { children: [\n          t('latest partition:'), \" \", latest] }\n        ), ' ',\n        partitionClipBoard] }\n      );\n    }\n    if (tableData.metadata) {var _metadata;\n      metadata = Object.entries(tableData.metadata).map(([key, value]) => _jsx(\"div\", { children:\n        _jsxs(\"small\", { children: [\n          _jsxs(\"strong\", { children: [key, \":\"] }), \" \", value] }\n        ) }\n      ));\n      if (!((_metadata = metadata) != null && _metadata.length)) {\n        // hide metadata card view\n        return null;\n      }\n    }\n    if (!partitions) {\n      // hide partition card view\n      return null;\n    }\n    return _jsxs(Card, { size: \"small\", children: [\n      partitions,\n      metadata] }\n    );\n  };\n  const renderControls = () => {var _tableData$indexes;\n    let keyLink;\n    const KEYS_FOR_TABLE_TEXT = t('Keys for table');\n    if (tableData != null && (_tableData$indexes = tableData.indexes) != null && _tableData$indexes.length) {\n      keyLink = _jsx(ModalTrigger, { modalTitle: `${KEYS_FOR_TABLE_TEXT} ${name}`, modalBody: tableData.indexes.map((ix, i) => _jsx(\"pre\", { children: JSON.stringify(ix, null, '  ') }, i)), triggerNode: _jsx(IconTooltip, { className: \"fa fa-key pull-left m-l-2\", tooltip: t('View keys & indexes (%s)', tableData.indexes.length) }) });\n    }\n    return _jsxs(ButtonGroup, { css: css`\n          display: flex;\n          column-gap: ${theme.gridUnit * 1.5}px;\n          margin-right: ${theme.gridUnit}px;\n          & span {\n            display: flex;\n            justify-content: center;\n            width: ${theme.gridUnit * 4}px;\n          }\n        `, children: [\n      keyLink,\n      _jsx(IconTooltip, { className: `fa fa-sort-${sortColumns ? 'numeric' : 'alpha'}-asc ` +\n        'pull-left sort-cols m-l-2 pointer', onClick: toggleSortColumns, tooltip: sortColumns ?\n        t('Original table column order') :\n        t('Sort columns alphabetically') }),\n      tableData.selectStar && _jsx(CopyToClipboard, { copyNode: _jsx(IconTooltip, { \"aria-label\": \"Copy\", tooltip: t('Copy SELECT statement to the clipboard'), children:\n          _jsx(\"i\", { \"aria-hidden\": true, className: \"fa fa-clipboard pull-left m-l-2\" }) }\n        ), text: tableData.selectStar, shouldShowText: false }),\n      tableData.view && _jsx(ShowSQL, { sql: tableData.view, tooltipText: t('Show CREATE VIEW statement'), title: t('CREATE VIEW statement') }),\n      _jsx(IconTooltip, { className: \"fa fa-times table-remove pull-left m-l-2 pointer\", onClick: removeTable, tooltip: t('Remove table preview') })] }\n    );\n  };\n  const renderHeader = () => {\n    const element = tableNameRef.current;\n    let trigger = [];\n    if (element && element.offsetWidth < element.scrollWidth) {\n      trigger = ['hover'];\n    }\n    return _jsxs(\"div\", { \"data-test\": \"table-element-header-container\", className: \"clearfix header-container\", onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false), children: [\n      _jsx(Tooltip, { id: \"copy-to-clipboard-tooltip\", style: { cursor: 'pointer' }, title: name, trigger: trigger, children:\n        _jsx(StyledSpan, { \"data-test\": \"collapse\", ref: tableNameRef, className: \"table-name\", children:\n          _jsx(\"strong\", { children: name }) }\n        ) }\n      ),\n\n      _jsx(\"div\", { className: \"pull-right header-right-side\", children:\n        isMetadataLoading || isExtraMetadataLoading ? _jsx(Loading, { position: \"inline\" }) : _jsx(Fade, { \"data-test\": \"fade\", hovered: hovered, onClick: (e) => e.stopPropagation(), children:\n          renderControls() }\n        ) }\n      )] }\n    );\n  };\n  const renderBody = () => {var _cols;\n    let cols;\n    if (tableData.columns) {\n      cols = tableData.columns.slice();\n      if (sortColumns) {\n        cols.sort((a, b) => {\n          const colA = a.name.toUpperCase();\n          const colB = b.name.toUpperCase();\n          return colA < colB ? -1 : colA > colB ? 1 : 0;\n        });\n      }\n    }\n    const metadata = _jsxs(\"div\", { \"data-test\": \"table-element\", onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false), css: _ref, children: [\n      renderWell(),\n      _jsx(\"div\", { children: (_cols =\n        cols) == null ? void 0 : _cols.map((col) => _jsx(ColumnElement, { column: col }, col.name)) }\n      )] }\n    );\n    return metadata;\n  };\n  return _createElement(StyledCollapsePanel, { ...props, key: table.id, header: renderHeader(), className: \"TableElement\", forceRender: true },\n  renderBody()\n  );\n};__signature__(TableElement, \"useTheme{theme}\\nuseDispatch{dispatch}\\nuseTableMetadataQuery{{ currentData: tableMetadata, isSuccess: isMetadataSuccess, isLoading: isMetadataLoading, isError: hasMetadataError, }}\\nuseTableExtendedMetadataQuery{{ currentData: tableExtendedMetadata, isSuccess: isExtraMetadataSuccess, isLoading: isExtraMetadataLoading, isError: hasExtendedMetadataError, }}\\nuseEffect{}\\nuseEffectEvent{syncTableMetadata}\\nuseEffect{}\\nuseState{[sortColumns, setSortColumns](false)}\\nuseState{[hovered, setHovered](false)}\\nuseRef{tableNameRef}\", () => [useTheme, useDispatch, useTableMetadataQuery, useTableExtendedMetadataQuery, useEffectEvent]);const _default =\nTableElement;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledSpan, \"StyledSpan\", \"/app/superset-frontend/src/SqlLab/components/TableElement/index.tsx\");reactHotLoader.register(Fade, \"Fade\", \"/app/superset-frontend/src/SqlLab/components/TableElement/index.tsx\");reactHotLoader.register(StyledCollapsePanel, \"StyledCollapsePanel\", \"/app/superset-frontend/src/SqlLab/components/TableElement/index.tsx\");reactHotLoader.register(TableElement, \"TableElement\", \"/app/superset-frontend/src/SqlLab/components/TableElement/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/SqlLab/components/TableElement/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useState","useRef","useEffect","useDispatch","Collapse","Card","ButtonGroup","css","t","styled","useTheme","removeDataPreview","removeTables","addDangerToast","syncTable","useTableExtendedMetadataQuery","useTableMetadataQuery","Tooltip","CopyToClipboard","IconTooltip","ModalTrigger","Loading","useEffectEvent","ColumnElement","ShowSQL","jsx","_jsx","jsxs","_jsxs","createElement","_createElement","StyledSpan","span","theme","colors","primary","dark1","dark2","Fade","div","transitionTiming","props","hovered","StyledCollapsePanel","Panel","gridUnit","typography","sizes","l","_ref","process","env","NODE_ENV","name","styles","map","toString","_EMOTION_STRINGIFIED_CSS_ERROR__","TableElement","table","dbId","catalog","schema","expanded","dispatch","currentData","tableMetadata","isSuccess","isMetadataSuccess","isLoading","isMetadataLoading","isError","hasMetadataError","skip","tableExtendedMetadata","isExtraMetadataSuccess","isExtraMetadataLoading","hasExtendedMetadataError","tableData","syncTableMetadata","initialized","sortColumns","setSortColumns","setHovered","tableNameRef","setHover","_debounce","removeTable","toggleSortColumns","prevState","renderWell","partitions","metadata","_tableData$partitions","partitionQuery","partitionClipBoard","tt","text","shouldShowText","tooltipText","copyNode","className","latest","Object","entries","key","value","join","children","_metadata","length","size","renderControls","_tableData$indexes","keyLink","KEYS_FOR_TABLE_TEXT","indexes","modalTitle","modalBody","ix","i","JSON","stringify","triggerNode","tooltip","onClick","selectStar","view","sql","title","renderHeader","element","current","trigger","offsetWidth","scrollWidth","onMouseEnter","onMouseLeave","id","style","cursor","ref","position","e","stopPropagation","renderBody","_cols","cols","columns","slice","sort","a","b","colA","toUpperCase","colB","col","column","header","forceRender","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/SqlLab/components/TableElement/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useState, useRef, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport type { Table } from 'src/SqlLab/types';\nimport Collapse from 'src/components/Collapse';\nimport Card from 'src/components/Card';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { css, t, styled, useTheme } from '@superset-ui/core';\nimport { debounce } from 'lodash';\n\nimport {\n  removeDataPreview,\n  removeTables,\n  addDangerToast,\n  syncTable,\n} from 'src/SqlLab/actions/sqlLab';\nimport {\n  useTableExtendedMetadataQuery,\n  useTableMetadataQuery,\n} from 'src/hooks/apiResources';\nimport { Tooltip } from 'src/components/Tooltip';\nimport CopyToClipboard from 'src/components/CopyToClipboard';\nimport { IconTooltip } from 'src/components/IconTooltip';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport Loading from 'src/components/Loading';\nimport useEffectEvent from 'src/hooks/useEffectEvent';\nimport ColumnElement, { ColumnKeyTypeType } from '../ColumnElement';\nimport ShowSQL from '../ShowSQL';\n\nexport interface Column {\n  name: string;\n  keys?: { type: ColumnKeyTypeType }[];\n  type: string;\n}\n\nexport interface TableElementProps {\n  table: Table;\n}\n\nconst StyledSpan = styled.span`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &:hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n  cursor: pointer;\n`;\n\nconst Fade = styled.div`\n  transition: all ${({ theme }) => theme.transitionTiming}s;\n  opacity: ${(props: { hovered: boolean }) => (props.hovered ? 1 : 0)};\n`;\n\nconst StyledCollapsePanel = styled(Collapse.Panel)`\n  ${({ theme }) => css`\n    & {\n      .ws-el-controls {\n        margin-right: ${-theme.gridUnit}px;\n        display: flex;\n      }\n\n      .header-container {\n        display: flex;\n        flex: 1;\n        align-items: center;\n        width: 100%;\n\n        .table-name {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          font-size: ${theme.typography.sizes.l}px;\n          flex: 1;\n        }\n\n        .header-right-side {\n          margin-left: auto;\n          display: flex;\n          align-items: center;\n          margin-right: ${theme.gridUnit * 8}px;\n        }\n      }\n    }\n  `}\n`;\n\nconst TableElement = ({ table, ...props }: TableElementProps) => {\n  const { dbId, catalog, schema, name, expanded } = table;\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const {\n    currentData: tableMetadata,\n    isSuccess: isMetadataSuccess,\n    isLoading: isMetadataLoading,\n    isError: hasMetadataError,\n  } = useTableMetadataQuery(\n    {\n      dbId,\n      catalog,\n      schema,\n      table: name,\n    },\n    { skip: !expanded },\n  );\n  const {\n    currentData: tableExtendedMetadata,\n    isSuccess: isExtraMetadataSuccess,\n    isLoading: isExtraMetadataLoading,\n    isError: hasExtendedMetadataError,\n  } = useTableExtendedMetadataQuery(\n    {\n      dbId,\n      catalog,\n      schema,\n      table: name,\n    },\n    { skip: !expanded },\n  );\n\n  useEffect(() => {\n    if (hasMetadataError || hasExtendedMetadataError) {\n      dispatch(\n        addDangerToast(t('An error occurred while fetching table metadata')),\n      );\n    }\n  }, [hasMetadataError, hasExtendedMetadataError, dispatch]);\n\n  const tableData = {\n    ...tableMetadata,\n    ...tableExtendedMetadata,\n  };\n\n  // TODO: migrate syncTable logic by SIP-93\n  const syncTableMetadata = useEffectEvent(() => {\n    const { initialized } = table;\n    if (!initialized) {\n      dispatch(syncTable(table, tableData));\n    }\n  });\n\n  useEffect(() => {\n    if (isMetadataSuccess && isExtraMetadataSuccess) {\n      syncTableMetadata();\n    }\n  }, [isMetadataSuccess, isExtraMetadataSuccess, syncTableMetadata]);\n\n  const [sortColumns, setSortColumns] = useState(false);\n  const [hovered, setHovered] = useState(false);\n  const tableNameRef = useRef<HTMLInputElement>(null);\n\n  const setHover = (hovered: boolean) => {\n    debounce(() => setHovered(hovered), 100)();\n  };\n\n  const removeTable = () => {\n    dispatch(removeDataPreview(table));\n    dispatch(removeTables([table]));\n  };\n\n  const toggleSortColumns = () => {\n    setSortColumns(prevState => !prevState);\n  };\n\n  const renderWell = () => {\n    let partitions;\n    let metadata;\n    if (tableData.partitions) {\n      let partitionQuery;\n      let partitionClipBoard;\n      if (tableData.partitions.partitionQuery) {\n        ({ partitionQuery } = tableData.partitions);\n        const tt = t('Copy partition query to clipboard');\n        partitionClipBoard = (\n          <CopyToClipboard\n            text={partitionQuery}\n            shouldShowText={false}\n            tooltipText={tt}\n            copyNode={<i className=\"fa fa-clipboard\" />}\n          />\n        );\n      }\n      const latest = Object.entries(tableData.partitions?.latest || [])\n        .map(([key, value]) => `${key}=${value}`)\n        .join('/');\n\n      partitions = (\n        <div>\n          <small>\n            {t('latest partition:')} {latest}\n          </small>{' '}\n          {partitionClipBoard}\n        </div>\n      );\n    }\n\n    if (tableData.metadata) {\n      metadata = Object.entries(tableData.metadata).map(([key, value]) => (\n        <div>\n          <small>\n            <strong>{key}:</strong> {value}\n          </small>\n        </div>\n      ));\n      if (!metadata?.length) {\n        // hide metadata card view\n        return null;\n      }\n    }\n\n    if (!partitions) {\n      // hide partition card view\n      return null;\n    }\n\n    return (\n      <Card size=\"small\">\n        {partitions}\n        {metadata}\n      </Card>\n    );\n  };\n\n  const renderControls = () => {\n    let keyLink;\n    const KEYS_FOR_TABLE_TEXT = t('Keys for table');\n    if (tableData?.indexes?.length) {\n      keyLink = (\n        <ModalTrigger\n          modalTitle={`${KEYS_FOR_TABLE_TEXT} ${name}`}\n          modalBody={tableData.indexes.map((ix, i) => (\n            <pre key={i}>{JSON.stringify(ix, null, '  ')}</pre>\n          ))}\n          triggerNode={\n            <IconTooltip\n              className=\"fa fa-key pull-left m-l-2\"\n              tooltip={t('View keys & indexes (%s)', tableData.indexes.length)}\n            />\n          }\n        />\n      );\n    }\n    return (\n      <ButtonGroup\n        css={css`\n          display: flex;\n          column-gap: ${theme.gridUnit * 1.5}px;\n          margin-right: ${theme.gridUnit}px;\n          & span {\n            display: flex;\n            justify-content: center;\n            width: ${theme.gridUnit * 4}px;\n          }\n        `}\n      >\n        {keyLink}\n        <IconTooltip\n          className={\n            `fa fa-sort-${sortColumns ? 'numeric' : 'alpha'}-asc ` +\n            'pull-left sort-cols m-l-2 pointer'\n          }\n          onClick={toggleSortColumns}\n          tooltip={\n            sortColumns\n              ? t('Original table column order')\n              : t('Sort columns alphabetically')\n          }\n        />\n        {tableData.selectStar && (\n          <CopyToClipboard\n            copyNode={\n              <IconTooltip\n                aria-label=\"Copy\"\n                tooltip={t('Copy SELECT statement to the clipboard')}\n              >\n                <i aria-hidden className=\"fa fa-clipboard pull-left m-l-2\" />\n              </IconTooltip>\n            }\n            text={tableData.selectStar}\n            shouldShowText={false}\n          />\n        )}\n        {tableData.view && (\n          <ShowSQL\n            sql={tableData.view}\n            tooltipText={t('Show CREATE VIEW statement')}\n            title={t('CREATE VIEW statement')}\n          />\n        )}\n        <IconTooltip\n          className=\"fa fa-times table-remove pull-left m-l-2 pointer\"\n          onClick={removeTable}\n          tooltip={t('Remove table preview')}\n        />\n      </ButtonGroup>\n    );\n  };\n\n  const renderHeader = () => {\n    const element: HTMLInputElement | null = tableNameRef.current;\n    let trigger: string[] = [];\n    if (element && element.offsetWidth < element.scrollWidth) {\n      trigger = ['hover'];\n    }\n\n    return (\n      <div\n        data-test=\"table-element-header-container\"\n        className=\"clearfix header-container\"\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n      >\n        <Tooltip\n          id=\"copy-to-clipboard-tooltip\"\n          style={{ cursor: 'pointer' }}\n          title={name}\n          trigger={trigger}\n        >\n          <StyledSpan\n            data-test=\"collapse\"\n            ref={tableNameRef}\n            className=\"table-name\"\n          >\n            <strong>{name}</strong>\n          </StyledSpan>\n        </Tooltip>\n\n        <div className=\"pull-right header-right-side\">\n          {isMetadataLoading || isExtraMetadataLoading ? (\n            <Loading position=\"inline\" />\n          ) : (\n            <Fade\n              data-test=\"fade\"\n              hovered={hovered}\n              onClick={e => e.stopPropagation()}\n            >\n              {renderControls()}\n            </Fade>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderBody = () => {\n    let cols;\n    if (tableData.columns) {\n      cols = tableData.columns.slice();\n      if (sortColumns) {\n        cols.sort((a: Column, b: Column) => {\n          const colA = a.name.toUpperCase();\n          const colB = b.name.toUpperCase();\n          return colA < colB ? -1 : colA > colB ? 1 : 0;\n        });\n      }\n    }\n\n    const metadata = (\n      <div\n        data-test=\"table-element\"\n        onMouseEnter={() => setHover(true)}\n        onMouseLeave={() => setHover(false)}\n        css={{ paddingTop: 6 }}\n      >\n        {renderWell()}\n        <div>\n          {cols?.map(col => <ColumnElement column={col} key={col.name} />)}\n        </div>\n      </div>\n    );\n    return metadata;\n  };\n\n  return (\n    <StyledCollapsePanel\n      {...props}\n      key={table.id}\n      header={renderHeader()}\n      className=\"TableElement\"\n      forceRender\n    >\n      {renderBody()}\n    </StyledCollapsePanel>\n  );\n};\n\nexport default TableElement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}