{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable no-param-reassign */\nimport { css, styled, t, useTheme } from '@superset-ui/core';\nimport { memo, useMemo } from 'react';\nimport Icons from 'src/components/Icons';\nimport Button from 'src/components/Button';\nimport { useSelector } from 'react-redux';\nimport FilterConfigurationLink from 'src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink';\nimport { useFilters } from 'src/dashboard/components/nativeFilters/FilterBar/state';\nimport { getFilterBarTestId } from '../utils';\nimport FilterBarSettings from '../FilterBarSettings';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst TitleArea = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 0;\n    padding: 0 ${theme.gridUnit * 2}px ${theme.gridUnit * 2}px;\n\n    & > span {\n      font-size: ${theme.typography.sizes.l}px;\n      flex-grow: 1;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    & > div:first-of-type {\n      line-height: 0;\n    }\n\n    & > button > span.anticon {\n      line-height: 0;\n    }\n  `}\n`;\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\nconst Wrapper = styled.div`\n  ${({ theme }) => `\n    padding: ${theme.gridUnit * 3}px ${theme.gridUnit * 2}px ${theme.gridUnit}px;\n\n    .ant-dropdown-trigger span {\n      padding-right: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\nconst AddFiltersButtonContainer = styled.div`\n  ${({ theme }) => css`\n    margin-top: ${theme.gridUnit * 2}px;\n\n    & button > [role='img']:first-of-type {\n      margin-right: ${theme.gridUnit}px;\n      line-height: 0;\n    }\n\n    span[role='img'] {\n      padding-bottom: 1px;\n    }\n\n    .ant-btn > .anticon + span {\n      margin-left: 0;\n    }\n  `}\n`;\nconst Header = ({ toggleFiltersBar }) => {\n  const theme = useTheme();\n  const filters = useFilters();\n  const filterValues = useMemo(() => Object.values(filters), [filters]);\n  const canEdit = useSelector(({ dashboardInfo }) => dashboardInfo.dash_edit_perm);\n  const dashboardId = useSelector(({ dashboardInfo }) => dashboardInfo.id);\n  return _jsxs(Wrapper, { children: [\n    _jsxs(TitleArea, { children: [\n      _jsx(\"span\", { children: t('Filters') }),\n      _jsx(FilterBarSettings, {}),\n      _jsx(HeaderButton, { ...getFilterBarTestId('collapse-button'), buttonStyle: \"link\", buttonSize: \"xsmall\", onClick: () => toggleFiltersBar(false), children:\n        _jsx(Icons.Expand, { iconColor: theme.colors.grayscale.base }) }\n      )] }\n    ),\n    canEdit && _jsx(AddFiltersButtonContainer, { children:\n      _jsxs(FilterConfigurationLink, { dashboardId: dashboardId, createNewOnOpen: filterValues.length === 0, children: [\n        _jsx(Icons.PlusSmall, {}), \" \", t('Add/Edit Filters')] }\n      ) }\n    )] }\n  );\n};__signature__(Header, \"useTheme{theme}\\nuseFilters{filters}\\nuseMemo{filterValues}\\nuseSelector{canEdit}\\nuseSelector{dashboardId}\", () => [useTheme, useFilters, useSelector, useSelector]);const _default = /*#__PURE__*/\nmemo(Header);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(TitleArea, \"TitleArea\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx\");reactHotLoader.register(HeaderButton, \"HeaderButton\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx\");reactHotLoader.register(Wrapper, \"Wrapper\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx\");reactHotLoader.register(AddFiltersButtonContainer, \"AddFiltersButtonContainer\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx\");reactHotLoader.register(Header, \"Header\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["css","styled","t","useTheme","memo","useMemo","Icons","Button","useSelector","FilterConfigurationLink","useFilters","getFilterBarTestId","FilterBarSettings","jsx","_jsx","jsxs","_jsxs","TitleArea","div","theme","gridUnit","typography","sizes","l","weights","bold","HeaderButton","Wrapper","AddFiltersButtonContainer","Header","toggleFiltersBar","filters","filterValues","Object","values","canEdit","dashboardInfo","dash_edit_perm","dashboardId","id","children","buttonStyle","buttonSize","onClick","Expand","iconColor","colors","grayscale","base","createNewOnOpen","length","PlusSmall","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable no-param-reassign */\nimport { css, styled, t, useTheme } from '@superset-ui/core';\nimport { memo, FC, useMemo } from 'react';\nimport Icons from 'src/components/Icons';\nimport Button from 'src/components/Button';\nimport { useSelector } from 'react-redux';\nimport FilterConfigurationLink from 'src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink';\nimport { useFilters } from 'src/dashboard/components/nativeFilters/FilterBar/state';\nimport { RootState } from 'src/dashboard/types';\nimport { getFilterBarTestId } from '../utils';\nimport FilterBarSettings from '../FilterBarSettings';\n\nconst TitleArea = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 0;\n    padding: 0 ${theme.gridUnit * 2}px ${theme.gridUnit * 2}px;\n\n    & > span {\n      font-size: ${theme.typography.sizes.l}px;\n      flex-grow: 1;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    & > div:first-of-type {\n      line-height: 0;\n    }\n\n    & > button > span.anticon {\n      line-height: 0;\n    }\n  `}\n`;\n\nconst HeaderButton = styled(Button)`\n  padding: 0;\n`;\n\nconst Wrapper = styled.div`\n  ${({ theme }) => `\n    padding: ${theme.gridUnit * 3}px ${theme.gridUnit * 2}px ${\n      theme.gridUnit\n    }px;\n\n    .ant-dropdown-trigger span {\n      padding-right: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\n\ntype HeaderProps = {\n  toggleFiltersBar: (arg0: boolean) => void;\n};\n\nconst AddFiltersButtonContainer = styled.div`\n  ${({ theme }) => css`\n    margin-top: ${theme.gridUnit * 2}px;\n\n    & button > [role='img']:first-of-type {\n      margin-right: ${theme.gridUnit}px;\n      line-height: 0;\n    }\n\n    span[role='img'] {\n      padding-bottom: 1px;\n    }\n\n    .ant-btn > .anticon + span {\n      margin-left: 0;\n    }\n  `}\n`;\n\nconst Header: FC<HeaderProps> = ({ toggleFiltersBar }) => {\n  const theme = useTheme();\n  const filters = useFilters();\n  const filterValues = useMemo(() => Object.values(filters), [filters]);\n  const canEdit = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.dash_edit_perm,\n  );\n  const dashboardId = useSelector<RootState, number>(\n    ({ dashboardInfo }) => dashboardInfo.id,\n  );\n\n  return (\n    <Wrapper>\n      <TitleArea>\n        <span>{t('Filters')}</span>\n        <FilterBarSettings />\n        <HeaderButton\n          {...getFilterBarTestId('collapse-button')}\n          buttonStyle=\"link\"\n          buttonSize=\"xsmall\"\n          onClick={() => toggleFiltersBar(false)}\n        >\n          <Icons.Expand iconColor={theme.colors.grayscale.base} />\n        </HeaderButton>\n      </TitleArea>\n      {canEdit && (\n        <AddFiltersButtonContainer>\n          <FilterConfigurationLink\n            dashboardId={dashboardId}\n            createNewOnOpen={filterValues.length === 0}\n          >\n            <Icons.PlusSmall /> {t('Add/Edit Filters')}\n          </FilterConfigurationLink>\n        </AddFiltersButtonContainer>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default memo(Header);\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA;AACA,SAASA,GAAG,EAAEC,MAAM,EAAEC,CAAC,EAAEC,QAAQ,QAAQ,mBAAmB;AAC5D,SAASC,IAAI,EAAMC,OAAO,QAAQ,OAAO;AACzC,OAAOC,KAAK,MAAM,sBAAsB;AACxC,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,uBAAuB,MAAM,0EAA0E;AAC9G,SAASC,UAAU,QAAQ,wDAAwD;AAEnF,SAASC,kBAAkB,QAAQ,UAAU;AAC7C,OAAOC,iBAAiB,MAAM,sBAAsB,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAErD,MAAMC,SAAS,GAAGhB,MAAM,CAACiB,GAAG;IACxB,CAAC,EAAEC,KAAK,EAAE,KAAKnB,GAAG;;;;;;iBAMLmB,KAAK,CAACC,QAAQ,GAAG,CAAC,MAAMD,KAAK,CAACC,QAAQ,GAAG,CAAC;;;mBAGxCD,KAAK,CAACE,UAAU,CAACC,KAAK,CAACC,CAAC;;qBAEtBJ,KAAK,CAACE,UAAU,CAACG,OAAO,CAACC,IAAI;;;;;;;;;;GAU/C;CACF;AAED,MAAMC,YAAY,GAAGzB,MAAM,CAACM,MAAM,CAAC;;CAElC;AAED,MAAMoB,OAAO,GAAG1B,MAAM,CAACiB,GAAG;IACtB,CAAC,EAAEC,KAAK,EAAE,KAAK;eACJA,KAAK,CAACC,QAAQ,GAAG,CAAC,MAAMD,KAAK,CAACC,QAAQ,GAAG,CAAC,MACnDD,KAAK,CAACC,QACR;;;uBAGmBD,KAAK,CAACC,QAAQ,GAAG,CAAC;;GAEtC;CACF;AAMD,MAAMQ,yBAAyB,GAAG3B,MAAM,CAACiB,GAAG;IACxC,CAAC,EAAEC,KAAK,EAAE,KAAKnB,GAAG;kBACJmB,KAAK,CAACC,QAAQ,GAAG,CAAC;;;sBAGdD,KAAK,CAACC,QAAQ;;;;;;;;;;;GAWjC;CACF;AAED,MAAMS,MAAM,GAAoBA,CAAC,EAAEC,gBAAgB,EAAE,KAAI;EACvD,MAAMX,KAAK,GAAGhB,QAAQ,EAAE;EACxB,MAAM4B,OAAO,GAAGrB,UAAU,EAAE;EAC5B,MAAMsB,YAAY,GAAG3B,OAAO,CAAC,MAAM4B,MAAM,CAACC,MAAM,CAACH,OAAO,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EACrE,MAAMI,OAAO,GAAG3B,WAAW,CACzB,CAAC,EAAE4B,aAAa,EAAE,KAAKA,aAAa,CAACC,cAAc,CACpD;EACD,MAAMC,WAAW,GAAG9B,WAAW,CAC7B,CAAC,EAAE4B,aAAa,EAAE,KAAKA,aAAa,CAACG,EAAE,CACxC;EAED,OACEvB,KAAA,CAACW,OAAO,IAAAa,QAAA;IACNxB,KAAA,CAACC,SAAS,IAAAuB,QAAA;MACR1B,IAAA,WAAA0B,QAAA,EAAOtC,CAAC,CAAC,SAAS,CAAC,EAAO,CAC1B;MAAAY,IAAA,CAACF,iBAAiB,KAClB;MAAAE,IAAA,CAACY,YAAY,OACPf,kBAAkB,CAAC,iBAAiB,CAAC,EACzC8B,WAAW,EAAC,MAAM,EAClBC,UAAU,EAAC,QAAQ,EACnBC,OAAO,EAAEA,CAAA,KAAMb,gBAAgB,CAAC,KAAK,CAAE,EAAAU,QAAA;QAEvC1B,IAAA,CAACR,KAAK,CAACsC,MAAM,IAACC,SAAS,EAAE1B,KAAK,CAAC2B,MAAM,CAACC,SAAS,CAACC,IAAK,GACvD;MAAc,CAChB;IAAW,CACX;IAACb,OAAO,IACNrB,IAAA,CAACc,yBAAyB,IAAAY,QAAA;MACxBxB,KAAA,CAACP,uBAAuB,IACtB6B,WAAW,EAAEA,WAAY,EACzBW,eAAe,EAAEjB,YAAY,CAACkB,MAAM,KAAK,CAAE,EAAAV,QAAA;QAE3C1B,IAAA,CAACR,KAAK,CAAC6C,SAAS,KAAI,OAACjD,CAAC,CAAC,kBAAkB,CAAC;MACnB,CAC3B;IAA2B,CAC5B;EACM,CAAC;AAEd,CAAC,CAACkD,aAAA,CArCIvB,MAAM,wHACI1B,QAAQ,EACNO,UAAU,EAEVF,WAAW,EAGPA,WAAW,SAAA6C,QAAA;AAgClBjD,IAAI,CAACyB,MAAM,CAAC,CAA3B,eAAAwB,QAAA,CAA4B,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAvGtBzC,SAAS,2GAAAqC,cAAA,CAAAI,QAAA,CAyBThC,YAAY,8GAAA4B,cAAA,CAAAI,QAAA,CAIZ/B,OAAO,yGAAA2B,cAAA,CAAAI,QAAA,CAgBP9B,yBAAyB,2HAAA0B,cAAA,CAAAI,QAAA,CAmBzB7B,MAAM,wGAAAyB,cAAA,CAAAI,QAAA,CAAAL,QAAA,iIAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}