{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { css, styled, isDefined, t } from '@superset-ui/core';\nimport { SingleQueryResultPane } from 'src/explore/components/DataTablesPane/components/SingleQueryResultPane';\nimport Tabs from 'src/components/Tabs';import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nconst DATA_SIZE = 15;\nconst PaginationContainer = styled.div`\n  ${({ theme }) => css`\n    & .pagination-container {\n      bottom: ${-theme.gridUnit * 4}px;\n    }\n  `}\n`;\nexport const useResultsTableView = (chartDataResult, datasourceId, canDownload) => {\n  if (!isDefined(chartDataResult)) {\n    return _jsx(\"div\", {});\n  }\n  if (chartDataResult.length === 1) {\n    return _jsx(PaginationContainer, { \"data-test\": \"drill-by-results-table\", children:\n      _jsx(SingleQueryResultPane, { colnames: chartDataResult[0].colnames, coltypes: chartDataResult[0].coltypes, rowcount: chartDataResult[0].sql_rowcount, data: chartDataResult[0].data, dataSize: DATA_SIZE, datasourceId: datasourceId, isVisible: true, canDownload: canDownload }) }\n    );\n  }\n  return _jsx(Tabs, { fullWidth: false, \"data-test\": \"drill-by-results-tabs\", children:\n    chartDataResult.map((res, index) => _jsx(Tabs.TabPane, { tab: t('Results %s', index + 1), children:\n      _jsx(PaginationContainer, { children:\n        _jsx(SingleQueryResultPane, { colnames: res.colnames, coltypes: res.coltypes, data: res.data, rowcount: res.sql_rowcount, dataSize: DATA_SIZE, datasourceId: datasourceId, isVisible: true, canDownload: canDownload }) }\n      ) }, index\n    )) }\n  );\n};;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DATA_SIZE, \"DATA_SIZE\", \"/app/superset-frontend/src/components/Chart/DrillBy/useResultsTableView.tsx\");reactHotLoader.register(PaginationContainer, \"PaginationContainer\", \"/app/superset-frontend/src/components/Chart/DrillBy/useResultsTableView.tsx\");reactHotLoader.register(useResultsTableView, \"useResultsTableView\", \"/app/superset-frontend/src/components/Chart/DrillBy/useResultsTableView.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["css","styled","isDefined","t","SingleQueryResultPane","Tabs","jsx","_jsx","DATA_SIZE","PaginationContainer","div","theme","gridUnit","useResultsTableView","chartDataResult","datasourceId","canDownload","length","children","colnames","coltypes","rowcount","sql_rowcount","data","dataSize","isVisible","fullWidth","map","res","index","TabPane","tab","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/components/Chart/DrillBy/useResultsTableView.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { css, styled, isDefined, QueryData, t } from '@superset-ui/core';\nimport { SingleQueryResultPane } from 'src/explore/components/DataTablesPane/components/SingleQueryResultPane';\nimport Tabs from 'src/components/Tabs';\n\nconst DATA_SIZE = 15;\n\nconst PaginationContainer = styled.div`\n  ${({ theme }) => css`\n    & .pagination-container {\n      bottom: ${-theme.gridUnit * 4}px;\n    }\n  `}\n`;\n\nexport const useResultsTableView = (\n  chartDataResult: QueryData[] | undefined,\n  datasourceId: string,\n  canDownload: boolean,\n) => {\n  if (!isDefined(chartDataResult)) {\n    return <div />;\n  }\n  if (chartDataResult.length === 1) {\n    return (\n      <PaginationContainer data-test=\"drill-by-results-table\">\n        <SingleQueryResultPane\n          colnames={chartDataResult[0].colnames}\n          coltypes={chartDataResult[0].coltypes}\n          rowcount={chartDataResult[0].sql_rowcount}\n          data={chartDataResult[0].data}\n          dataSize={DATA_SIZE}\n          datasourceId={datasourceId}\n          isVisible\n          canDownload={canDownload}\n        />\n      </PaginationContainer>\n    );\n  }\n  return (\n    <Tabs fullWidth={false} data-test=\"drill-by-results-tabs\">\n      {chartDataResult.map((res, index) => (\n        <Tabs.TabPane tab={t('Results %s', index + 1)} key={index}>\n          <PaginationContainer>\n            <SingleQueryResultPane\n              colnames={res.colnames}\n              coltypes={res.coltypes}\n              data={res.data}\n              rowcount={res.sql_rowcount}\n              dataSize={DATA_SIZE}\n              datasourceId={datasourceId}\n              isVisible\n              canDownload={canDownload}\n            />\n          </PaginationContainer>\n        </Tabs.TabPane>\n      ))}\n    </Tabs>\n  );\n};\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,GAAG,EAAEC,MAAM,EAAEC,SAAS,EAAaC,CAAC,QAAQ,mBAAmB;AACxE,SAASC,qBAAqB,QAAQ,wEAAwE;AAC9G,OAAOC,IAAI,MAAM,qBAAqB,CAAC,SAAAC,GAAA,IAAAC,IAAA;AAEvC,MAAMC,SAAS,GAAG,EAAE;AAEpB,MAAMC,mBAAmB,GAAGR,MAAM,CAACS,GAAG;IAClC,CAAC,EAAEC,KAAK,EAAE,KAAKX,GAAG;;gBAEN,CAACW,KAAK,CAACC,QAAQ,GAAG,CAAC;;GAEhC;CACF;AAED,OAAO,MAAMC,mBAAmB,GAAGA,CACjCC,eAAwC,EACxCC,YAAoB,EACpBC,WAAoB,KAClB;EACF,IAAI,CAACd,SAAS,CAACY,eAAe,CAAC,EAAE;IAC/B,OAAOP,IAAA,UAAI,CAAG;;EAEhB,IAAIO,eAAe,CAACG,MAAM,KAAK,CAAC,EAAE;IAChC,OACEV,IAAA,CAACE,mBAAmB,IAAC,aAAU,wBAAwB,EAAAS,QAAA;MACrDX,IAAA,CAACH,qBAAqB,IACpBe,QAAQ,EAAEL,eAAe,CAAC,CAAC,CAAC,CAACK,QAAS,EACtCC,QAAQ,EAAEN,eAAe,CAAC,CAAC,CAAC,CAACM,QAAS,EACtCC,QAAQ,EAAEP,eAAe,CAAC,CAAC,CAAC,CAACQ,YAAa,EAC1CC,IAAI,EAAET,eAAe,CAAC,CAAC,CAAC,CAACS,IAAK,EAC9BC,QAAQ,EAAEhB,SAAU,EACpBO,YAAY,EAAEA,YAAa,EAC3BU,SAAS,QACTT,WAAW,EAAEA,WAAY,GAE7B;IAAqB,CAAC;;EAG1B,OACET,IAAA,CAACF,IAAI,IAACqB,SAAS,EAAE,KAAM,EAAC,aAAU,uBAAuB,EAAAR,QAAA;IACtDJ,eAAe,CAACa,GAAG,CAAC,CAACC,GAAG,EAAEC,KAAK,KAC9BtB,IAAA,CAACF,IAAI,CAACyB,OAAO,IAACC,GAAG,EAAE5B,CAAC,CAAC,YAAY,EAAE0B,KAAK,GAAG,CAAC,CAAE,EAAAX,QAAA;MAC5CX,IAAA,CAACE,mBAAmB,IAAAS,QAAA;QAClBX,IAAA,CAACH,qBAAqB,IACpBe,QAAQ,EAAES,GAAG,CAACT,QAAS,EACvBC,QAAQ,EAAEQ,GAAG,CAACR,QAAS,EACvBG,IAAI,EAAEK,GAAG,CAACL,IAAK,EACfF,QAAQ,EAAEO,GAAG,CAACN,YAAa,EAC3BE,QAAQ,EAAEhB,SAAU,EACpBO,YAAY,EAAEA,YAAa,EAC3BU,SAAS,QACTT,WAAW,EAAEA,WAAY,GAE7B;MAAqB,CACvB,IAboDa;IAatC,CACf,CAAC;EACE,CAAC;AAEX,CAAC,CAAC,mBAAAG,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAtDI5B,SAAS,8FAAAwB,cAAA,CAAAI,QAAA,CAET3B,mBAAmB,wGAAAuB,cAAA,CAAAI,QAAA,CAQZvB,mBAAmB,gIAAAwB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}