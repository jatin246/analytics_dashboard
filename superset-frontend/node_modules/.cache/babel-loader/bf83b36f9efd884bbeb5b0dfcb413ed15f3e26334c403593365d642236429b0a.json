{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { forwardRef } from 'react';\nimport { css } from '@superset-ui/core';\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\nimport CachedLabel from 'src/components/CachedLabel';\nimport Timer from 'src/components/Timer';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst CHART_STATUS_MAP = {\n  failed: 'danger',\n  loading: 'warning',\n  success: 'success'\n};\nexport const ChartPills = /*#__PURE__*/forwardRef(({ queriesResponse, chartStatus, chartUpdateStartTime, chartUpdateEndTime, refreshCachedQuery, rowLimit }, ref) => {\n  const isLoading = chartStatus === 'loading';\n  const firstQueryResponse = queriesResponse == null ? void 0 : queriesResponse[0];\n  return _jsx(\"div\", { ref: ref, children:\n    _jsxs(\"div\", { css: (theme) => css`\n            display: flex;\n            justify-content: flex-end;\n            padding-bottom: ${theme.gridUnit * 4}px;\n            & .ant-tag:last-of-type {\n              margin: 0;\n            }\n          `, children: [\n      !isLoading && firstQueryResponse && _jsx(RowCountLabel, { rowcount: Number(firstQueryResponse.sql_rowcount) || 0, limit: Number(rowLimit) || 0 }),\n      !isLoading && (firstQueryResponse == null ? void 0 : firstQueryResponse.is_cached) && _jsx(CachedLabel, { onClick: refreshCachedQuery, cachedTimestamp: firstQueryResponse.cached_dttm }),\n      _jsx(Timer, { startTime: chartUpdateStartTime, endTime: chartUpdateEndTime, isRunning: isLoading, status: CHART_STATUS_MAP[chartStatus] })] }\n    ) }\n  );\n});;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CHART_STATUS_MAP, \"CHART_STATUS_MAP\", \"/app/superset-frontend/src/explore/components/ChartPills.tsx\");reactHotLoader.register(ChartPills, \"ChartPills\", \"/app/superset-frontend/src/explore/components/ChartPills.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["forwardRef","css","RowCountLabel","CachedLabel","Timer","jsx","_jsx","jsxs","_jsxs","CHART_STATUS_MAP","failed","loading","success","ChartPills","queriesResponse","chartStatus","chartUpdateStartTime","chartUpdateEndTime","refreshCachedQuery","rowLimit","ref","isLoading","firstQueryResponse","children","theme","gridUnit","rowcount","Number","sql_rowcount","limit","is_cached","onClick","cachedTimestamp","cached_dttm","startTime","endTime","isRunning","status","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/explore/components/ChartPills.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { forwardRef, RefObject } from 'react';\nimport { css, QueryData, SupersetTheme } from '@superset-ui/core';\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\nimport CachedLabel from 'src/components/CachedLabel';\nimport Timer from 'src/components/Timer';\nimport { Type } from 'src/components/Label';\n\nconst CHART_STATUS_MAP = {\n  failed: 'danger' as Type,\n  loading: 'warning' as Type,\n  success: 'success' as Type,\n};\n\nexport type ChartPillsProps = {\n  queriesResponse: QueryData[];\n  chartStatus: keyof typeof CHART_STATUS_MAP;\n  chartUpdateStartTime: number;\n  chartUpdateEndTime: number;\n  refreshCachedQuery: () => void;\n  rowLimit: string | number;\n};\n\nexport const ChartPills = forwardRef(\n  (\n    {\n      queriesResponse,\n      chartStatus,\n      chartUpdateStartTime,\n      chartUpdateEndTime,\n      refreshCachedQuery,\n      rowLimit,\n    }: ChartPillsProps,\n    ref: RefObject<HTMLDivElement>,\n  ) => {\n    const isLoading = chartStatus === 'loading';\n    const firstQueryResponse = queriesResponse?.[0];\n    return (\n      <div ref={ref}>\n        <div\n          css={(theme: SupersetTheme) => css`\n            display: flex;\n            justify-content: flex-end;\n            padding-bottom: ${theme.gridUnit * 4}px;\n            & .ant-tag:last-of-type {\n              margin: 0;\n            }\n          `}\n        >\n          {!isLoading && firstQueryResponse && (\n            <RowCountLabel\n              rowcount={Number(firstQueryResponse.sql_rowcount) || 0}\n              limit={Number(rowLimit) || 0}\n            />\n          )}\n          {!isLoading && firstQueryResponse?.is_cached && (\n            <CachedLabel\n              onClick={refreshCachedQuery}\n              cachedTimestamp={firstQueryResponse.cached_dttm}\n            />\n          )}\n          <Timer\n            startTime={chartUpdateStartTime}\n            endTime={chartUpdateEndTime}\n            isRunning={isLoading}\n            status={CHART_STATUS_MAP[chartStatus]}\n          />\n        </div>\n      </div>\n    );\n  },\n);\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,UAAU,QAAmB,OAAO;AAC7C,SAASC,GAAG,QAAkC,mBAAmB;AACjE,OAAOC,aAAa,MAAM,sCAAsC;AAChE,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,KAAK,MAAM,sBAAsB,CAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAGzC,MAAMC,gBAAgB,GAAG;EACvBC,MAAM,EAAE,QAAgB;EACxBC,OAAO,EAAE,SAAiB;EAC1BC,OAAO,EAAE;CACV;AAWD,OAAO,MAAMC,UAAU,gBAAGb,UAAU,CAClC,CACE,EACEc,eAAe,EACfC,WAAW,EACXC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,QAAQ,EACQ,EAClBC,GAA8B,KAC5B;EACF,MAAMC,SAAS,GAAGN,WAAW,KAAK,SAAS;EAC3C,MAAMO,kBAAkB,GAAGR,eAAe,oBAAfA,eAAe,CAAG,CAAC,CAAC;EAC/C,OACER,IAAA,UAAKc,GAAG,EAAEA,GAAI,EAAAG,QAAA;IACZf,KAAA,UACEP,GAAG,EAAEA,CAACuB,KAAoB,KAAKvB,GAAG;;;8BAGduB,KAAK,CAACC,QAAQ,GAAG,CAAC;;;;WAIpC,EAAAF,QAAA;MAED,CAACF,SAAS,IAAIC,kBAAkB,IAC/BhB,IAAA,CAACJ,aAAa,IACZwB,QAAQ,EAAEC,MAAM,CAACL,kBAAkB,CAACM,YAAY,CAAC,IAAI,CAAE,EACvDC,KAAK,EAAEF,MAAM,CAACR,QAAQ,CAAC,IAAI,CAAE,GAEhC;MACA,CAACE,SAAS,KAAIC,kBAAkB,oBAAlBA,kBAAkB,CAAEQ,SAAS,KAC1CxB,IAAA,CAACH,WAAW,IACV4B,OAAO,EAAEb,kBAAmB,EAC5Bc,eAAe,EAAEV,kBAAkB,CAACW,WAAY,GAEnD;MACD3B,IAAA,CAACF,KAAK,IACJ8B,SAAS,EAAElB,oBAAqB,EAChCmB,OAAO,EAAElB,kBAAmB,EAC5BmB,SAAS,EAAEf,SAAU,EACrBgB,MAAM,EAAE5B,gBAAgB,CAACM,WAAW,CAAE,GAE1C;IAAK,CACP;EAAK,CAAC;AAEV,CAAC,CACF,CAAC,mBAAAuB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA/DIjC,gBAAgB,sFAAA6B,cAAA,CAAAI,QAAA,CAeT7B,UAAU,wGAAA8B,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}