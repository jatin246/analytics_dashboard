{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Suspense, useEffect } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { BrowserRouter as Router, Switch, Route, useLocation } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { GlobalStyles } from 'src/GlobalStyles';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport Loading from 'src/components/Loading';\nimport Menu from 'src/features/home/Menu';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport ToastContainer from 'src/components/MessageToasts/ToastContainer';\nimport setupApp from 'src/setup/setupApp';\nimport setupPlugins from 'src/setup/setupPlugins';\nimport { routes, isFrontendRoute } from 'src/views/routes';\nimport { Logger, LOG_ACTIONS_SPA_NAVIGATION } from 'src/logger/LogUtils';\nimport setupExtensions from 'src/setup/setupExtensions';\nimport { logEvent } from 'src/logger/actions';\nimport { store } from 'src/views/store';\nimport { RootContextProviders } from './RootContextProviders';\nimport { ScrollToTop } from './ScrollToTop';import { Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nsetupApp();\nsetupPlugins();\nsetupExtensions();\nconst bootstrapData = getBootstrapData();\nlet lastLocationPathname;\nconst boundActions = bindActionCreators({ logEvent }, store.dispatch);\nconst LocationPathnameLogger = () => {\n  const location = useLocation();\n  useEffect(() => {\n    // This will log client side route changes for single page app user navigation\n    boundActions.logEvent(LOG_ACTIONS_SPA_NAVIGATION, {\n      path: location.pathname\n    });\n    // reset performance logger timer start point to avoid soft navigation\n    // cause dashboard perf measurement problem\n    if (lastLocationPathname && lastLocationPathname !== location.pathname) {\n      Logger.markTimeOrigin();\n    }\n    lastLocationPathname = location.pathname;\n  }, [location.pathname]);\n  return _jsx(_Fragment, {});\n};__signature__(LocationPathnameLogger, \"useLocation{location}\\nuseEffect{}\", () => [useLocation]);\nconst App = () => _jsxs(Router, { children: [\n  _jsx(ScrollToTop, {}),\n  _jsx(LocationPathnameLogger, {}),\n  _jsxs(RootContextProviders, { children: [\n    _jsx(GlobalStyles, {}),\n    _jsx(Menu, { data: bootstrapData.common.menu_data, isFrontendRoute: isFrontendRoute }),\n    _jsx(Switch, { children:\n      routes.map(({ path, Component, props = {}, Fallback = Loading }) => _jsx(Route, { path: path, children:\n        _jsx(Suspense, { fallback: _jsx(Fallback, {}), children:\n          _jsx(ErrorBoundary, { children:\n            _jsx(Component, { user: bootstrapData.user, ...props }) }\n          ) }\n        ) }, path\n      )) }\n    ),\n    _jsx(ToastContainer, {})] }\n  )] }\n);const _default =\nhot(App);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(bootstrapData, \"bootstrapData\", \"/app/superset-frontend/src/views/App.tsx\");reactHotLoader.register(lastLocationPathname, \"lastLocationPathname\", \"/app/superset-frontend/src/views/App.tsx\");reactHotLoader.register(boundActions, \"boundActions\", \"/app/superset-frontend/src/views/App.tsx\");reactHotLoader.register(LocationPathnameLogger, \"LocationPathnameLogger\", \"/app/superset-frontend/src/views/App.tsx\");reactHotLoader.register(App, \"App\", \"/app/superset-frontend/src/views/App.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/views/App.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["Suspense","useEffect","hot","BrowserRouter","Router","Switch","Route","useLocation","bindActionCreators","GlobalStyles","ErrorBoundary","Loading","Menu","getBootstrapData","ToastContainer","setupApp","setupPlugins","routes","isFrontendRoute","Logger","LOG_ACTIONS_SPA_NAVIGATION","setupExtensions","logEvent","store","RootContextProviders","ScrollToTop","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","bootstrapData","lastLocationPathname","boundActions","dispatch","LocationPathnameLogger","location","path","pathname","markTimeOrigin","__signature__","App","children","data","common","menu_data","map","Component","props","Fallback","fallback","user","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/views/App.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Suspense, useEffect } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useLocation,\n} from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { GlobalStyles } from 'src/GlobalStyles';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport Loading from 'src/components/Loading';\nimport Menu from 'src/features/home/Menu';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport ToastContainer from 'src/components/MessageToasts/ToastContainer';\nimport setupApp from 'src/setup/setupApp';\nimport setupPlugins from 'src/setup/setupPlugins';\nimport { routes, isFrontendRoute } from 'src/views/routes';\nimport { Logger, LOG_ACTIONS_SPA_NAVIGATION } from 'src/logger/LogUtils';\nimport setupExtensions from 'src/setup/setupExtensions';\nimport { logEvent } from 'src/logger/actions';\nimport { store } from 'src/views/store';\nimport { RootContextProviders } from './RootContextProviders';\nimport { ScrollToTop } from './ScrollToTop';\n\nsetupApp();\nsetupPlugins();\nsetupExtensions();\n\nconst bootstrapData = getBootstrapData();\n\nlet lastLocationPathname: string;\n\nconst boundActions = bindActionCreators({ logEvent }, store.dispatch);\n\nconst LocationPathnameLogger = () => {\n  const location = useLocation();\n  useEffect(() => {\n    // This will log client side route changes for single page app user navigation\n    boundActions.logEvent(LOG_ACTIONS_SPA_NAVIGATION, {\n      path: location.pathname,\n    });\n    // reset performance logger timer start point to avoid soft navigation\n    // cause dashboard perf measurement problem\n    if (lastLocationPathname && lastLocationPathname !== location.pathname) {\n      Logger.markTimeOrigin();\n    }\n    lastLocationPathname = location.pathname;\n  }, [location.pathname]);\n  return <></>;\n};\n\nconst App = () => (\n  <Router>\n    <ScrollToTop />\n    <LocationPathnameLogger />\n    <RootContextProviders>\n      <GlobalStyles />\n      <Menu\n        data={bootstrapData.common.menu_data}\n        isFrontendRoute={isFrontendRoute}\n      />\n      <Switch>\n        {routes.map(({ path, Component, props = {}, Fallback = Loading }) => (\n          <Route path={path} key={path}>\n            <Suspense fallback={<Fallback />}>\n              <ErrorBoundary>\n                <Component user={bootstrapData.user} {...props} />\n              </ErrorBoundary>\n            </Suspense>\n          </Route>\n        ))}\n      </Switch>\n      <ToastContainer />\n    </RootContextProviders>\n  </Router>\n);\n\nexport default hot(App);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}