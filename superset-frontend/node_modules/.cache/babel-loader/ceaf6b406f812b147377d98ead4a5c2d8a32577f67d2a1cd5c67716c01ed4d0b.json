{"ast":null,"code":"import { css as _css } from \"@emotion/react\";import _debounce from \"lodash/debounce\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { Children, cloneElement, useMemo } from 'react';\nimport { FAST_DEBOUNCE, useTheme } from '@superset-ui/core';import { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\n\nexport * from './ControlFormItem';\nexport function ControlFormRow({ children }) {\n  const { gridUnit } = useTheme();\n  return _jsx(\"div\", { css: /*#__PURE__*/_css({\n      display: 'flex',\n      flexWrap: 'nowrap',\n      marginBottom: gridUnit,\n      maxWidth: '100%'\n    }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ControlFormRow;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Db2x1bW5Db25maWdDb250cm9sL0NvbnRyb2xGb3JtL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3QmlCIiwiZmlsZSI6Ii9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Db2x1bW5Db25maWdDb250cm9sL0NvbnRyb2xGb3JtL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IENoaWxkcmVuLCBjbG9uZUVsZW1lbnQsIHVzZU1lbW8sIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRkFTVF9ERUJPVU5DRSwgdXNlVGhlbWUsIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnO1xuZXhwb3J0ICogZnJvbSAnLi9Db250cm9sRm9ybUl0ZW0nO1xuZXhwb3J0IGZ1bmN0aW9uIENvbnRyb2xGb3JtUm93KHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHsgZ3JpZFVuaXQgfSA9IHVzZVRoZW1lKCk7XG4gICAgcmV0dXJuICg8ZGl2IGNzcz17e1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgZmxleFdyYXA6ICdub3dyYXAnLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBncmlkVW5pdCxcbiAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2Pik7XG59XG4vKipcbiAqIExpZ2h0IHdlaWdodCBmb3JtIGZvciBjb250cm9sIHBhbmVsLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250cm9sRm9ybSh7IG9uQ2hhbmdlLCB2YWx1ZSwgY2hpbGRyZW4sIH0pIHtcbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgY29uc3QgZGVib3VuY2VkT25DaGFuZ2UgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIDA6IG9uQ2hhbmdlLFxuICAgICAgICBbRkFTVF9ERUJPVU5DRV06IGRlYm91bmNlKG9uQ2hhbmdlLCBGQVNUX0RFQk9VTkNFKSxcbiAgICB9KSwgW29uQ2hhbmdlXSk7XG4gICAgY29uc3QgdXBkYXRlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCByb3cgPT4ge1xuICAgICAgICBpZiAoJ2NoaWxkcmVuJyBpbiByb3cucHJvcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXaWR0aCA9IEFycmF5LmlzQXJyYXkocm93LnByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgID8gYCR7MTAwIC8gcm93LnByb3BzLmNoaWxkcmVuLmxlbmd0aH0lYFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChyb3csIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogQ2hpbGRyZW4ubWFwKHJvdy5wcm9wcy5jaGlsZHJlbiwgaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgd2lkdGgsIGRlYm91bmNlRGVsYXkgPSBGQVNUX0RFQk9VTkNFLCBvbkNoYW5nZTogb25JdGVtVmFsdWVDaGFuZ2UsIH0gPSBpdGVtLnByb3BzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCB8fCBkZWZhdWx0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWU/LltuYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBgZGVib3VuY2VEZWxheWAgZnJvbSByZW5kZXJlZCBjb250cm9sIGl0ZW0gcHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIFJlYWN0IERldlRvb2xzIGRvbid0IHRocm93IGEgYGludmFsaWQgcHJvcGAgd2FybmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlRGVsYXk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGZpZWxkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGBvbkNoYW5nZWAgb24gZWFjaCBGb3JtSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbkl0ZW1WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkl0ZW1WYWx1ZUNoYW5nZShmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRvIHRoZSBmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZGVib3VuY2VEZWxheSBpbiBkZWJvdW5jZWRPbkNoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VkT25DaGFuZ2VbZGVib3VuY2VEZWxheV0gPSBkZWJvdW5jZShvbkNoYW5nZSwgZGVib3VuY2VEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZE9uQ2hhbmdlW2RlYm91bmNlRGVsYXldKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuYW1lXTogZmllbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9KTtcbiAgICByZXR1cm4gKDxkaXYgY3NzPXt7XG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5jb2xvcnMudGV4dC5sYWJlbCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5zaXplcy5zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfX0+XG4gICAgICB7dXBkYXRlZENoaWxkcmVufVxuICAgIDwvZGl2Pik7XG59XG4iXX0= */\"), children:\n    children }\n  );\n}\n/**\n * Light weight form for control panel.\n */__signature__(ControlFormRow, \"useTheme{{ gridUnit }}\", () => [useTheme]);\nexport default function ControlForm({ onChange, value, children }) {\n  const theme = useTheme();\n  const debouncedOnChange = useMemo(() => ({\n    0: onChange,\n    [FAST_DEBOUNCE]: _debounce(onChange, FAST_DEBOUNCE)\n  }), [onChange]);\n  const updatedChildren = Children.map(children, (row) => {\n    if ('children' in row.props) {\n      const defaultWidth = Array.isArray(row.props.children) ?\n      `${100 / row.props.children.length}%` :\n      undefined;\n      return /*#__PURE__*/cloneElement(row, {\n        children: Children.map(row.props.children, (item) => {\n          const { name, width, debounceDelay = FAST_DEBOUNCE, onChange: onItemValueChange } = item.props;\n          return /*#__PURE__*/cloneElement(item, {\n            width: width || defaultWidth,\n            value: value == null ? void 0 : value[name],\n            // remove `debounceDelay` from rendered control item props\n            // so React DevTools don't throw a `invalid prop` warning.\n            debounceDelay: undefined,\n            onChange(fieldValue) {\n              // call `onChange` on each FormItem\n              if (onItemValueChange) {\n                onItemValueChange(fieldValue);\n              }\n              // propagate to the form\n              if (!(debounceDelay in debouncedOnChange)) {\n                debouncedOnChange[debounceDelay] = _debounce(onChange, debounceDelay);\n              }\n              debouncedOnChange[debounceDelay]({\n                ...value,\n                [name]: fieldValue\n              });\n            }\n          });\n        })\n      });\n    }\n    return row;\n  });\n  return _jsx(\"div\", { css: /*#__PURE__*/_css({\n      label: {\n        textTransform: 'uppercase',\n        color: theme.colors.text.label,\n        fontSize: theme.typography.sizes.s\n      }\n    }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ControlForm;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Db2x1bW5Db25maWdDb250cm9sL0NvbnRyb2xGb3JtL2luZGV4LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0RWlCIiwiZmlsZSI6Ii9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Db2x1bW5Db25maWdDb250cm9sL0NvbnRyb2xGb3JtL2luZGV4LnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IENoaWxkcmVuLCBjbG9uZUVsZW1lbnQsIHVzZU1lbW8sIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRkFTVF9ERUJPVU5DRSwgdXNlVGhlbWUsIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICdsb2Rhc2gnO1xuZXhwb3J0ICogZnJvbSAnLi9Db250cm9sRm9ybUl0ZW0nO1xuZXhwb3J0IGZ1bmN0aW9uIENvbnRyb2xGb3JtUm93KHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHsgZ3JpZFVuaXQgfSA9IHVzZVRoZW1lKCk7XG4gICAgcmV0dXJuICg8ZGl2IGNzcz17e1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgZmxleFdyYXA6ICdub3dyYXAnLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBncmlkVW5pdCxcbiAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2Pik7XG59XG4vKipcbiAqIExpZ2h0IHdlaWdodCBmb3JtIGZvciBjb250cm9sIHBhbmVsLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250cm9sRm9ybSh7IG9uQ2hhbmdlLCB2YWx1ZSwgY2hpbGRyZW4sIH0pIHtcbiAgICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gICAgY29uc3QgZGVib3VuY2VkT25DaGFuZ2UgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIDA6IG9uQ2hhbmdlLFxuICAgICAgICBbRkFTVF9ERUJPVU5DRV06IGRlYm91bmNlKG9uQ2hhbmdlLCBGQVNUX0RFQk9VTkNFKSxcbiAgICB9KSwgW29uQ2hhbmdlXSk7XG4gICAgY29uc3QgdXBkYXRlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCByb3cgPT4ge1xuICAgICAgICBpZiAoJ2NoaWxkcmVuJyBpbiByb3cucHJvcHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRXaWR0aCA9IEFycmF5LmlzQXJyYXkocm93LnByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgID8gYCR7MTAwIC8gcm93LnByb3BzLmNoaWxkcmVuLmxlbmd0aH0lYFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChyb3csIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogQ2hpbGRyZW4ubWFwKHJvdy5wcm9wcy5jaGlsZHJlbiwgaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgd2lkdGgsIGRlYm91bmNlRGVsYXkgPSBGQVNUX0RFQk9VTkNFLCBvbkNoYW5nZTogb25JdGVtVmFsdWVDaGFuZ2UsIH0gPSBpdGVtLnByb3BzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCB8fCBkZWZhdWx0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWU/LltuYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBgZGVib3VuY2VEZWxheWAgZnJvbSByZW5kZXJlZCBjb250cm9sIGl0ZW0gcHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIFJlYWN0IERldlRvb2xzIGRvbid0IHRocm93IGEgYGludmFsaWQgcHJvcGAgd2FybmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlRGVsYXk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGZpZWxkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGBvbkNoYW5nZWAgb24gZWFjaCBGb3JtSXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbkl0ZW1WYWx1ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkl0ZW1WYWx1ZUNoYW5nZShmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRvIHRoZSBmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZGVib3VuY2VEZWxheSBpbiBkZWJvdW5jZWRPbkNoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVib3VuY2VkT25DaGFuZ2VbZGVib3VuY2VEZWxheV0gPSBkZWJvdW5jZShvbkNoYW5nZSwgZGVib3VuY2VEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZE9uQ2hhbmdlW2RlYm91bmNlRGVsYXldKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuYW1lXTogZmllbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9KTtcbiAgICByZXR1cm4gKDxkaXYgY3NzPXt7XG4gICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06ICd1cHBlcmNhc2UnLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGVtZS5jb2xvcnMudGV4dC5sYWJlbCxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5zaXplcy5zLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfX0+XG4gICAgICB7dXBkYXRlZENoaWxkcmVufVxuICAgIDwvZGl2Pik7XG59XG4iXX0= */\"), children:\n    updatedChildren }\n  );\n}__signature__(ControlForm, \"useTheme{theme}\\nuseMemo{debouncedOnChange}\", () => [useTheme]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ControlFormRow, \"ControlFormRow\", \"/app/superset-frontend/src/explore/components/controls/ColumnConfigControl/ControlForm/index.tsx\");reactHotLoader.register(ControlForm, \"ControlForm\", \"/app/superset-frontend/src/explore/components/controls/ColumnConfigControl/ControlForm/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["Children","cloneElement","useMemo","FAST_DEBOUNCE","useTheme","jsx","_jsx","ControlFormRow","children","gridUnit","css","_css","display","flexWrap","marginBottom","maxWidth","process","env","NODE_ENV","__signature__","ControlForm","onChange","value","theme","debouncedOnChange","_debounce","updatedChildren","map","row","props","defaultWidth","Array","isArray","length","undefined","item","name","width","debounceDelay","onItemValueChange","fieldValue","label","textTransform","color","colors","text","fontSize","typography","sizes","s","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/app/superset-frontend/src/explore/components/controls/ColumnConfigControl/ControlForm/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  Children,\n  cloneElement,\n  FunctionComponentElement,\n  useMemo,\n} from 'react';\nimport {\n  FAST_DEBOUNCE,\n  JsonObject,\n  JsonValue,\n  useTheme,\n} from '@superset-ui/core';\nimport { debounce } from 'lodash';\nimport { ControlFormItemNode } from './ControlFormItem';\n\nexport * from './ControlFormItem';\n\nexport type ControlFormRowProps = {\n  children: ControlFormItemNode | ControlFormItemNode[];\n};\n\nexport function ControlFormRow({ children }: ControlFormRowProps) {\n  const { gridUnit } = useTheme();\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexWrap: 'nowrap',\n        marginBottom: gridUnit,\n        maxWidth: '100%',\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\ntype ControlFormRowNode = FunctionComponentElement<ControlFormRowProps>;\n\nexport type ControlFormProps = {\n  /**\n   * Form field values dict.\n   */\n  value?: JsonObject;\n  onChange: (value: JsonObject) => void;\n  children: ControlFormRowNode | ControlFormRowNode[];\n};\n\n/**\n * Light weight form for control panel.\n */\nexport default function ControlForm({\n  onChange,\n  value,\n  children,\n}: ControlFormProps) {\n  const theme = useTheme();\n  const debouncedOnChange = useMemo(\n    () =>\n      ({\n        0: onChange,\n        [FAST_DEBOUNCE]: debounce(onChange, FAST_DEBOUNCE),\n      }) as Record<number, typeof onChange>,\n    [onChange],\n  );\n\n  const updatedChildren = Children.map(children, row => {\n    if ('children' in row.props) {\n      const defaultWidth = Array.isArray(row.props.children)\n        ? `${100 / row.props.children.length}%`\n        : undefined;\n      return cloneElement(row, {\n        children: Children.map(row.props.children, item => {\n          const {\n            name,\n            width,\n            debounceDelay = FAST_DEBOUNCE,\n            onChange: onItemValueChange,\n          } = item.props;\n          return cloneElement(item, {\n            width: width || defaultWidth,\n            value: value?.[name],\n            // remove `debounceDelay` from rendered control item props\n            // so React DevTools don't throw a `invalid prop` warning.\n            debounceDelay: undefined,\n            onChange(fieldValue: JsonValue) {\n              // call `onChange` on each FormItem\n              if (onItemValueChange) {\n                onItemValueChange(fieldValue);\n              }\n              // propagate to the form\n              if (!(debounceDelay in debouncedOnChange)) {\n                debouncedOnChange[debounceDelay] = debounce(\n                  onChange,\n                  debounceDelay,\n                );\n              }\n              debouncedOnChange[debounceDelay]({\n                ...value,\n                [name]: fieldValue,\n              });\n            },\n          });\n        }),\n      });\n    }\n    return row;\n  });\n  return (\n    <div\n      css={{\n        label: {\n          textTransform: 'uppercase',\n          color: theme.colors.text.label,\n          fontSize: theme.typography.sizes.s,\n        },\n      }}\n    >\n      {updatedChildren}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}