{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, useTheme } from '@superset-ui/core';\nimport { useMemo } from 'react';\nimport Icons from 'src/components/Icons';\nimport { DropdownButton } from 'src/components/DropdownButton';\nimport { Menu } from 'src/components/Menu';import { jsx as _jsx, jsxs as _jsxs } from \"@emotion/react/jsx-runtime\";\nconst { SubMenu } = Menu;\nconst StyledDropdownButton = styled(DropdownButton)`\n  button.ant-btn:first-of-type {\n    display: none;\n  }\n  > button.ant-btn:nth-of-type(2) {\n    display: inline-flex;\n    background-color: transparent !important;\n    height: unset;\n    padding: 0;\n    border: none;\n    width: auto !important;\n\n    .anticon {\n      line-height: 0;\n    }\n    &:after {\n      box-shadow: none !important;\n    }\n  }\n`;\nconst StyledMenu = styled(Menu)`\n  ${({ theme }) => `\n    .info {\n      font-size: ${theme.typography.sizes.s}px;\n      color: ${theme.colors.grayscale.base};\n      padding: ${theme.gridUnit}px ${theme.gridUnit * 3}px ${theme.gridUnit}px ${theme.gridUnit * 3}px;\n    }\n    .ant-dropdown-menu-item-selected {\n      color: ${theme.colors.grayscale.dark1};\n      background-color: ${theme.colors.primary.light5};\n    }\n  `}\n`;\nconst StyleMenuItem = styled(Menu.Item)`\n  display: flex;\n  justify-content: space-between;\n  > span {\n    width: 100%;\n  }\n  border-bottom: ${({ divider, theme }) => divider ? `1px solid ${theme.colors.grayscale.light3};` : 'none;'};\n`;\nconst StyleSubmenuItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  > span {\n    width: 100%;\n  }\n`;const _default =\n(props) => {\n  const theme = useTheme();\n  const { icon, info, menuItems, selectedKeys, onSelect } = props;\n  const menuItem = useMemo(() => (label, key, divider) => _jsx(StyleMenuItem, { divider: divider, children:\n    _jsxs(StyleSubmenuItem, { children: [\n      _jsx(\"span\", { children: label }),\n      (selectedKeys == null ? void 0 : selectedKeys.includes(key)) && _jsx(Icons.Check, { iconColor: theme.colors.primary.base, className: \"tick-menu-item\", iconSize: \"xl\" })] }\n    ) }, key\n  ), [selectedKeys, theme.colors.primary.base]);\n  const overlayMenu = useMemo(() => _jsxs(StyledMenu, { selectedKeys: selectedKeys, onSelect: onSelect, selectable: true, children: [\n    info && _jsx(\"div\", { className: \"info\", \"data-test\": \"dropdown-selectable-info\", children:\n      info }\n    ),\n    menuItems.map((m) => {var _m$children;return (_m$children = m.children) != null && _m$children.length ? _jsx(SubMenu, { title: m.label, \"data-test\": \"dropdown-selectable-icon-submenu\", children:\n        m.children.map((s) => menuItem(s.label, s.key)) }, m.key\n      ) : menuItem(m.label, m.key, m.divider);})] }\n  ), [selectedKeys, onSelect, info, menuItems, menuItem]);\n  return _jsx(StyledDropdownButton, { overlay: overlayMenu, trigger: ['click'], icon: icon });\n};__signature__(_default, \"useTheme{theme}\\nuseMemo{menuItem}\\nuseMemo{overlayMenu}\", () => [useTheme]);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SubMenu, \"SubMenu\", \"/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx\");reactHotLoader.register(StyledDropdownButton, \"StyledDropdownButton\", \"/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx\");reactHotLoader.register(StyledMenu, \"StyledMenu\", \"/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx\");reactHotLoader.register(StyleMenuItem, \"StyleMenuItem\", \"/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx\");reactHotLoader.register(StyleSubmenuItem, \"StyleSubmenuItem\", \"/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["styled","useTheme","useMemo","Icons","DropdownButton","Menu","jsx","_jsx","jsxs","_jsxs","SubMenu","StyledDropdownButton","StyledMenu","theme","typography","sizes","s","colors","grayscale","base","gridUnit","dark1","primary","light5","StyleMenuItem","Item","divider","light3","StyleSubmenuItem","div","_default","props","icon","info","menuItems","selectedKeys","onSelect","menuItem","label","key","children","includes","Check","iconColor","className","iconSize","overlayMenu","selectable","map","m","_m$children","length","title","overlay","trigger","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/app/superset-frontend/src/components/DropdownSelectableIcon/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { styled, useTheme } from '@superset-ui/core';\nimport { FC, RefObject, useMemo, ReactNode } from 'react';\nimport Icons from 'src/components/Icons';\nimport { DropdownButton } from 'src/components/DropdownButton';\nimport { DropdownButtonProps } from 'antd/lib/dropdown';\nimport { Menu, MenuProps } from 'src/components/Menu';\n\nconst { SubMenu } = Menu;\n\ntype SubMenuItemProps = { key: string; label: string | ReactNode };\n\nexport interface DropDownSelectableProps extends Pick<MenuProps, 'onSelect'> {\n  ref?: RefObject<HTMLDivElement>;\n  icon: ReactNode;\n  info?: string;\n  menuItems: {\n    key: string;\n    label: string | ReactNode;\n    children?: SubMenuItemProps[];\n    divider?: boolean;\n  }[];\n  selectedKeys?: string[];\n}\n\nconst StyledDropdownButton = styled(DropdownButton as FC<DropdownButtonProps>)`\n  button.ant-btn:first-of-type {\n    display: none;\n  }\n  > button.ant-btn:nth-of-type(2) {\n    display: inline-flex;\n    background-color: transparent !important;\n    height: unset;\n    padding: 0;\n    border: none;\n    width: auto !important;\n\n    .anticon {\n      line-height: 0;\n    }\n    &:after {\n      box-shadow: none !important;\n    }\n  }\n`;\n\nconst StyledMenu = styled(Menu)`\n  ${({ theme }) => `\n    .info {\n      font-size: ${theme.typography.sizes.s}px;\n      color: ${theme.colors.grayscale.base};\n      padding: ${theme.gridUnit}px ${theme.gridUnit * 3}px ${\n        theme.gridUnit\n      }px ${theme.gridUnit * 3}px;\n    }\n    .ant-dropdown-menu-item-selected {\n      color: ${theme.colors.grayscale.dark1};\n      background-color: ${theme.colors.primary.light5};\n    }\n  `}\n`;\n\nconst StyleMenuItem = styled(Menu.Item)<{ divider?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  > span {\n    width: 100%;\n  }\n  border-bottom: ${({ divider, theme }) =>\n    divider ? `1px solid ${theme.colors.grayscale.light3};` : 'none;'};\n`;\n\nconst StyleSubmenuItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  > span {\n    width: 100%;\n  }\n`;\n\nexport default (props: DropDownSelectableProps) => {\n  const theme = useTheme();\n  const { icon, info, menuItems, selectedKeys, onSelect } = props;\n  const menuItem = useMemo(\n    () => (label: string | ReactNode, key: string, divider?: boolean) => (\n      <StyleMenuItem key={key} divider={divider}>\n        <StyleSubmenuItem>\n          <span>{label}</span>\n          {selectedKeys?.includes(key) && (\n            <Icons.Check\n              iconColor={theme.colors.primary.base}\n              className=\"tick-menu-item\"\n              iconSize=\"xl\"\n            />\n          )}\n        </StyleSubmenuItem>\n      </StyleMenuItem>\n    ),\n    [selectedKeys, theme.colors.primary.base],\n  );\n\n  const overlayMenu = useMemo(\n    () => (\n      <StyledMenu selectedKeys={selectedKeys} onSelect={onSelect} selectable>\n        {info && (\n          <div className=\"info\" data-test=\"dropdown-selectable-info\">\n            {info}\n          </div>\n        )}\n        {menuItems.map(m =>\n          m.children?.length ? (\n            <SubMenu\n              title={m.label}\n              key={m.key}\n              data-test=\"dropdown-selectable-icon-submenu\"\n            >\n              {m.children.map(s => menuItem(s.label, s.key))}\n            </SubMenu>\n          ) : (\n            menuItem(m.label, m.key, m.divider)\n          ),\n        )}\n      </StyledMenu>\n    ),\n    [selectedKeys, onSelect, info, menuItems, menuItem],\n  );\n\n  return (\n    <StyledDropdownButton\n      overlay={overlayMenu}\n      trigger={['click']}\n      icon={icon}\n    />\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}